<div class="action-buttons">
    <button mat-button (click)="accordion.openAll()">Expandir todo</button>
    <button mat-button (click)="accordion.closeAll()">Retraer todo</button>
</div>
  <mat-accordion class="headers-align" multi>
    <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Detalles de factura
          </mat-panel-title>
          <mat-panel-description>
            Información acerca de la factura
          </mat-panel-description>
        </mat-expansion-panel-header>
        <div *ngIf="FacturaCabeza" class="row">
            <table *ngFor="let Fac of FacturaCabeza" text_align='Center'  width='100%'>
                
                <tr>
                    <td text_align='left' width="35%"><strong>Factura</strong>: {{Fac.factura}} </td>
                    <td text_align='left'><strong>Estado</strong>: {{Fac.estado}} </td>
                    <td text_align='left'><strong>Custodia</strong>: {{Fac.custodia}}</td>
                </tr>
                <tr>
                    <td text_align='left'><strong>Aliado</strong>: {{Fac.nom_cli}}</td>
                    <td text_align='left'><strong>Ingresada en agencia</strong>: {{Fac.nom_suc}} &nbsp;</td>
                    <td text_align='left'><strong>Destinatario</strong>: {{Fac.destinatario_cli}}</td>
                </tr>
                <tr>
                    <td text_align='left'><strong>Doc. referencia</strong>: {{Fac.cartaporte}}</td>
                    <td text_align='left'><strong>Fecha factura</strong>: {{Fac.fecha_fac}}</td>
                    <td text_align='left'><strong>Fecha Recibo en Bodega</strong>: {{Fac.fecha_rec}}</td>
                </tr>
                <tr>
                    <td text_align='left'><strong>Manifiesto [&uacute;ltimo generado]</strong>: {{Fac.manifiesto}} </td>
                    <td text_align='left'><strong>Estado actual del manifiesto</strong>: {{Fac.Estado_Manifiesto}}</td>
                    <td text_align='left'><strong>Fecha de entrega[{{Fac.manifiesto}}]</strong>:{{Fac.fecha_de_entrega}}</td>
                </tr>
            </table>
        </div>
        
    </mat-expansion-panel>

    <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Detalles de masivo
          </mat-panel-title>
          <mat-panel-description>
            Información del vehiculo recibido
          </mat-panel-description>
        </mat-expansion-panel-header>
    
        <table mat-table [dataSource]="MasivoFac" class="mat-elevation-z8">

            <ng-container matColumnDef="ossm">
              <th mat-header-cell *matHeaderCellDef>Ossm</th>
              <td mat-cell *matCellDef="let element"> {{element.ossm}} </td>
            </ng-container>
          
            <ng-container matColumnDef="origen">
              <th mat-header-cell *matHeaderCellDef> Origen </th>
              <td mat-cell *matCellDef="let element"> {{element.origen}} </td>
            </ng-container>
          
            <ng-container matColumnDef="fecha">
              <th mat-header-cell *matHeaderCellDef> Fecha </th>
              <td mat-cell *matCellDef="let element"> {{element.salida}} </td>
            </ng-container>
          
            <ng-container matColumnDef="placa">
              <th mat-header-cell *matHeaderCellDef> Placa </th>
              <td mat-cell *matCellDef="let element"> {{element.placa}} </td>
            </ng-container>

            <ng-container matColumnDef="tipo">
                <th mat-header-cell *matHeaderCellDef> Tipo vehiculo </th>
                <td mat-cell *matCellDef="let element"> {{element.tipo_vehiculo}} </td>
            </ng-container>

            <ng-container matColumnDef="conductor">
                <th mat-header-cell *matHeaderCellDef> Conductor </th>
                <td mat-cell *matCellDef="let element"> {{element.conductor}} </td>
            </ng-container>
          
            <tr mat-header-row *matHeaderRowDef="displayedColumnsOssm"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumnsOssm;"></tr>
          </table>
    </mat-expansion-panel>

    <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Pedidos generados
          </mat-panel-title>
          <mat-panel-description>
            Información de pedidos asociados ({{PedidosFac.length}})
          </mat-panel-description>
        </mat-expansion-panel-header>
    
        <table mat-table [dataSource]="PedidosFac" class="mat-elevation-z8">

            <ng-container matColumnDef="oc">
              <th mat-header-cell *matHeaderCellDef>O.C</th>
              <td mat-cell *matCellDef="let element"> {{element.orden_carga}} </td>
            </ng-container>
          
            <ng-container matColumnDef="pedido">
              <th mat-header-cell *matHeaderCellDef> Pedido </th>
              <td mat-cell *matCellDef="let element"> {{element.pedido}} </td>
            </ng-container>
          
            <ng-container matColumnDef="cartaporte">
              <th mat-header-cell *matHeaderCellDef> Cartaporte </th>
              <td mat-cell *matCellDef="let element"> {{element.documento_ref}} </td>
            </ng-container>
          
            <ng-container matColumnDef="fecha">
              <th mat-header-cell *matHeaderCellDef> Fecha </th>
              <td mat-cell *matCellDef="let element"> {{element.fecha_pedido}} </td>
            </ng-container>

            <ng-container matColumnDef="cajas">
                <th mat-header-cell *matHeaderCellDef> Cajas </th>
                <td mat-cell *matCellDef="let element"> {{element.cajas}} </td>
            </ng-container>

            <ng-container matColumnDef="peso">
                <th mat-header-cell *matHeaderCellDef> Peso </th>
                <td mat-cell *matCellDef="let element"> {{element.peso}} </td>
            </ng-container>

            <ng-container matColumnDef="vol">
                <th mat-header-cell *matHeaderCellDef> Vol. </th>
                <td mat-cell *matCellDef="let element"> {{element.vol}} </td>
            </ng-container>

            <ng-container matColumnDef="bodega">
                <th mat-header-cell *matHeaderCellDef> Bodega </th>
                <td mat-cell *matCellDef="let element"> {{element.cod_bodega}} </td>
            </ng-container>

            <ng-container matColumnDef="fecha_cita">
                <th mat-header-cell *matHeaderCellDef> Fecha cita </th>
                <td mat-cell *matCellDef="let element"> {{element.fecha_ent_cliente}} </td>
            </ng-container>

            <ng-container matColumnDef="program">
                <th mat-header-cell *matHeaderCellDef> Programado </th>
                <td mat-cell *matCellDef="let element"> {{element.programado}} </td>
            </ng-container>

            <ng-container matColumnDef="usuario">
                <th mat-header-cell *matHeaderCellDef> Usuario prog. </th>
                <td mat-cell *matCellDef="let element"> {{element.usuario_prog}} </td>
            </ng-container>

            <ng-container matColumnDef="anulo">
                <th mat-header-cell *matHeaderCellDef> Anulado </th>
                <td mat-cell *matCellDef="let element"> {{element.conductor}} </td>
            </ng-container>

            <ng-container matColumnDef="odanula">
                <th mat-header-cell *matHeaderCellDef> OD anulada </th>
                <td mat-cell *matCellDef="let element"> {{element.OD_anulado}} </td>
            </ng-container>
          
            <ng-container matColumnDef="usuanod">
                <th mat-header-cell *matHeaderCellDef> Usu anula OD  </th>
                <td mat-cell *matCellDef="let element"> {{element.usuario_anula}} </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumnsPed"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumnsPed;"></tr>
          </table>
    </mat-expansion-panel>

    <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Ordenes de despacho
          </mat-panel-title>
          <mat-panel-description>
            Información de ordenes de despacho
          </mat-panel-description>
        </mat-expansion-panel-header>
    
        <table  mat-table [dataSource]="OrdenesDes"  >

            <ng-container matColumnDef="manifiesto">
                <th mat-header-cell *matHeaderCellDef>Manifiesto</th>
                <td mat-cell *matCellDef="let element"> {{element.cod_manifi}} </td>
            </ng-container>

            <ng-container matColumnDef="oc">
              <th mat-header-cell *matHeaderCellDef>O.C</th>
              <td mat-cell *matCellDef="let element"> {{element.OC}} </td>
            </ng-container>
          
            <ng-container matColumnDef="fecha_oc">
              <th mat-header-cell *matHeaderCellDef> Fecha O.C </th>
              <td mat-cell *matCellDef="let element"> {{element.fechaOC}} </td>
            </ng-container>
          
            <ng-container matColumnDef="od">
                <th mat-header-cell *matHeaderCellDef>O.D</th>
                <td mat-cell *matCellDef="let element"> {{element.OD}} </td>
              </ng-container>
            
              <ng-container matColumnDef="fecha_od">
                <th mat-header-cell *matHeaderCellDef> Fecha O.D </th>
                <td mat-cell *matCellDef="let element"> {{element.fechaOD}} </td>
              </ng-container>

            <ng-container matColumnDef="remesa">
              <th mat-header-cell *matHeaderCellDef> Remesa </th>
              <td mat-cell *matCellDef="let element"> {{element.remesa}} </td>
            </ng-container>
          
            <ng-container matColumnDef="placa">
              <th mat-header-cell *matHeaderCellDef> Placa </th>
              <td mat-cell *matCellDef="let element"> {{element.placa}} </td>
            </ng-container>
            
            <ng-container matColumnDef="destino">
                <th mat-header-cell *matHeaderCellDef> Destino </th>
                <td mat-cell *matCellDef="let element"> {{element.destino}} </td>
            </ng-container>

            <ng-container matColumnDef="cajas">
                <th mat-header-cell *matHeaderCellDef> Cajas </th>
                <td mat-cell *matCellDef="let element"> {{element.cajas}} </td>
            </ng-container>

            <ng-container matColumnDef="planillador">
                <th mat-header-cell *matHeaderCellDef> Planillador </th>
                <td mat-cell *matCellDef="let element"> {{element.usuario}} </td>
            </ng-container>

            <ng-container matColumnDef="despachador">
                <th mat-header-cell *matHeaderCellDef> Despachador </th>
                <td mat-cell *matCellDef="let element"> {{element.despachador}} </td>
            </ng-container>

            <ng-container matColumnDef="anulo">
                <th mat-header-cell *matHeaderCellDef> Anulado </th>
                <td mat-cell *matCellDef="let element"> {{element.anula}} </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumnsOd"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumnsOd;"></tr>
          </table>
    </mat-expansion-panel>

    <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Novedades
          </mat-panel-title>
          <mat-panel-description>
            Información novedades de factura
          </mat-panel-description>
        </mat-expansion-panel-header>
    
        <table  mat-table [dataSource]="Novedades"  >

            <ng-container matColumnDef="manifiesto">
                <th mat-header-cell *matHeaderCellDef>Manifiesto</th>
                <td mat-cell *matCellDef="let element"> {{element.cod_manifi}} </td>
            </ng-container>

            <ng-container matColumnDef="oc">
              <th mat-header-cell *matHeaderCellDef>O.C</th>
              <td mat-cell *matCellDef="let element"> {{element.OC}} </td>
            </ng-container>
          
            <ng-container matColumnDef="novedad">
            <th mat-header-cell *matHeaderCellDef> Novedad</th>
              <td mat-cell *matCellDef="let element"> {{element.codnov}} - {{element.novedad}} </td>
            </ng-container>
          
            <ng-container matColumnDef="inicio">
                <th mat-header-cell *matHeaderCellDef>Inicio</th>
                <td mat-cell *matCellDef="let element"> {{element.fecnov}} </td>
              </ng-container>
            
              <ng-container matColumnDef="fin">
                <th mat-header-cell *matHeaderCellDef> Fin </th>
                <td mat-cell *matCellDef="let element"> {{element.fecha_cierre}} </td>
              </ng-container>

            <ng-container matColumnDef="tipo">
              <th mat-header-cell *matHeaderCellDef> Tipo </th>
              <td mat-cell *matCellDef="let element"> {{element.tipo_novedad}} </td>
            </ng-container>

            <ng-container matColumnDef="cajas">
                <th mat-header-cell *matHeaderCellDef> Cajas </th>
                <td mat-cell *matCellDef="let element"> {{element.cajas_ajus}} </td>
            </ng-container>

            <ng-container matColumnDef="estado">
                <th mat-header-cell *matHeaderCellDef> estado </th>
                <td mat-cell *matCellDef="let element"> {{element.cierre_solucion}} </td>
            </ng-container>

         

            <tr mat-header-row *matHeaderRowDef="displayedColumnsNov"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumnsNov;"></tr>
        </table>

        <table  mat-table [dataSource]="NovedadesConf"  >

            <ng-container matColumnDef="manifiesto">
                <th mat-header-cell *matHeaderCellDef>Manifiesto</th>
                <td mat-cell *matCellDef="let element"> {{element.cod_manifi}} </td>
            </ng-container>

            <ng-container matColumnDef="oc">
              <th mat-header-cell *matHeaderCellDef>O.C</th>
              <td mat-cell *matCellDef="let element"> {{element.OC}} </td>
            </ng-container>
          
            <ng-container matColumnDef="confnovedad">
            <th mat-header-cell *matHeaderCellDef> Confirmacion novedades</th>
              <td mat-cell *matCellDef="let element"> {{element.codnov}} - {{element.novedad}} </td>
            </ng-container>
          
            <ng-container matColumnDef="inicio">
                <th mat-header-cell *matHeaderCellDef>Inicio</th>
                <td mat-cell *matCellDef="let element"> {{element.fecnov}} </td>
              </ng-container>
            
              <ng-container matColumnDef="fin">
                <th mat-header-cell *matHeaderCellDef> Fin </th>
                <td mat-cell *matCellDef="let element"> {{element.fecha_cierre}} </td>
              </ng-container>

            <ng-container matColumnDef="tipo">
              <th mat-header-cell *matHeaderCellDef> Tipo </th>
              <td mat-cell *matCellDef="let element"> AJN</td>
            </ng-container>

            <ng-container matColumnDef="cajas">
                <th mat-header-cell *matHeaderCellDef> Cajas </th>
                <td mat-cell *matCellDef="let element"> {{element.cajas_ajus}} </td>
            </ng-container>

            <ng-container matColumnDef="unidades">
                <th mat-header-cell *matHeaderCellDef> Unidades </th>
                <td mat-cell *matCellDef="let element"> {{element.cajas_ajus}} </td>
            </ng-container>

            <ng-container matColumnDef="estado">
                <th mat-header-cell *matHeaderCellDef> estado </th>
                <td mat-cell *matCellDef="let element"> {{element.cierre_solucion}} </td>
            </ng-container>

            <ng-container matColumnDef="solucion">
                <th mat-header-cell *matHeaderCellDef> Solucion Nov. </th>
                <td mat-cell *matCellDef="let element"> {{element.cajas_ajus}} </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumnsNovConf"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumnsNovConf;"></tr>
        </table>
    </mat-expansion-panel>

    <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Cumplidos
          </mat-panel-title>
          <mat-panel-description>
            Información de cumplidos
          </mat-panel-description>
        </mat-expansion-panel-header>
    
        <table  mat-table [dataSource]="Cumplidos"  >

            <ng-container matColumnDef="manifiesto">
                <th mat-header-cell *matHeaderCellDef>Manifiesto</th>
                <td mat-cell *matCellDef="let element"> {{element.cod_manifi}} </td>
            </ng-container>

            <ng-container matColumnDef="remesa">
              <th mat-header-cell *matHeaderCellDef> Remesa </th>
              <td mat-cell *matCellDef="let element"> {{element.remesa}} </td>
            </ng-container>

            <ng-container matColumnDef="fecha">
              <th mat-header-cell *matHeaderCellDef> Fecha cumpl.</th>
              <td mat-cell *matCellDef="let element"> {{element.feccumldsp}} </td>
            </ng-container>
          
            <ng-container matColumnDef="usuario">
                <th mat-header-cell *matHeaderCellDef>Usuario</th>
                <td mat-cell *matCellDef="let element"> {{element.usuario}} </td>
            </ng-container>
            
            <ng-container matColumnDef="fecha_sist">
                <th mat-header-cell *matHeaderCellDef> Fecha sist.</th>
                <td mat-cell *matCellDef="let element"> {{element.fecsistema}} </td>
            </ng-container>

            <ng-container matColumnDef="fecha_envio">
              <th mat-header-cell *matHeaderCellDef> Fecha envio </th>
              <td mat-cell *matCellDef="let element"> {{element.fecha}} </td>
            </ng-container>
            
            <ng-container matColumnDef="factura">
                <th mat-header-cell *matHeaderCellDef> Factura LDSP </th>
                <td mat-cell *matCellDef="let element"> {{element.factura}} </td>
            </ng-container>

            <ng-container matColumnDef="comentario">
                <th mat-header-cell *matHeaderCellDef> Comentario </th>
                <td mat-cell *matCellDef="let element"> {{element.comentario}} </td>
            </ng-container>

            
            <tr mat-header-row *matHeaderRowDef="displayedColumnsCum"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumnsCum;"></tr>
          </table>
    </mat-expansion-panel>

    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Imagenes escaneadas
        </mat-panel-title>
        <mat-panel-description>
          Consulte las imagenes asociadas ({{Images.length}})
        </mat-panel-description>
      </mat-expansion-panel-header>
      <app-imglist [images]="Images" ></app-imglist>
    </mat-expansion-panel>

    

  </mat-accordion>
