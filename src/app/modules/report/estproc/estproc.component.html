<div class="container text-center">
    <mat-accordion  multi>
        <mat-expansion-panel>
            <mat-expansion-panel-header>               
            </mat-expansion-panel-header>
            <mat-card tyle="padding-top: 0px;">
                <mat-card-header>
                    <div mat-card-avatar>
                        <span class="material-icons">
                            list
                        </span>
                    </div>
                    <mat-card-title>Consulta Procesos Servidor Integracion OTM</mat-card-title>
                </mat-card-header>

                <mat-divider></mat-divider>
       
                <mat-card-content style="margin-top: 20px;">
                    
                    <div class="container">
                       

                        <div class="row">
                            <div class="col" style="padding-left: 35px;">
                                <div class="row">
                                    <div  class="col">
                                        <button (click)="onSearch()"  style="height: 40px;" mat-raised-button color="primary" >
                                            <span class="material-icons">
                                                search
                                            </span>
                                            Consultar
                                        </button>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                    <br>
                </mat-card-content>
            </mat-card>
        </mat-expansion-panel>
    </mat-accordion>
        
    
    <div class="text-center">
        <h2>{{label}}</h2>
        <mat-progress-bar *ngIf="progressbar" mode="query"></mat-progress-bar>
    </div>
    
    <div class="container1">
        <div class="loading-shade" *ngIf="isLoading">
            <mat-spinner *ngIf="isLoading"></mat-spinner>
        </div>

        <section class="table-container mat-elevation-z8" tabindex="0">
            <table  mat-table matTableExporter [dataSource]="datasource" #table="matTable" #exporter="matTableExporter">

                <ng-container  matColumnDef="nombre_proceso">
                    <th mat-header-cell *matHeaderCellDef>NOMBRE_PROCESO</th>
                    <td mat-cell *matCellDef="let element"> {{element.nombre_proceso}} </td>
                </ng-container>
    
                <ng-container matColumnDef="id_proceso">
                  <th mat-header-cell *matHeaderCellDef>ID_PROCESO</th>
                  <td mat-cell *matCellDef="let element"> {{element.id_proceso}} </td>
                </ng-container>
              
                <ng-container matColumnDef="cantidad">
                <th mat-header-cell *matHeaderCellDef> CANTIDAD</th>
                  <td mat-cell *matCellDef="let element"> {{element.cantidad}} </td>
                </ng-container>
              
                <ng-container matColumnDef="fecha_consulta">
                    <th mat-header-cell *matHeaderCellDef>FECHA CONSULTA</th>
                    <td mat-cell *matCellDef="let element"> {{element.fecha_consulta}} </td>
                  </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns;sticky: true"></tr>
    
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>


        </section>
        <!-- <app-charts-widget1 *ngIf="datos.length>0" tipo="bar" [categorias]="categorias" [valores]="valores" nombre="Transmisiones" class="card card-xl-stretch mb-xl-8">
        </app-charts-widget1> -->

        <mat-accordion  multi>
            <mat-expansion-panel>
                <mat-expansion-panel-header>
                    Historial de transmisiones.               
                </mat-expansion-panel-header>
                <div class="row">
                    <div class="col" style="padding-left: 35px;">
                        <div class="row">
                            <div  class="col">
                                <button (click)="historialTransmisiones()"  style="height: 40px;" mat-raised-button color="primary" >
                                    <span class="material-icons">
                                        search
                                    </span>
                                    Consultar Historial
                                </button>
                            </div>

                        </div>
                    </div>
                </div>

            </mat-expansion-panel>
        </mat-accordion>
    </div>

        <div class="text-center">
            <h2>{{label}}</h2>
            <mat-progress-bar *ngIf="progressbar2" mode="query"></mat-progress-bar>
        </div>

         <section class="table-container mat-elevation-z8" tabindex="0">
            <table  mat-table matTableExporter [dataSource]="datasource1" #table="matTable" #exporter="matTableExporter">

                <ng-container  matColumnDef="fecha">
                    <th mat-header-cell *matHeaderCellDef>FECHA_HORA</th>
                    <td mat-cell *matCellDef="let element"> {{element.fecha}} </td>
                </ng-container>
    
                <ng-container matColumnDef="cantidad">
                  <th mat-header-cell *matHeaderCellDef>CANTIDAD</th>
                  <td mat-cell *matCellDef="let element"> {{element.cantidad}} </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns1;sticky: true"></tr>
    
                <tr mat-row *matRowDef="let row; columns: displayedColumns1;"></tr>
            </table>


        </section>
        
        <!-- <app-mixed-widget6 nombre="Historial" [categorias]="categorias2" [valores]="valores2" chartColor="primary" >
        </app-mixed-widget6> -->
  
</div>
