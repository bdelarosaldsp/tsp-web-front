var ft=Object.defineProperty,pt=Object.defineProperties,gt=Object.getOwnPropertyDescriptors,et=Object.getOwnPropertySymbols,_t=Object.prototype.hasOwnProperty,mt=Object.prototype.propertyIsEnumerable,Xe=(de,M,re)=>M in de?ft(de,M,{enumerable:!0,configurable:!0,writable:!0,value:re}):de[M]=re,$e=(de,M)=>{for(var re in M||(M={}))_t.call(M,re)&&Xe(de,re,M[re]);if(et)for(var re of et(M))mt.call(M,re)&&Xe(de,re,M[re]);return de},Ye=(de,M)=>pt(de,gt(M)),We=(de,M,re)=>(Xe(de,"symbol"!=typeof M?M+"":M,re),re),Qe=(de,M,re)=>{if(!M.has(de))throw TypeError("Cannot "+re)},Ae=(de,M,re)=>(Qe(de,M,"read from private field"),re?re.call(de):M.get(de)),ve=(de,M,re)=>{if(M.has(de))throw TypeError("Cannot add the same private member more than once");M instanceof WeakSet?M.add(de):M.set(de,re)},Te=(de,M,re,b)=>(Qe(de,M,"write to private field"),b?b.call(de,re):M.set(de,re),re),tt=(de,M,re,b)=>({set _(he){Te(de,M,he,re)},get _(){return Ae(de,M,b)}}),ye=(de,M,re)=>(Qe(de,M,"access private method"),re);(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[490],{6036:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(8926).default,re;re=()=>(()=>{"use strict";var __webpack_modules__=[,(de,M,re)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.VerbosityLevel=M.Util=M.UnknownErrorException=M.UnexpectedResponseException=M.UNSUPPORTED_FEATURES=M.TextRenderingMode=M.StreamType=M.RenderingIntentFlag=M.PermissionFlag=M.PasswordResponses=M.PasswordException=M.PageActionEventType=M.OPS=M.MissingPDFException=M.InvalidPDFException=M.ImageKind=M.IDENTITY_MATRIX=M.FormatError=M.FontType=M.FeatureTest=M.FONT_IDENTITY_MATRIX=M.DocumentActionEventType=M.CMapCompressionType=M.BaseException=M.AnnotationType=M.AnnotationStateModelType=M.AnnotationReviewState=M.AnnotationReplyType=M.AnnotationMode=M.AnnotationMarkedState=M.AnnotationFlag=M.AnnotationFieldFlag=M.AnnotationBorderStyleType=M.AnnotationActionEventType=M.AbortException=void 0,M.arrayByteLength=j,M.arraysToBytes=function V(Z){const k=Z.length;if(1===k&&Z[0]instanceof Uint8Array)return Z[0];let R=0;for(let pe=0;pe<k;pe++)R+=j(Z[pe]);let se=0;const ce=new Uint8Array(R);for(let pe=0;pe<k;pe++){let ge=Z[pe];ge instanceof Uint8Array||(ge="string"==typeof ge?B(ge):new Uint8Array(ge));const Pe=ge.byteLength;ce.set(ge,se),se+=Pe}return ce},M.assert=function z(Z,k){Z||I(k)},M.bytesToString=function x(Z){("object"!=typeof Z||null===Z||void 0===Z.length)&&I("Invalid argument for bytesToString");const k=Z.length,R=8192;if(k<R)return String.fromCharCode.apply(null,Z);const se=[];for(let ce=0;ce<k;ce+=R){const pe=Math.min(ce+R,k),ge=Z.subarray(ce,pe);se.push(String.fromCharCode.apply(null,ge))}return se.join("")},M.createPromiseCapability=function Ee(){const Z=Object.create(null);let k=!1;return Object.defineProperty(Z,"settled",{get:()=>k}),Z.promise=new Promise(function(R,se){Z.resolve=function(ce){k=!0,R(ce)},Z.reject=function(ce){k=!0,se(ce)}}),Z},M.createValidAbsoluteUrl=function te(Z,k=null,R=null){if(!Z)return null;try{if(R&&"string"==typeof Z){if(R.addDefaultProtocol&&Z.startsWith("www.")){const ce=Z.match(/\./g);ce&&ce.length>=2&&(Z=`http://${Z}`)}if(R.tryConvertEncoding)try{Z=fe(Z)}catch(ce){}}const se=k?new URL(Z,k):new URL(Z);if(function $(Z){if(!Z)return!1;switch(Z.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(se))return se}catch(se){}return null},M.escapeString=function G(Z){return Z.replace(/([()\\\n\r])/g,k=>"\n"===k?"\\n":"\r"===k?"\\r":`\\${k}`)},M.getModificationDate=function Ce(Z=new Date){return[Z.getUTCFullYear().toString(),(Z.getUTCMonth()+1).toString().padStart(2,"0"),Z.getUTCDate().toString().padStart(2,"0"),Z.getUTCHours().toString().padStart(2,"0"),Z.getUTCMinutes().toString().padStart(2,"0"),Z.getUTCSeconds().toString().padStart(2,"0")].join("")},M.getVerbosityLevel=function U(){return F},M.info=function H(Z){F>=p.INFOS&&console.log(`Info: ${Z}`)},M.isArrayBuffer=function be(Z){return"object"==typeof Z&&null!==Z&&void 0!==Z.byteLength},M.isArrayEqual=function Se(Z,k){if(Z.length!==k.length)return!1;for(let R=0,se=Z.length;R<se;R++)if(Z[R]!==k[R])return!1;return!0},M.isAscii=function ue(Z){return/^[\x00-\x7F]*$/.test(Z)},M.objectFromMap=function Y(Z){const k=Object.create(null);for(const[R,se]of Z)k[R]=se;return k},M.objectSize=function q(Z){return Object.keys(Z).length},M.setVerbosityLevel=function N(Z){Number.isInteger(Z)&&(F=Z)},M.shadow=ae,M.string32=function W(Z){return String.fromCharCode(Z>>24&255,Z>>16&255,Z>>8&255,255&Z)},M.stringToBytes=B,M.stringToPDFString=function D(Z){if(Z[0]>="\xef"){let R;if("\xfe"===Z[0]&&"\xff"===Z[1]?R="utf-16be":"\xff"===Z[0]&&"\xfe"===Z[1]?R="utf-16le":"\xef"===Z[0]&&"\xbb"===Z[1]&&"\xbf"===Z[2]&&(R="utf-8"),R)try{const se=new TextDecoder(R,{fatal:!0}),ce=B(Z);return se.decode(ce)}catch(se){X(`stringToPDFString: "${se}".`)}}const k=[];for(let R=0,se=Z.length;R<se;R++){const ce=C[Z.charCodeAt(R)];k.push(ce?String.fromCharCode(ce):Z.charAt(R))}return k.join("")},M.stringToUTF16BEString=function le(Z){const k=["\xfe\xff"];for(let R=0,se=Z.length;R<se;R++){const ce=Z.charCodeAt(R);k.push(String.fromCharCode(ce>>8&255),String.fromCharCode(255&ce))}return k.join("")},M.stringToUTF8String=fe,M.unreachable=I,M.utf8StringToString=function me(Z){return unescape(encodeURIComponent(Z))},M.warn=X,re(2),M.IDENTITY_MATRIX=[1,0,0,1,0,0],M.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],M.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},M.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},M.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},M.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},M.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},M.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},M.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},M.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},M.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},M.AnnotationReplyType={GROUP:"Group",REPLY:"R"},M.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},M.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},M.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},M.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},M.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},M.PageActionEventType={O:"PageOpen",C:"PageClose"},M.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},M.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const p={ERRORS:0,WARNINGS:1,INFOS:5};M.VerbosityLevel=p,M.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},M.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},M.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},M.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let F=p.WARNINGS;function X(Z){F>=p.WARNINGS&&console.log(`Warning: ${Z}`)}function I(Z){throw new Error(Z)}function ae(Z,k,R){return Object.defineProperty(Z,k,{value:R,enumerable:!0,configurable:!0,writable:!1}),R}const T=function(){function k(R,se){this.constructor===k&&I("Cannot initialize BaseException."),this.message=R,this.name=se}return k.prototype=new Error,k.constructor=k,k}();function B(Z){"string"!=typeof Z&&I("Invalid argument for stringToBytes");const k=Z.length,R=new Uint8Array(k);for(let se=0;se<k;++se)R[se]=255&Z.charCodeAt(se);return R}function j(Z){return void 0!==Z.length?Z.length:void 0!==Z.byteLength?Z.byteLength:void I("Invalid argument for arrayByteLength")}M.BaseException=T,M.PasswordException=class a extends T{constructor(k,R){super(k,"PasswordException"),this.code=R}},M.UnknownErrorException=class h extends T{constructor(k,R){super(k,"UnknownErrorException"),this.details=R}},M.InvalidPDFException=class n extends T{constructor(k){super(k,"InvalidPDFException")}},M.MissingPDFException=class l extends T{constructor(k){super(k,"MissingPDFException")}},M.UnexpectedResponseException=class d extends T{constructor(k,R){super(k,"UnexpectedResponseException"),this.status=R}},M.FormatError=class v extends T{constructor(k){super(k,"FormatError")}},M.AbortException=class A extends T{constructor(k){super(k,"AbortException")}},M.FeatureTest=class K{static get isLittleEndian(){return ae(this,"isLittleEndian",function oe(){const Z=new Uint8Array(4);return Z[0]=1,1===new Uint32Array(Z.buffer,0,1)[0]}())}static get isEvalSupported(){return ae(this,"isEvalSupported",function _e(){try{return new Function(""),!0}catch(Z){return!1}}())}static get isOffscreenCanvasSupported(){return ae(this,"isOffscreenCanvasSupported","undefined"!=typeof OffscreenCanvas)}};const ie=[...Array(256).keys()].map(Z=>Z.toString(16).padStart(2,"0"));class ne{static makeHexColor(k,R,se){return`#${ie[k]}${ie[R]}${ie[se]}`}static scaleMinMax(k,R){let se;k[0]?(k[0]<0&&(se=R[0],R[0]=R[1],R[1]=se),R[0]*=k[0],R[1]*=k[0],k[3]<0&&(se=R[2],R[2]=R[3],R[3]=se),R[2]*=k[3],R[3]*=k[3]):(se=R[0],R[0]=R[2],R[2]=se,se=R[1],R[1]=R[3],R[3]=se,k[1]<0&&(se=R[2],R[2]=R[3],R[3]=se),R[2]*=k[1],R[3]*=k[1],k[2]<0&&(se=R[0],R[0]=R[1],R[1]=se),R[0]*=k[2],R[1]*=k[2]),R[0]+=k[4],R[1]+=k[4],R[2]+=k[5],R[3]+=k[5]}static transform(k,R){return[k[0]*R[0]+k[2]*R[1],k[1]*R[0]+k[3]*R[1],k[0]*R[2]+k[2]*R[3],k[1]*R[2]+k[3]*R[3],k[0]*R[4]+k[2]*R[5]+k[4],k[1]*R[4]+k[3]*R[5]+k[5]]}static applyTransform(k,R){return[k[0]*R[0]+k[1]*R[2]+R[4],k[0]*R[1]+k[1]*R[3]+R[5]]}static applyInverseTransform(k,R){const se=R[0]*R[3]-R[1]*R[2];return[(k[0]*R[3]-k[1]*R[2]+R[2]*R[5]-R[4]*R[3])/se,(-k[0]*R[1]+k[1]*R[0]+R[4]*R[1]-R[5]*R[0])/se]}static getAxialAlignedBoundingBox(k,R){const se=ne.applyTransform(k,R),ce=ne.applyTransform(k.slice(2,4),R),pe=ne.applyTransform([k[0],k[3]],R),ge=ne.applyTransform([k[2],k[1]],R);return[Math.min(se[0],ce[0],pe[0],ge[0]),Math.min(se[1],ce[1],pe[1],ge[1]),Math.max(se[0],ce[0],pe[0],ge[0]),Math.max(se[1],ce[1],pe[1],ge[1])]}static inverseTransform(k){const R=k[0]*k[3]-k[1]*k[2];return[k[3]/R,-k[1]/R,-k[2]/R,k[0]/R,(k[2]*k[5]-k[4]*k[3])/R,(k[4]*k[1]-k[5]*k[0])/R]}static apply3dTransform(k,R){return[k[0]*R[0]+k[1]*R[1]+k[2]*R[2],k[3]*R[0]+k[4]*R[1]+k[5]*R[2],k[6]*R[0]+k[7]*R[1]+k[8]*R[2]]}static singularValueDecompose2dScale(k){const R=[k[0],k[2],k[1],k[3]],se=k[0]*R[0]+k[1]*R[2],ge=k[2]*R[1]+k[3]*R[3],Pe=(se+ge)/2,we=Math.sqrt((se+ge)**2-4*(se*ge-(k[2]*R[0]+k[3]*R[2])*(k[0]*R[1]+k[1]*R[3])))/2,xe=Pe-we||1;return[Math.sqrt(Pe+we||1),Math.sqrt(xe)]}static normalizeRect(k){const R=k.slice(0);return k[0]>k[2]&&(R[0]=k[2],R[2]=k[0]),k[1]>k[3]&&(R[1]=k[3],R[3]=k[1]),R}static intersect(k,R){const se=Math.max(Math.min(k[0],k[2]),Math.min(R[0],R[2])),ce=Math.min(Math.max(k[0],k[2]),Math.max(R[0],R[2]));if(se>ce)return null;const pe=Math.max(Math.min(k[1],k[3]),Math.min(R[1],R[3])),ge=Math.min(Math.max(k[1],k[3]),Math.max(R[1],R[3]));return pe>ge?null:[se,pe,ce,ge]}static bezierBoundingBox(k,R,se,ce,pe,ge,Pe,we){const Me=[],xe=[[],[]];let Re,Le,Ie,ke,Oe,Be,Ne,Ve;for(let qe=0;qe<2;++qe)if(0===qe?(Le=6*k-12*se+6*pe,Re=-3*k+9*se-9*pe+3*Pe,Ie=3*se-3*k):(Le=6*R-12*ce+6*ge,Re=-3*R+9*ce-9*ge+3*we,Ie=3*ce-3*R),Math.abs(Re)<1e-12){if(Math.abs(Le)<1e-12)continue;ke=-Ie/Le,0<ke&&ke<1&&Me.push(ke)}else Ne=Le*Le-4*Ie*Re,Ve=Math.sqrt(Ne),!(Ne<0)&&(Oe=(-Le+Ve)/(2*Re),0<Oe&&Oe<1&&Me.push(Oe),Be=(-Le-Ve)/(2*Re),0<Be&&Be<1&&Me.push(Be));let Fe,De=Me.length;const Ue=De;for(;De--;)ke=Me[De],Fe=1-ke,xe[0][De]=Fe*Fe*Fe*k+3*Fe*Fe*ke*se+3*Fe*ke*ke*pe+ke*ke*ke*Pe,xe[1][De]=Fe*Fe*Fe*R+3*Fe*Fe*ke*ce+3*Fe*ke*ke*ge+ke*ke*ke*we;return xe[0][Ue]=k,xe[1][Ue]=R,xe[0][Ue+1]=Pe,xe[1][Ue+1]=we,xe[0].length=xe[1].length=Ue+2,[Math.min(...xe[0]),Math.min(...xe[1]),Math.max(...xe[0]),Math.max(...xe[1])]}}M.Util=ne;const C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function fe(Z){return decodeURIComponent(escape(Z))}},(de,M,re)=>{re(3)},(de,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.isNodeJS=void 0;const re=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);M.isNodeJS=re},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var de,re,b,he,ee,Q,J,O,c,nt,_;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:P,NodeCMapReaderFactory:o,NodeStandardFontDataFactory:r}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=P,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=o,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=r}function setPDFNetworkStreamFactory(P){createPDFNetworkStream=P}function getDocument(P){const o=new PDFDocumentLoadingTask;let r;if("string"==typeof P||P instanceof URL)r={url:P};else if((0,_util.isArrayBuffer)(P))r={data:P};else if(P instanceof PDFDataRangeTransport)r={range:P};else{if("object"!=typeof P)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!P.url&&!P.data&&!P.range)throw new Error("Invalid parameter object: need either .data, .range or .url");r=P}const e=Object.create(null);let s=null,m=null;for(const f in r){const t=r[f];switch(f){case"url":if("undefined"!=typeof window)try{e[f]=new URL(t,window.location).href;continue}catch(i){(0,_util.warn)(`Cannot create valid URL: "${i}".`)}else if("string"==typeof t||t instanceof URL){e[f]=t.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":s=t;continue;case"worker":m=t;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&t instanceof Buffer)e[f]=new Uint8Array(t);else{if(t instanceof Uint8Array)break;if("string"==typeof t)e[f]=(0,_util.stringToBytes)(t);else if("object"!=typeof t||null===t||isNaN(t.length)){if(!(0,_util.isArrayBuffer)(t))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");e[f]=new Uint8Array(t)}else e[f]=new Uint8Array(t)}continue}e[f]=t}if(e.CMapReaderFactory=e.CMapReaderFactory||DefaultCMapReaderFactory,e.StandardFontDataFactory=e.StandardFontDataFactory||DefaultStandardFontDataFactory,e.ignoreErrors=!0!==e.stopAtErrors,e.fontExtraProperties=!0===e.fontExtraProperties,e.pdfBug=!0===e.pdfBug,e.enableXfa=!0===e.enableXfa,(!Number.isInteger(e.rangeChunkSize)||e.rangeChunkSize<1)&&(e.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof e.docBaseUrl||(0,_display_utils.isDataScheme)(e.docBaseUrl))&&(e.docBaseUrl=null),(!Number.isInteger(e.maxImageSize)||e.maxImageSize<-1)&&(e.maxImageSize=-1),"string"!=typeof e.cMapUrl&&(e.cMapUrl=null),"string"!=typeof e.standardFontDataUrl&&(e.standardFontDataUrl=null),"boolean"!=typeof e.useWorkerFetch&&(e.useWorkerFetch=e.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&e.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof e.isEvalSupported&&(e.isEvalSupported=!0),"boolean"!=typeof e.disableFontFace&&(e.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof e.useSystemFonts&&(e.useSystemFonts=!_is_node.isNodeJS&&!e.disableFontFace),("object"!=typeof e.ownerDocument||null===e.ownerDocument)&&(e.ownerDocument=globalThis.document),"boolean"!=typeof e.disableRange&&(e.disableRange=!1),"boolean"!=typeof e.disableStream&&(e.disableStream=!1),"boolean"!=typeof e.disableAutoFetch&&(e.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(e.verbosity),!m){const f={verbosity:e.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};m=f.port?PDFWorker.fromPort(f):new PDFWorker(f),o._worker=m}const u=o.docId;return m.promise.then(function(){if(o.destroyed)throw new Error("Loading aborted");const f=_fetchDocument(m,e,s,u),t=new Promise(function(i){let p;s?p=new _transport_stream.PDFDataTransportStream({length:e.length,initialData:e.initialData,progressiveDone:e.progressiveDone,contentDispositionFilename:e.contentDispositionFilename,disableRange:e.disableRange,disableStream:e.disableStream},s):e.data||(p=createPDFNetworkStream({url:e.url,length:e.length,httpHeaders:e.httpHeaders,withCredentials:e.withCredentials,rangeChunkSize:e.rangeChunkSize,disableRange:e.disableRange,disableStream:e.disableStream})),i(p)});return Promise.all([f,t]).then(function([i,p]){if(o.destroyed)throw new Error("Loading aborted");const g=new _message_handler.MessageHandler(u,i,m.port),y=new WorkerTransport(g,o,p,e);o._transport=y,g.send("Ready",null)})}).catch(o._capability.reject),o}function _fetchDocument(P,o,r,e){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(P,o,r,e){if(P.destroyed)throw new Error("Worker was destroyed");r&&(o.length=r.length,o.initialData=r.initialData,o.progressiveDone=r.progressiveDone,o.contentDispositionFilename=r.contentDispositionFilename);const s=yield P.messageHandler.sendWithPromise("GetDocRequest",{docId:e,apiVersion:"2.14.305",source:{data:o.data,url:o.url,password:o.password,disableAutoFetch:o.disableAutoFetch,rangeChunkSize:o.rangeChunkSize,length:o.length},maxImageSize:o.maxImageSize,disableFontFace:o.disableFontFace,docBaseUrl:o.docBaseUrl,ignoreErrors:o.ignoreErrors,isEvalSupported:o.isEvalSupported,fontExtraProperties:o.fontExtraProperties,enableXfa:o.enableXfa,useSystemFonts:o.useSystemFonts,cMapUrl:o.useWorkerFetch?o.cMapUrl:null,standardFontDataUrl:o.useWorkerFetch?o.standardFontDataUrl:null});if(P.destroyed)throw new Error("Worker was destroyed");return s})).apply(this,arguments)}const M=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+tt(M,de)._++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var o=this;return _asyncToGenerator(function*(){var r;o.destroyed=!0,yield null==(r=o._transport)?void 0:r.destroy(),o._transport=null,o._worker&&(o._worker.destroy(),o._worker=null)})()}};let PDFDocumentLoadingTask=M;de=new WeakMap,ve(PDFDocumentLoadingTask,de,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(o,r,e=!1,s=null){this.length=o,this.initialData=r,this.progressiveDone=e,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(o){this._rangeListeners.push(o)}addProgressListener(o){this._progressListeners.push(o)}addProgressiveReadListener(o){this._progressiveReadListeners.push(o)}addProgressiveDoneListener(o){this._progressiveDoneListeners.push(o)}onDataRange(o,r){for(const e of this._rangeListeners)e(o,r)}onDataProgress(o,r){this._readyCapability.promise.then(()=>{for(const e of this._progressListeners)e(o,r)})}onDataProgressiveRead(o){this._readyCapability.promise.then(()=>{for(const r of this._progressiveReadListeners)r(o)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const o of this._progressiveDoneListeners)o()})}transportReady(){this._readyCapability.resolve()}requestDataRange(o,r){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(o,r){var s,e=this;this._pdfInfo=o,this._transport=r,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(s=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),e.stats||{streamTypes:{},fontTypes:{}}}),function(){return s.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(o){return this._transport.getPage(o)}getPageIndex(o){return this._transport.getPageIndex(o)}getDestinations(){return this._transport.getDestinations()}getDestination(o){return this._transport.getDestination(o)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(o=!1){return this._transport.startCleanup(o||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(o,r,e,s,m=!1){this._pageIndex=o,this._pageInfo=r,this._ownerDocument=s,this._transport=e,this._stats=m?new _display_utils.StatTimer:null,this._pdfBug=m,this.commonObjs=e.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:o,rotation:r=this.rotate,offsetX:e=0,offsetY:s=0,dontFlip:m=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:o,rotation:r,offsetX:e,offsetY:s,dontFlip:m})}getAnnotations({intent:o="display"}={}){const r=this._transport.getRenderingIntent(o);let e=this._annotationPromises.get(r.cacheKey);return e||(e=this._transport.getAnnotations(this._pageIndex,r.renderingIntent),this._annotationPromises.set(r.cacheKey,e),e=e.then(s=>{for(const m of s)void 0!==m.titleObj&&Object.defineProperty(m,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),m.titleObj.str)}),void 0!==m.contentsObj&&Object.defineProperty(m,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),m.contentsObj.str)});return s})),e}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var o=this;return _asyncToGenerator(function*(){var r;return(null==(r=o._transport._htmlForXfa)?void 0:r.children[o._pageIndex])||null})()}render({canvasContext:o,viewport:r,intent:e="display",annotationMode:s=_util.AnnotationMode.ENABLE,transform:m=null,imageLayer:u=null,canvasFactory:f=null,background:t=null,optionalContentConfigPromise:i=null,annotationCanvasMap:p=null,pageColors:g=null}){var X,I;void 0!==(null==(X=arguments[0])?void 0:X.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&s===_util.AnnotationMode.ENABLE&&(s=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null==(I=arguments[0])?void 0:I.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&s===_util.AnnotationMode.ENABLE&&(s=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const y=this._transport.getRenderingIntent(e,s);this.pendingCleanup=!1,i||(i=this._transport.getOptionalContentConfig());let E=this._intentStates.get(y.cacheKey);E||(E=Object.create(null),this._intentStates.set(y.cacheKey,E)),E.streamReaderCancelTimeout&&(clearTimeout(E.streamReaderCancelTimeout),E.streamReaderCancelTimeout=null);const L=f||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),F=!!(y.renderingIntent&_util.RenderingIntentFlag.PRINT);E.displayReadyCapability||(E.displayReadyCapability=(0,_util.createPromiseCapability)(),E.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(y));const N=z=>{E.renderTasks.delete(U),(this.cleanupAfterRender||F)&&(this.pendingCleanup=!0),this._tryCleanup(),z?(U.capability.reject(z),this._abortOperatorList({intentState:E,reason:z instanceof Error?z:new Error(z)})):U.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},U=new InternalRenderTask({callback:N,params:{canvasContext:o,viewport:r,transform:m,imageLayer:u,background:t},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:p,operatorList:E.operatorList,pageIndex:this._pageIndex,canvasFactory:L,useRequestAnimationFrame:!F,pdfBug:this._pdfBug,pageColors:g});(E.renderTasks||(E.renderTasks=new Set)).add(U);const H=U.task;return Promise.all([E.displayReadyCapability.promise,i]).then(([z,$])=>{this.pendingCleanup?N():(this._stats&&this._stats.time("Rendering"),U.initializeGraphics({transparency:z,optionalContentConfig:$}),U.operatorListChanged())}).catch(N),H}getOperatorList({intent:o="display",annotationMode:r=_util.AnnotationMode.ENABLE}={}){const s=this._transport.getRenderingIntent(o,r,!0);let u,m=this._intentStates.get(s.cacheKey);return m||(m=Object.create(null),this._intentStates.set(s.cacheKey,m)),m.opListReadCapability||(u=Object.create(null),u.operatorListChanged=function e(){m.operatorList.lastChunk&&(m.opListReadCapability.resolve(m.operatorList),m.renderTasks.delete(u))},m.opListReadCapability=(0,_util.createPromiseCapability)(),(m.renderTasks||(m.renderTasks=new Set)).add(u),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(s)),m.opListReadCapability.promise}streamTextContent({disableCombineTextItems:o=!1,includeMarkedContent:r=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==o,includeMarkedContent:!0===r},{highWaterMark:100,size:s=>s.items.length})}getTextContent(o={}){if(this._transport._htmlForXfa)return this.getXfa().then(e=>_xfa_text.XfaText.textContent(e));const r=this.streamTextContent(o);return new Promise(function(e,s){const u=r.getReader(),f={items:[],styles:Object.create(null)};!function m(){u.read().then(function({value:t,done:i}){i?e(f):(Object.assign(f.styles,t.styles),f.items.push(...t.items),m())},s)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const o=[];for(const r of this._intentStates.values())if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability)for(const e of r.renderTasks)o.push(e.completed),e.cancel();this.objs.clear();for(const r of this._bitmaps)r.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(o)}cleanup(o=!1){return this.pendingCleanup=!0,this._tryCleanup(o)}_tryCleanup(o=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:r,operatorList:e}of this._intentStates.values())if(r.size>0||!e.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,o&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const r of this._bitmaps)r.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(o,r){const e=this._intentStates.get(r);!e||(this._stats&&this._stats.timeEnd("Page Request"),e.displayReadyCapability&&e.displayReadyCapability.resolve(o))}_renderPageChunk(o,r){for(let e=0,s=o.length;e<s;e++)r.operatorList.fnArray.push(o.fnArray[e]),r.operatorList.argsArray.push(o.argsArray[e]);r.operatorList.lastChunk=o.lastChunk;for(const e of r.renderTasks)e.operatorListChanged();o.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:o,cacheKey:r}){const s=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:o,cacheKey:r,annotationStorage:o&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),m=this._intentStates.get(r);m.streamReader=s;const u=()=>{s.read().then(({value:f,done:t})=>{t?m.streamReader=null:this._transport.destroyed||(this._renderPageChunk(f,m),u())},f=>{if(m.streamReader=null,!this._transport.destroyed){if(m.operatorList){m.operatorList.lastChunk=!0;for(const t of m.renderTasks)t.operatorListChanged();this._tryCleanup()}if(m.displayReadyCapability)m.displayReadyCapability.reject(f);else{if(!m.opListReadCapability)throw f;m.opListReadCapability.reject(f)}}})};u()}_abortOperatorList({intentState:o,reason:r,force:e=!1}){if(o.streamReader){if(!e){if(o.renderTasks.size>0)return;if(r instanceof _display_utils.RenderingCancelledException)return void(o.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:o,reason:r,force:!0}),o.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(o.streamReader.cancel(new _util.AbortException(r.message)).catch(()=>{}),o.streamReader=null,!this._transport.destroyed){for(const[s,m]of this._intentStates)if(m===o){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(o,r){const e={data:structuredClone(o,r)};this._deferred.then(()=>{for(const s of this._listeners)s.call(this,e)})}addEventListener(o,r){this._listeners.push(r)}removeEventListener(o,r){const e=this._listeners.indexOf(r);this._listeners.splice(e,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const P=null==(re=null==document?void 0:document.currentScript)?void 0:re.src;P&&(PDFWorkerUtil.fallbackWorkerSrc=P.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(P,o){let r;try{if(r=new URL(P),!r.origin||"null"===r.origin)return!1}catch(s){return!1}const e=new URL(o,r);return r.origin===e.origin},PDFWorkerUtil.createCDNWrapper=function(P){return URL.createObjectURL(new Blob([`importScripts("${P}");`]))};const _PDFWorker=class{constructor({name:P=null,port:o=null,verbosity:r=(0,_util.getVerbosityLevel)()}={}){if(o&&Ae(_PDFWorker,b).has(o))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=P,this.destroyed=!1,this.verbosity=r,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,o)return Ae(_PDFWorker,b).set(o,this),void this._initializeFromPort(o);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(P){this._port=P,this._messageHandler=new _message_handler.MessageHandler("main","worker",P),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if("undefined"!=typeof Worker&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let P=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,P)||(P=PDFWorkerUtil.createCDNWrapper(new URL(P,window.location).href));const o=new Worker(P),r=new _message_handler.MessageHandler("main","worker",o),e=()=>{o.removeEventListener("error",s),r.destroy(),o.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=()=>{this._webWorker||e()};o.addEventListener("error",s),r.on("test",u=>{o.removeEventListener("error",s),this.destroyed?e():u?(this._messageHandler=r,this._port=o,this._webWorker=o,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),r.destroy(),o.terminate())}),r.on("ready",u=>{if(o.removeEventListener("error",s),this.destroyed)e();else try{m()}catch(f){this._setupFakeWorker()}});const m=()=>{const u=new Uint8Array;r.send("test",u,[u.buffer])};return void m()}catch(o){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(P=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const o=new LoopbackPort;this._port=o;const r="fake"+PDFWorkerUtil.fakeWorkerId++,e=new _message_handler.MessageHandler(r+"_worker",r,o);P.setup(e,o);const s=new _message_handler.MessageHandler(r,r+"_worker",o);this._messageHandler=s,this._readyCapability.resolve(),s.send("configure",{verbosity:this.verbosity})}).catch(P=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${P.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Ae(_PDFWorker,b).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(P){if(!(null==P?void 0:P.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Ae(this,b).has(P.port)?Ae(this,b).get(P.port):new _PDFWorker(P)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var P;try{return(null==(P=globalThis.pdfjsWorker)?void 0:P.WorkerMessageHandler)||null}catch(o){return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function P(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;b=new WeakMap,ve(PDFWorker,b,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(o,r,e,s){ve(this,he,null),ve(this,ee,new Map),ve(this,Q,new Map),ve(this,J,null),this.messageHandler=o,this.loadingTask=r,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:r.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this._params=s,s.useWorkerFetch||(this.CMapReaderFactory=new s.CMapReaderFactory({baseUrl:s.cMapUrl,isCompressed:s.cMapPacked}),this.StandardFontDataFactory=new s.StandardFontDataFactory({baseUrl:s.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=e,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return Ae(this,he)}getRenderingIntent(o,r=_util.AnnotationMode.ENABLE,e=!1){let s=_util.RenderingIntentFlag.DISPLAY,m="";switch(o){case"any":s=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":s=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${o}`)}switch(r){case _util.AnnotationMode.DISABLE:s+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:s+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:s+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,m=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${r}`)}return e&&(s+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:s,cacheKey:`${s}_${m}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const o=[];for(const e of Ae(this,ee).values())o.push(e._destroy());Ae(this,ee).clear(),Ae(this,Q).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const r=this.messageHandler.sendWithPromise("Terminate",null);return o.push(r),Promise.all(o).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Te(this,J,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:o,loadingTask:r}=this;o.on("GetReader",(e,s)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=m=>{this._lastProgress={loaded:m.loaded,total:m.total}},s.onPull=()=>{this._fullReader.read().then(function({value:m,done:u}){u?s.close():((0,_util.assert)((0,_util.isArrayBuffer)(m),"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(m),1,[m]))}).catch(m=>{s.error(m)})},s.onCancel=m=>{this._fullReader.cancel(m),s.ready.catch(u=>{if(!this.destroyed)throw u})}}),o.on("ReaderHeadersReady",e=>{const s=(0,_util.createPromiseCapability)(),m=this._fullReader;return m.headersReady.then(()=>{var u;(!m.isStreamingSupported||!m.isRangeSupported)&&(this._lastProgress&&(null==(u=r.onProgress)||u.call(r,this._lastProgress)),m.onProgress=f=>{var t;null==(t=r.onProgress)||t.call(r,{loaded:f.loaded,total:f.total})}),s.resolve({isStreamingSupported:m.isStreamingSupported,isRangeSupported:m.isRangeSupported,contentLength:m.contentLength})},s.reject),s.promise}),o.on("GetRangeReader",(e,s)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const m=this._networkStream.getRangeReader(e.begin,e.end);m?(s.onPull=()=>{m.read().then(function({value:u,done:f}){f?s.close():((0,_util.assert)((0,_util.isArrayBuffer)(u),"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(u),1,[u]))}).catch(u=>{s.error(u)})},s.onCancel=u=>{m.cancel(u),s.ready.catch(f=>{if(!this.destroyed)throw f})}):s.close()}),o.on("GetDoc",({pdfInfo:e})=>{this._numPages=e.numPages,this._htmlForXfa=e.htmlForXfa,delete e.htmlForXfa,r._capability.resolve(new PDFDocumentProxy(e,this))}),o.on("DocException",function(e){let s;switch(e.name){case"PasswordException":s=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":s=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":s=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":s=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":s=new _util.UnknownErrorException(e.message,e.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}r._capability.reject(s)}),o.on("PasswordRequest",e=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),r.onPassword){const s=m=>{m instanceof Error?this._passwordCapability.reject(m):this._passwordCapability.resolve({password:m})};try{r.onPassword(s,e.code)}catch(m){this._passwordCapability.reject(m)}}else this._passwordCapability.reject(new _util.PasswordException(e.message,e.code));return this._passwordCapability.promise}),o.on("DataLoaded",e=>{var s;null==(s=r.onProgress)||s.call(r,{loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)}),o.on("StartRenderPage",e=>{this.destroyed||Ae(this,ee).get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)}),o.on("commonobj",([e,s,m])=>{var u;if(!this.destroyed&&!this.commonObjs.has(e))switch(s){case"Font":const f=this._params;if("error"in m){const p=m.error;(0,_util.warn)(`Error during font loading: ${p}`),this.commonObjs.resolve(e,p);break}let t=null;f.pdfBug&&(null==(u=globalThis.FontInspector)?void 0:u.enabled)&&(t={registerFont(p,g){globalThis.FontInspector.fontAdded(p,g)}});const i=new _font_loader.FontFaceObject(m,{isEvalSupported:f.isEvalSupported,disableFontFace:f.disableFontFace,ignoreErrors:f.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:t});this.fontLoader.bind(i).catch(p=>o.sendWithPromise("FontFallback",{id:e})).finally(()=>{!f.fontExtraProperties&&i.data&&(i.data=null),this.commonObjs.resolve(e,i)});break;case"FontPath":case"Image":this.commonObjs.resolve(e,m);break;default:throw new Error(`Got unknown common object type ${s}`)}}),o.on("obj",([e,s,m,u])=>{var t;if(this.destroyed)return;const f=Ae(this,ee).get(s);if(!f.objs.has(e))switch(m){case"Image":f.objs.resolve(e,u);const i=8e6;if(u){let p;if(u.bitmap){const{bitmap:g,width:y,height:E}=u;p=y*E*4,f._bitmaps.add(g)}else p=(null==(t=u.data)?void 0:t.length)||0;p>i&&(f.cleanupAfterRender=!0)}break;case"Pattern":f.objs.resolve(e,u);break;default:throw new Error(`Got unknown object type ${m}`)}}),o.on("DocProgress",e=>{var s;this.destroyed||null==(s=r.onProgress)||s.call(r,{loaded:e.loaded,total:e.total})}),o.on("DocStats",e=>{this.destroyed||Te(this,he,Object.freeze({streamTypes:Object.freeze(e.streamTypes),fontTypes:Object.freeze(e.fontTypes)}))}),o.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),o.on("FetchBuiltInCMap",e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),o.on("FetchStandardFontData",e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:o}){var r,e;this.destroyed||null==(e=(r=this.loadingTask).onUnsupportedFeature)||e.call(r,o)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(o){if(!Number.isInteger(o)||o<=0||o>this._numPages)return Promise.reject(new Error("Invalid page request."));const r=o-1,e=Ae(this,Q).get(r);if(e)return e;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(m=>{if(this.destroyed)throw new Error("Transport destroyed");const u=new PDFPageProxy(r,m,this,this._params.ownerDocument,this._params.pdfBug);return Ae(this,ee).set(r,u),u});return Ae(this,Q).set(r,s),s}getPageIndex(o){return"object"!=typeof o||null===o||!Number.isInteger(o.num)||o.num<0||!Number.isInteger(o.gen)||o.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:o.num,gen:o.gen})}getAnnotations(o,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:o,intent:r})}saveDocument(){var o,r;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!=(r=null==(o=this._fullReader)?void 0:o.filename)?r:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(o){return"string"!=typeof o?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:o})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(o){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:o})}getStructTree(o){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:o})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(o=>new _optional_content_config.OptionalContentConfig(o))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return Ae(this,J)||Te(this,J,this.messageHandler.sendWithPromise("GetMetadata",null).then(o=>{var r,e,s,m;return{info:o[0],metadata:o[1]?new _metadata.Metadata(o[1]):null,contentDispositionFilename:null!=(e=null==(r=this._fullReader)?void 0:r.filename)?e:null,contentLength:null!=(m=null==(s=this._fullReader)?void 0:s.contentLength)?m:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(o=!1){var r=this;return _asyncToGenerator(function*(){if(yield r.messageHandler.sendWithPromise("Cleanup",null),!r.destroyed){for(const e of Ae(r,ee).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);r.commonObjs.clear(),o||r.fontLoader.clear(),Te(r,J,null),r._getFieldObjectsPromise=null,r._hasJSActionsPromise=null}})()}get loadingParams(){const o=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:o.disableAutoFetch,enableXfa:o.enableXfa})}}he=new WeakMap,ee=new WeakMap,Q=new WeakMap,J=new WeakMap;class PDFObjects{constructor(){ve(this,c),ve(this,O,Object.create(null))}get(o,r=null){if(r){const s=ye(this,c,nt).call(this,o);return s.capability.promise.then(()=>r(s.data)),null}const e=Ae(this,O)[o];if(!(null==e?void 0:e.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${o}.`);return e.data}has(o){const r=Ae(this,O)[o];return(null==r?void 0:r.capability.settled)||!1}resolve(o,r=null){const e=ye(this,c,nt).call(this,o);e.data=r,e.capability.resolve()}clear(){Te(this,O,Object.create(null))}}O=new WeakMap,c=new WeakSet,nt=function(o){return Ae(this,O)[o]||(Ae(this,O)[o]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(o){this._internalRenderTask=o,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;const S=class{constructor({callback:o,params:r,objs:e,commonObjs:s,annotationCanvasMap:m,operatorList:u,pageIndex:f,canvasFactory:t,useRequestAnimationFrame:i=!1,pdfBug:p=!1,pageColors:g=null}){this.callback=o,this.params=r,this.objs=e,this.commonObjs=s,this.annotationCanvasMap=m,this.operatorListIdx=null,this.operatorList=u,this._pageIndex=f,this.canvasFactory=t,this._pdfBug=p,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===i&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:o=!1,optionalContentConfig:r}){var t;if(this.cancelled)return;if(this._canvas){if(Ae(S,_).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ae(S,_).add(this._canvas)}this._pdfBug&&(null==(t=globalThis.StepperManager)?void 0:t.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:e,viewport:s,transform:m,imageLayer:u,background:f}=this.params;this.gfx=new _canvas.CanvasGraphics(e,this.commonObjs,this.objs,this.canvasFactory,u,r,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:m,viewport:s,transparency:o,background:f}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(o=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&Ae(S,_).delete(this._canvas),this.callback(o||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var o=this;return _asyncToGenerator(function*(){o.cancelled||(o.operatorListIdx=o.gfx.executeOperatorList(o.operatorList,o.operatorListIdx,o._continueBound,o.stepper),o.operatorListIdx===o.operatorList.argsArray.length&&(o.running=!1,o.operatorList.lastChunk&&(o.gfx.endDrawing(),o._canvas&&Ae(S,_).delete(o._canvas),o.callback())))})()}};let InternalRenderTask=S;_=new WeakMap,ve(InternalRenderTask,_,new WeakSet);const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(de,M,re)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.StatTimer=M.RenderingCancelledException=M.PixelsPerInch=M.PageViewport=M.PDFDateString=M.DOMStandardFontDataFactory=M.DOMSVGFactory=M.DOMCanvasFactory=M.DOMCMapReaderFactory=void 0,M.deprecated=function i(L){console.log("Deprecated API usage: "+L)},M.getFilenameFromUrl=function s(L){const F=L.indexOf("#"),N=L.indexOf("?"),U=Math.min(F>0?F:L.length,N>0?N:L.length);return L.substring(L.lastIndexOf("/",U)+1,U)},M.getPdfFilenameFromUrl=function m(L,F="document.pdf"){if("string"!=typeof L)return F;if(r(L))return(0,he.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),F;const U=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,H=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(L);let X=U.exec(H[1])||U.exec(H[2])||U.exec(H[3]);if(X&&(X=X[0],X.includes("%")))try{X=U.exec(decodeURIComponent(X))[0]}catch(I){}return X||F},M.getXfaPageViewport=function y(L,{scale:F=1,rotation:N=0}){const{width:U,height:H}=L.attributes.style,X=[0,0,parseInt(U),parseInt(H)];return new P({viewBox:X,scale:F,rotation:N})},M.isDataScheme=r,M.isPdfFile=function e(L){return"string"==typeof L&&/\.pdf$/i.test(L)},M.isValidFetchUrl=f,M.loadScript=function t(L,F=!1){return new Promise((N,U)=>{const H=document.createElement("script");H.src=L,H.onload=function(X){F&&H.remove(),N(X)},H.onerror=function(){U(new Error(`Cannot load script at: ${H.src}`))},(document.head||document.documentElement).appendChild(H)})};var b=re(6),he=re(1);const E=class{};let p,Q=E;function O(L){return c.apply(this,arguments)}function c(){return(c=_asyncToGenerator(function*(L,F=!1){if(f(L,document.baseURI)){const N=yield fetch(L);if(!N.ok)throw new Error(N.statusText);return F?new Uint8Array(yield N.arrayBuffer()):(0,he.stringToBytes)(yield N.text())}return new Promise((N,U)=>{const H=new XMLHttpRequest;H.open("GET",L,!0),F&&(H.responseType="arraybuffer"),H.onreadystatechange=()=>{if(H.readyState===XMLHttpRequest.DONE){if(200===H.status||0===H.status){let X;if(F&&H.response?X=new Uint8Array(H.response):!F&&H.responseText&&(X=(0,he.stringToBytes)(H.responseText)),X)return void N(X)}U(new Error(H.statusText))}},H.send(null)})})).apply(this,arguments)}We(Q,"CSS",96),We(Q,"PDF",72),We(Q,"PDF_TO_CSS_UNITS",E.CSS/E.PDF),M.PixelsPerInch=Q,M.DOMCanvasFactory=class J extends b.BaseCanvasFactory{constructor({ownerDocument:F=globalThis.document}={}){super(),this._document=F}_createCanvas(F,N){const U=this._document.createElement("canvas");return U.width=F,U.height=N,U}},M.DOMCMapReaderFactory=class w extends b.BaseCMapReaderFactory{_fetchData(F,N){return O(F,this.isCompressed).then(U=>({cMapData:U,compressionType:N}))}},M.DOMStandardFontDataFactory=class _ extends b.BaseStandardFontDataFactory{_fetchData(F){return O(F,!0)}},M.DOMSVGFactory=class S extends b.BaseSVGFactory{_createSVG(F){return document.createElementNS("http://www.w3.org/2000/svg",F)}};class P{constructor({viewBox:F,scale:N,rotation:U,offsetX:H=0,offsetY:X=0,dontFlip:I=!1}){this.viewBox=F,this.scale=N,this.rotation=U,this.offsetX=H,this.offsetY=X;const z=(F[2]+F[0])/2,$=(F[3]+F[1])/2;let te,ae,T,a,h,n,l,d;switch((U%=360)<0&&(U+=360),U){case 180:te=-1,ae=0,T=0,a=1;break;case 90:te=0,ae=1,T=1,a=0;break;case 270:te=0,ae=-1,T=-1,a=0;break;case 0:te=1,ae=0,T=0,a=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}I&&(T=-T,a=-a),0===te?(h=Math.abs($-F[1])*N+H,n=Math.abs(z-F[0])*N+X,l=Math.abs(F[3]-F[1])*N,d=Math.abs(F[2]-F[0])*N):(h=Math.abs(z-F[0])*N+H,n=Math.abs($-F[1])*N+X,l=Math.abs(F[2]-F[0])*N,d=Math.abs(F[3]-F[1])*N),this.transform=[te*N,ae*N,T*N,a*N,h-te*N*z-T*N*$,n-ae*N*z-a*N*$],this.width=l,this.height=d}clone({scale:F=this.scale,rotation:N=this.rotation,offsetX:U=this.offsetX,offsetY:H=this.offsetY,dontFlip:X=!1}={}){return new P({viewBox:this.viewBox.slice(),scale:F,rotation:N,offsetX:U,offsetY:H,dontFlip:X})}convertToViewportPoint(F,N){return he.Util.applyTransform([F,N],this.transform)}convertToViewportRectangle(F){const N=he.Util.applyTransform([F[0],F[1]],this.transform),U=he.Util.applyTransform([F[2],F[3]],this.transform);return[N[0],N[1],U[0],U[1]]}convertToPdfPoint(F,N){return he.Util.applyInverseTransform([F,N],this.transform)}}function r(L){const F=L.length;let N=0;for(;N<F&&""===L[N].trim();)N++;return"data:"===L.substring(N,N+5).toLowerCase()}function f(L,F){try{const{protocol:N}=F?new URL(L,F):new URL(L);return"http:"===N||"https:"===N}catch(N){return!1}}M.PageViewport=P,M.RenderingCancelledException=class o extends he.BaseException{constructor(F,N){super(F,"RenderingCancelledException"),this.type=N}},M.StatTimer=class u{constructor(){this.started=Object.create(null),this.times=[]}time(F){F in this.started&&(0,he.warn)(`Timer is already running for ${F}`),this.started[F]=Date.now()}timeEnd(F){F in this.started||(0,he.warn)(`Timer has not been started for ${F}`),this.times.push({name:F,start:this.started[F],end:Date.now()}),delete this.started[F]}toString(){const F=[];let N=0;for(const U of this.times){const H=U.name;H.length>N&&(N=H.length)}for(const U of this.times){const H=U.end-U.start;F.push(`${U.name.padEnd(N)} ${H}ms\n`)}return F.join("")}},M.PDFDateString=class g{static toDateObject(F){if(!F||"string"!=typeof F)return null;p||(p=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const N=p.exec(F);if(!N)return null;const U=parseInt(N[1],10);let H=parseInt(N[2],10);H=H>=1&&H<=12?H-1:0;let X=parseInt(N[3],10);X=X>=1&&X<=31?X:1;let I=parseInt(N[4],10);I=I>=0&&I<=23?I:0;let z=parseInt(N[5],10);z=z>=0&&z<=59?z:0;let $=parseInt(N[6],10);$=$>=0&&$<=59?$:0;const te=N[7]||"Z";let ae=parseInt(N[8],10);ae=ae>=0&&ae<=23?ae:0;let T=parseInt(N[9],10)||0;return T=T>=0&&T<=59?T:0,"-"===te?(I+=ae,z+=T):"+"===te&&(I-=ae,z-=T),new Date(Date.UTC(U,H,X,I,z,$))}}},(de,M,re)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.BaseStandardFontDataFactory=M.BaseSVGFactory=M.BaseCanvasFactory=M.BaseCMapReaderFactory=void 0;var b=re(1);class he{constructor(){this.constructor===he&&(0,b.unreachable)("Cannot initialize BaseCanvasFactory.")}create(c,w){if(c<=0||w<=0)throw new Error("Invalid canvas size");const _=this._createCanvas(c,w);return{canvas:_,context:_.getContext("2d")}}reset(c,w,_){if(!c.canvas)throw new Error("Canvas is not specified");if(w<=0||_<=0)throw new Error("Invalid canvas size");c.canvas.width=w,c.canvas.height=_}destroy(c){if(!c.canvas)throw new Error("Canvas is not specified");c.canvas.width=0,c.canvas.height=0,c.canvas=null,c.context=null}_createCanvas(c,w){(0,b.unreachable)("Abstract method `_createCanvas` called.")}}M.BaseCanvasFactory=he;class ee{constructor({baseUrl:c=null,isCompressed:w=!1}){this.constructor===ee&&(0,b.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=c,this.isCompressed=w}fetch({name:c}){var w=this;return _asyncToGenerator(function*(){if(!w.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!c)throw new Error("CMap name must be specified.");const _=w.baseUrl+c+(w.isCompressed?".bcmap":"");return w._fetchData(_,w.isCompressed?b.CMapCompressionType.BINARY:b.CMapCompressionType.NONE).catch(P=>{throw new Error(`Unable to load ${w.isCompressed?"binary ":""}CMap at: ${_}`)})})()}_fetchData(c,w){(0,b.unreachable)("Abstract method `_fetchData` called.")}}M.BaseCMapReaderFactory=ee;class Q{constructor({baseUrl:c=null}){this.constructor===Q&&(0,b.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=c}fetch({filename:c}){var w=this;return _asyncToGenerator(function*(){if(!w.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!c)throw new Error("Font filename must be specified.");const _=`${w.baseUrl}${c}`;return w._fetchData(_).catch(S=>{throw new Error(`Unable to load font data at: ${_}`)})})()}_fetchData(c){(0,b.unreachable)("Abstract method `_fetchData` called.")}}M.BaseStandardFontDataFactory=Q;class J{constructor(){this.constructor===J&&(0,b.unreachable)("Cannot initialize BaseSVGFactory.")}create(c,w){if(c<=0||w<=0)throw new Error("Invalid SVG dimensions");const _=this._createSVG("svg:svg");return _.setAttribute("version","1.1"),_.setAttribute("width",`${c}px`),_.setAttribute("height",`${w}px`),_.setAttribute("preserveAspectRatio","none"),_.setAttribute("viewBox",`0 0 ${c} ${w}`),_}createElement(c){if("string"!=typeof c)throw new Error("Invalid SVG element type");return this._createSVG(c)}_createSVG(c){(0,b.unreachable)("Abstract method `_createSVG` called.")}}M.BaseSVGFactory=J},(de,M,re)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.FontLoader=M.FontFaceObject=void 0;var b=re(1);class he{constructor({docId:O,onUnsupportedFeature:c,ownerDocument:w=globalThis.document,styleElement:_=null}){this.constructor===he&&(0,b.unreachable)("Cannot initialize BaseFontLoader."),this.docId=O,this._onUnsupportedFeature=c,this._document=w,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(O){this.nativeFontFaces.push(O),this._document.fonts.add(O)}insertRule(O){let c=this.styleElement;c||(c=this.styleElement=this._document.createElement("style"),c.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(c));const w=c.sheet;w.insertRule(O,w.cssRules.length)}clear(){for(const O of this.nativeFontFaces)this._document.fonts.delete(O);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(O){var c=this;return _asyncToGenerator(function*(){if(O.attached||O.missingFile)return;if(O.attached=!0,c.isFontLoadingAPISupported){const _=O.createNativeFontFace();if(_){c.addNativeFontFace(_);try{yield _.loaded}catch(S){throw c._onUnsupportedFeature({featureId:b.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,b.warn)(`Failed to load font '${_.family}': '${S}'.`),O.disableFontFace=!0,S}}return}const w=O.createFontFaceRule();if(w){if(c.insertRule(w),c.isSyncFontLoadingSupported)return;yield new Promise(_=>{const S=c._queueLoadingCallback(_);c._prepareFontLoadEvent([w],[O],S)})}})()}_queueLoadingCallback(O){(0,b.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var c;const O=!!(null==(c=this._document)?void 0:c.fonts);return(0,b.shadow)(this,"isFontLoadingAPISupported",O)}get isSyncFontLoadingSupported(){(0,b.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,b.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(O,c,w){(0,b.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let ee;M.FontLoader=ee,M.FontLoader=ee=class extends he{constructor(O){super(O),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let O=!1;if("undefined"==typeof navigator)O=!0;else{const c=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==c?void 0:c[1])>=14&&(O=!0)}return(0,b.shadow)(this,"isSyncFontLoadingSupported",O)}_queueLoadingCallback(O){const w=this.loadingContext,_={id:"pdfjs-font-loading-"+w.nextRequestId++,done:!1,complete:function c(){for((0,b.assert)(!_.done,"completeRequest() cannot be called twice."),_.done=!0;w.requests.length>0&&w.requests[0].done;){const S=w.requests.shift();setTimeout(S.callback,0)}},callback:O};return w.requests.push(_),_}get _loadTestFont(){return(0,b.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(O,c,w){function _(N,U){return N.charCodeAt(U)<<24|N.charCodeAt(U+1)<<16|N.charCodeAt(U+2)<<8|255&N.charCodeAt(U+3)}function S(N,U,H,X){return N.substring(0,U)+X+N.substring(U+H)}let P,o;const r=this._document.createElement("canvas");r.width=1,r.height=1;const e=r.getContext("2d");let s=0;const u=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=S(f,976,u.length,u);const p=1482184792;let g=_(f,16);for(P=0,o=u.length-3;P<o;P+=4)g=g-p+_(u,P)|0;P<u.length&&(g=g-p+_(u+"XXX",P)|0),f=S(f,16,4,(0,b.string32)(g));const y=`url(data:font/opentype;base64,${btoa(f)});`;this.insertRule(`@font-face {font-family:"${u}";src:${y}}`);const L=[];for(const N of c)L.push(N.loadedName);L.push(u);const F=this._document.createElement("div");F.style.visibility="hidden",F.style.width=F.style.height="10px",F.style.position="absolute",F.style.top=F.style.left="0px";for(const N of L){const U=this._document.createElement("span");U.textContent="Hi",U.style.fontFamily=N,F.appendChild(U)}this._document.body.appendChild(F),function m(N,U){if(s++,s>30)return(0,b.warn)("Load test font never loaded."),void U();e.font="30px "+N,e.fillText(".",0,20),e.getImageData(0,0,1,1).data[3]>0?U():setTimeout(m.bind(null,N,U))}(u,()=>{F.remove(),w.complete()})}},M.FontFaceObject=class Q{constructor(O,{isEvalSupported:c=!0,disableFontFace:w=!1,ignoreErrors:_=!1,onUnsupportedFeature:S,fontRegistry:P=null}){this.compiledGlyphs=Object.create(null);for(const o in O)this[o]=O[o];this.isEvalSupported=!1!==c,this.disableFontFace=!0===w,this.ignoreErrors=!0===_,this._onUnsupportedFeature=S,this.fontRegistry=P}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let O;if(this.cssFontInfo){const c={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(c.style=`oblique ${this.cssFontInfo.italicAngle}deg`),O=new FontFace(this.cssFontInfo.fontFamily,this.data,c)}else O=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),O}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const O=(0,b.bytesToString)(this.data),c=`url(data:${this.mimetype};base64,${btoa(O)});`;let w;if(this.cssFontInfo){let _=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(_+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),w=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${_}src:${c}}`}else w=`@font-face {font-family:"${this.loadedName}";src:${c}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,c),w}getPathGenerator(O,c){if(void 0!==this.compiledGlyphs[c])return this.compiledGlyphs[c];let w;try{w=O.get(this.loadedName+"_path_"+c)}catch(_){if(!this.ignoreErrors)throw _;return this._onUnsupportedFeature({featureId:b.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,b.warn)(`getPathGenerator - ignoring character: "${_}".`),this.compiledGlyphs[c]=function(S,P){}}if(this.isEvalSupported&&b.FeatureTest.isEvalSupported){const _=[];for(const S of w){const P=void 0!==S.args?S.args.join(","):"";_.push("c.",S.cmd,"(",P,");\n")}return this.compiledGlyphs[c]=new Function("c","size",_.join(""))}return this.compiledGlyphs[c]=function(_,S){for(const P of w)"scale"===P.cmd&&(P.args=[S,-S]),_[P.cmd].apply(_,P.args)}}}},(de,M,re)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.AnnotationStorage=void 0;var b=re(9),he=re(1);M.AnnotationStorage=class ee{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(J,O){const c=this._storage.get(J);return void 0===c?O:Object.assign(O,c)}getRawValue(J){return this._storage.get(J)}setValue(J,O){const c=this._storage.get(J);let w=!1;if(void 0!==c)for(const[_,S]of Object.entries(O))c[_]!==S&&(w=!0,c[_]=S);else w=!0,this._storage.set(J,O);w&&this._setModified()}getAll(){return this._storage.size>0?(0,he.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const J=new b.MurmurHash3_64;for(const[O,c]of this._storage)J.update(`${O}:${JSON.stringify(c)}`);return J.hexdigest()}}},(de,M,re)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.MurmurHash3_64=void 0;var b=re(1);const he=3285377520,ee=4294901760,Q=65535;M.MurmurHash3_64=class J{constructor(c){this.h1=c?4294967295&c:he,this.h2=c?4294967295&c:he}update(c){let w,_;if("string"==typeof c){w=new Uint8Array(2*c.length),_=0;for(let p=0,g=c.length;p<g;p++){const y=c.charCodeAt(p);y<=255?w[_++]=y:(w[_++]=y>>>8,w[_++]=255&y)}}else{if(!(0,b.isArrayBuffer)(c))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");w=c.slice(),_=w.byteLength}const S=_>>2,P=_-4*S,o=new Uint32Array(w.buffer,0,S);let r=0,e=0,s=this.h1,m=this.h2;const u=3432918353,f=461845907,t=u&Q,i=f&Q;for(let p=0;p<S;p++)1&p?(r=o[p],r=r*u&ee|r*t&Q,r=r<<15|r>>>17,r=r*f&ee|r*i&Q,s^=r,s=s<<13|s>>>19,s=5*s+3864292196):(e=o[p],e=e*u&ee|e*t&Q,e=e<<15|e>>>17,e=e*f&ee|e*i&Q,m^=e,m=m<<13|m>>>19,m=5*m+3864292196);switch(r=0,P){case 3:r^=w[4*S+2]<<16;case 2:r^=w[4*S+1]<<8;case 1:r^=w[4*S],r=r*u&ee|r*t&Q,r=r<<15|r>>>17,r=r*f&ee|r*i&Q,1&S?s^=r:m^=r}this.h1=s,this.h2=m}hexdigest(){let c=this.h1,w=this.h2;c^=w>>>1,c=3981806797*c&ee|36045*c&Q,w=4283543511*w&ee|(2950163797*(w<<16|c>>>16)&ee)>>>16,c^=w>>>1,c=444984403*c&ee|60499*c&Q,w=3301882366*w&ee|(3120437893*(w<<16|c>>>16)&ee)>>>16,c^=w>>>1;const _=(c>>>0).toString(16),S=(w>>>0).toString(16);return _.padStart(8,"0")+S.padStart(8,"0")}}},(de,M,re)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.CanvasGraphics=void 0;var b=re(1),he=re(11),ee=re(12),Q=re(3),J=re(5);const w=4096,r=16;function m(T){if(T._transformStack&&(T._transformStack=[]),!T.mozCurrentTransform){T._originalSave=T.save,T._originalRestore=T.restore,T._originalRotate=T.rotate,T._originalScale=T.scale,T._originalTranslate=T.translate,T._originalTransform=T.transform,T._originalSetTransform=T.setTransform,T._originalResetTransform=T.resetTransform,T._transformMatrix=T._transformMatrix||[1,0,0,1,0,0],T._transformStack=[];try{const a=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(T),"lineWidth");T._setLineWidth=a.set,T._getLineWidth=a.get,Object.defineProperty(T,"lineWidth",{set:function(n){this._setLineWidth(1.000001*n)},get:function(){return this._getLineWidth()}})}catch(a){}Object.defineProperty(T,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(T,"mozCurrentTransformInverse",{get:function(){const[h,n,l,d,v,A]=this._transformMatrix,x=h*d-n*l,B=n*l-h*d;return[d/x,n/B,l/B,h/x,(d*v-l*A)/B,(n*v-h*A)/x]}}),T.save=function(){const h=this._transformMatrix;this._transformStack.push(h),this._transformMatrix=h.slice(0,6),this._originalSave()},T.restore=function(){0===this._transformStack.length&&(0,b.warn)("Tried to restore a ctx when the stack was already empty.");const h=this._transformStack.pop();h&&(this._transformMatrix=h,this._originalRestore())},T.translate=function(h,n){const l=this._transformMatrix;l[4]=l[0]*h+l[2]*n+l[4],l[5]=l[1]*h+l[3]*n+l[5],this._originalTranslate(h,n)},T.scale=function(h,n){const l=this._transformMatrix;l[0]*=h,l[1]*=h,l[2]*=n,l[3]*=n,this._originalScale(h,n)},T.transform=function(h,n,l,d,v,A){const x=this._transformMatrix;this._transformMatrix=[x[0]*h+x[2]*n,x[1]*h+x[3]*n,x[0]*l+x[2]*d,x[1]*l+x[3]*d,x[0]*v+x[2]*A+x[4],x[1]*v+x[3]*A+x[5]],T._originalTransform(h,n,l,d,v,A)},T.setTransform=function(h,n,l,d,v,A){this._transformMatrix=[h,n,l,d,v,A],T._originalSetTransform(h,n,l,d,v,A)},T.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],T._originalResetTransform()},T.rotate=function(h){const n=Math.cos(h),l=Math.sin(h),d=this._transformMatrix;this._transformMatrix=[d[0]*n+d[2]*l,d[1]*n+d[3]*l,d[0]*-l+d[2]*n,d[1]*-l+d[3]*n,d[4],d[5]],this._originalRotate(h)}}}class u{constructor(a){this.canvasFactory=a,this.cache=Object.create(null)}getCanvas(a,h,n,l){let d;return void 0!==this.cache[a]?(d=this.cache[a],this.canvasFactory.reset(d,h,n),d.context.setTransform(1,0,0,1,0,0)):(d=this.canvasFactory.create(h,n),this.cache[a]=d),l&&m(d.context),d}delete(a){delete this.cache[a]}clear(){for(const a in this.cache)this.canvasFactory.destroy(this.cache[a]),delete this.cache[a]}}function f(T,a,h,n,l,d,v,A,x,B){const[j,V,W,q,Y,oe]=T.mozCurrentTransform;if(0===V&&0===W){const ne=Math.round(v*j+Y),D=Math.round(A*q+oe),ue=Math.abs(Math.round((v+x)*j+Y)-ne)||1,fe=Math.abs(Math.round((A+B)*q+oe)-D)||1;return T.setTransform(Math.sign(j),0,0,Math.sign(q),ne,D),T.drawImage(a,h,n,l,d,0,0,ue,fe),T.setTransform(j,V,W,q,Y,oe),[ue,fe]}if(0===j&&0===q){const ne=Math.round(A*W+Y),D=Math.round(v*V+oe),ue=Math.abs(Math.round((A+B)*W+Y)-ne)||1,fe=Math.abs(Math.round((v+x)*V+oe)-D)||1;return T.setTransform(0,Math.sign(V),Math.sign(W),0,ne,D),T.drawImage(a,h,n,l,d,0,0,fe,ue),T.setTransform(j,V,W,q,Y,oe),[fe,ue]}return T.drawImage(a,h,n,l,d,v,A,x,B),[Math.hypot(j,V)*x,Math.hypot(W,q)*B]}class i{constructor(a,h){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=b.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=b.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=b.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,a,h])}clone(){const a=Object.create(this);return a.clipBox=this.clipBox.slice(),a}setCurrentPoint(a,h){this.x=a,this.y=h}updatePathMinMax(a,h,n){[h,n]=b.Util.applyTransform([h,n],a),this.minX=Math.min(this.minX,h),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,h),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(a,h){const n=b.Util.applyTransform(h,a),l=b.Util.applyTransform(h.slice(2),a);this.minX=Math.min(this.minX,n[0],l[0]),this.minY=Math.min(this.minY,n[1],l[1]),this.maxX=Math.max(this.maxX,n[0],l[0]),this.maxY=Math.max(this.maxY,n[1],l[1])}updateScalingPathMinMax(a,h){b.Util.scaleMinMax(a,h),this.minX=Math.min(this.minX,h[0]),this.maxX=Math.max(this.maxX,h[1]),this.minY=Math.min(this.minY,h[2]),this.maxY=Math.max(this.maxY,h[3])}updateCurvePathMinMax(a,h,n,l,d,v,A,x,B,j){const V=b.Util.bezierBoundingBox(h,n,l,d,v,A,x,B);if(j)return j[0]=Math.min(j[0],V[0],V[2]),j[1]=Math.max(j[1],V[0],V[2]),j[2]=Math.min(j[2],V[1],V[3]),void(j[3]=Math.max(j[3],V[1],V[3]));this.updateRectMinMax(a,V)}getPathBoundingBox(a=he.PathType.FILL,h=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(a===he.PathType.STROKE){h||(0,b.unreachable)("Stroke bounding box must include transform.");const l=b.Util.singularValueDecompose2dScale(h),d=l[0]*this.lineWidth/2,v=l[1]*this.lineWidth/2;n[0]-=d,n[1]-=v,n[2]+=d,n[3]+=v}return n}updateClipFromPath(){const a=b.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(a||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(a){this.clipBox=a,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(a=he.PathType.FILL,h=null){return b.Util.intersect(this.clipBox,this.getPathBoundingBox(a,h))}}function p(T,a,h=null){if("undefined"!=typeof ImageData&&a instanceof ImageData)return void T.putImageData(a,0,0);const n=a.height,l=a.width,d=n%r,v=(n-d)/r,A=0===d?v:v+1,x=T.createImageData(l,r);let j,B=0;const V=a.data,W=x.data;let q,Y,oe,_e,K,ie,ne,C;if(h)switch(h.length){case 1:K=h[0],ie=h[0],ne=h[0],C=h[0];break;case 4:K=h[0],ie=h[1],ne=h[2],C=h[3]}if(a.kind===b.ImageKind.GRAYSCALE_1BPP){const D=V.byteLength,G=new Uint32Array(W.buffer,0,W.byteLength>>2),ue=G.length,le=l+7>>3;let fe=4294967295,me=b.FeatureTest.isLittleEndian?4278190080:255;for(C&&255===C[0]&&0===C[255]&&([fe,me]=[me,fe]),q=0;q<A;q++){for(oe=q<v?r:d,j=0,Y=0;Y<oe;Y++){const be=D-B;let Se=0;const Ce=be>le?l:8*be-7,Ee=-8&Ce;let Z=0,k=0;for(;Se<Ee;Se+=8)k=V[B++],G[j++]=128&k?fe:me,G[j++]=64&k?fe:me,G[j++]=32&k?fe:me,G[j++]=16&k?fe:me,G[j++]=8&k?fe:me,G[j++]=4&k?fe:me,G[j++]=2&k?fe:me,G[j++]=1&k?fe:me;for(;Se<Ce;Se++)0===Z&&(k=V[B++],Z=128),G[j++]=k&Z?fe:me,Z>>=1}for(;j<ue;)G[j++]=0;T.putImageData(x,0,q*r)}}else if(a.kind===b.ImageKind.RGBA_32BPP){const D=!!(K||ie||ne);for(Y=0,_e=l*r*4,q=0;q<v;q++){if(W.set(V.subarray(B,B+_e)),B+=_e,D)for(let G=0;G<_e;G+=4)K&&(W[G+0]=K[W[G+0]]),ie&&(W[G+1]=ie[W[G+1]]),ne&&(W[G+2]=ne[W[G+2]]);T.putImageData(x,0,Y),Y+=r}if(q<A){if(_e=l*d*4,W.set(V.subarray(B,B+_e)),D)for(let G=0;G<_e;G+=4)K&&(W[G+0]=K[W[G+0]]),ie&&(W[G+1]=ie[W[G+1]]),ne&&(W[G+2]=ne[W[G+2]]);T.putImageData(x,0,Y)}}else{if(a.kind!==b.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${a.kind}`);{const D=!!(K||ie||ne);for(oe=r,_e=l*oe,q=0;q<A;q++){for(q>=v&&(oe=d,_e=l*oe),j=0,Y=_e;Y--;)W[j++]=V[B++],W[j++]=V[B++],W[j++]=V[B++],W[j++]=255;if(D)for(let G=0;G<j;G+=4)K&&(W[G+0]=K[W[G+0]]),ie&&(W[G+1]=ie[W[G+1]]),ne&&(W[G+2]=ne[W[G+2]]);T.putImageData(x,0,q*r)}}}}function g(T,a){if(a.bitmap)return void T.drawImage(a.bitmap,0,0);const h=a.height,n=a.width,l=h%r,d=(h-l)/r,v=0===l?d:d+1,A=T.createImageData(n,r);let x=0;const B=a.data,j=A.data;for(let V=0;V<v;V++){const W=V<d?r:l;({srcPos:x}=(0,ee.applyMaskImageData)({src:B,srcPos:x,dest:j,width:n,height:W})),T.putImageData(A,0,V*r)}}function y(T,a){const h=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let n=0,l=h.length;n<l;n++){const d=h[n];void 0!==T[d]&&(a[d]=T[d])}void 0!==T.setLineDash&&(a.setLineDash(T.getLineDash()),a.lineDashOffset=T.lineDashOffset)}function E(T,a){T.strokeStyle=T.fillStyle=a||"#000000",T.fillRule="nonzero",T.globalAlpha=1,T.lineWidth=1,T.lineCap="butt",T.lineJoin="miter",T.miterLimit=10,T.globalCompositeOperation="source-over",T.font="10px sans-serif",void 0!==T.setLineDash&&(T.setLineDash([]),T.lineDashOffset=0)}function L(T,a,h,n){const l=T.length;for(let d=3;d<l;d+=4){const v=T[d];if(0===v)T[d-3]=a,T[d-2]=h,T[d-1]=n;else if(v<255){const A=255-v;T[d-3]=T[d-3]*v+a*A>>8,T[d-2]=T[d-2]*v+h*A>>8,T[d-1]=T[d-1]*v+n*A>>8}}}function F(T,a,h){const n=T.length;for(let d=3;d<n;d+=4)a[d]=a[d]*(h?h[T[d]]:T[d])*.00392156862745098|0}function N(T,a,h){const n=T.length;for(let l=3;l<n;l+=4){const d=77*T[l-3]+152*T[l-2]+28*T[l-1];a[l]=h?a[l]*h[d>>8]>>8:a[l]*d>>16}}function X(T,a){const h=b.Util.singularValueDecompose2dScale(T);h[0]=Math.fround(h[0]),h[1]=Math.fround(h[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*J.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==a?a:h[0]<=n||h[1]<=n}const I=["butt","round","square"],z=["miter","round","bevel"],$={},te={};class ae{constructor(a,h,n,l,d,v,A,x){this.ctx=a,this.current=new i(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=h,this.objs=n,this.canvasFactory=l,this.imageLayer=d,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=v,this.cachedCanvases=new u(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=A,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(null==x?void 0:x.background)||null,this.foregroundColor=(null==x?void 0:x.foreground)||null,a&&m(a),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(a,h=null){return"string"==typeof a?a.startsWith("g_")?this.commonObjs.get(a):this.objs.get(a):h}beginDrawing({transform:a,viewport:h,transparency:n=!1,background:l=null}){const d=this.ctx.canvas.width,v=this.ctx.canvas.height,A=l||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const x=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const B=this.backgroundColor=this.ctx.fillStyle;let j=!0,V=A;if(this.ctx.fillStyle=A,V=this.ctx.fillStyle,j="string"==typeof V&&/^#[0-9A-Fa-f]{6}$/.test(V),"#000000"===x&&"#ffffff"===B||x===B||!j)this.foregroundColor=this.backgroundColor=null;else{const W=parseInt(V.slice(1),16),Y=(W&&65280)>>8,oe=W&&255,_e=ie=>(ie/=255)<=.03928?ie/12.92:((ie+.055)/1.055)**2.4,K=Math.round(.2126*_e((W&&16711680)>>16)+.7152*_e(Y)+.0722*_e(oe));this.selectColor=(ie,ne,C)=>{const D=.2126*_e(ie)+.7152*_e(ne)+.0722*_e(C);return Math.round(D)===K?B:x}}}if(this.ctx.fillStyle=this.backgroundColor||A,this.ctx.fillRect(0,0,d,v),this.ctx.restore(),n){const x=this.cachedCanvases.getCanvas("transparent",d,v,!0);this.compositeCtx=this.ctx,this.transparentCanvas=x.canvas,this.ctx=x.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),E(this.ctx,this.foregroundColor),a&&(this.ctx.transform.apply(this.ctx,a),this.outputScaleX=a[0],this.outputScaleY=a[0]),this.ctx.transform.apply(this.ctx,h.transform),this.viewportScale=h.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(a,h,n,l){const d=a.argsArray,v=a.fnArray;let A=h||0;const x=d.length;if(x===A)return A;const B=x-A>10&&"function"==typeof n,j=B?Date.now()+15:0;let V=0;const W=this.commonObjs,q=this.objs;let Y;for(;;){if(void 0!==l&&A===l.nextBreakPoint)return l.breakIt(A,n),A;if(Y=v[A],Y!==b.OPS.dependency)this[Y].apply(this,d[A]);else for(const oe of d[A]){const _e=oe.startsWith("g_")?W:q;if(!_e.has(oe))return _e.get(oe,n),A}if(A++,A===x)return A;if(B&&++V>10){if(Date.now()>j)return n(),A;V=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const a of this._cachedBitmapsMap.values()){for(const h of a.values())"undefined"!=typeof HTMLCanvasElement&&h instanceof HTMLCanvasElement&&(h.width=h.height=0);a.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(a,h){const n=a.width,l=a.height;let j,V,d=Math.max(Math.hypot(h[0],h[1]),1),v=Math.max(Math.hypot(h[2],h[3]),1),A=n,x=l,B="prescale1";for(;d>2&&A>1||v>2&&x>1;){let W=A,q=x;d>2&&A>1&&(W=Math.ceil(A/2),d/=A/W),v>2&&x>1&&(q=Math.ceil(x/2),v/=x/q),j=this.cachedCanvases.getCanvas(B,W,q,!1),V=j.context,V.clearRect(0,0,W,q),V.drawImage(a,0,0,A,x,0,0,W,q),a=j.canvas,A=W,x=q,B="prescale1"===B?"prescale2":"prescale1"}return{img:a,paintWidth:A,paintHeight:x}}_createMaskCanvas(a){const h=this.ctx,{width:n,height:l}=a,d=this.current.fillColor,v=this.current.patternFill,A=h.mozCurrentTransform;let x,B,j,V;if((a.bitmap||a.data)&&a.count>1){const ue=a.bitmap||a.data.buffer,le=A.slice(0,4);B=JSON.stringify(v?le:[le,d]),x=this._cachedBitmapsMap.get(ue),x||(x=new Map,this._cachedBitmapsMap.set(ue,x));const fe=x.get(B);if(fe&&!v)return{canvas:fe,offsetX:Math.round(Math.min(A[0],A[2])+A[4]),offsetY:Math.round(Math.min(A[1],A[3])+A[5])};j=fe}j||(V=this.cachedCanvases.getCanvas("maskCanvas",n,l,!1),g(V.context,a));let W=b.Util.transform(A,[1/n,0,0,-1/l,0,0]);W=b.Util.transform(W,[1,0,0,1,0,-l]);const q=b.Util.applyTransform([0,0],W),Y=b.Util.applyTransform([n,l],W),oe=b.Util.normalizeRect([q[0],q[1],Y[0],Y[1]]),_e=Math.round(oe[2]-oe[0])||1,K=Math.round(oe[3]-oe[1])||1,ie=this.cachedCanvases.getCanvas("fillCanvas",_e,K,!0),ne=ie.context,C=Math.min(q[0],Y[0]),D=Math.min(q[1],Y[1]);ne.translate(-C,-D),ne.transform.apply(ne,W),j||(j=this._scaleImage(V.canvas,ne.mozCurrentTransformInverse),j=j.img,x&&v&&x.set(B,j)),ne.imageSmoothingEnabled=X(ne.mozCurrentTransform,a.interpolate),f(ne,j,0,0,j.width,j.height,0,0,n,l),ne.globalCompositeOperation="source-in";const G=b.Util.transform(ne.mozCurrentTransformInverse,[1,0,0,1,-C,-D]);return ne.fillStyle=v?d.getPattern(h,this,G,he.PathType.FILL):d,ne.fillRect(0,0,n,l),x&&!v&&(this.cachedCanvases.delete("fillCanvas"),x.set(B,ie.canvas)),{canvas:ie.canvas,offsetX:Math.round(C),offsetY:Math.round(D)}}setLineWidth(a){a!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=a,this.ctx.lineWidth=a}setLineCap(a){this.ctx.lineCap=I[a]}setLineJoin(a){this.ctx.lineJoin=z[a]}setMiterLimit(a){this.ctx.miterLimit=a}setDash(a,h){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(a),n.lineDashOffset=h)}setRenderingIntent(a){}setFlatness(a){}setGState(a){for(let h=0,n=a.length;h<n;h++){const l=a[h],v=l[1];switch(l[0]){case"LW":this.setLineWidth(v);break;case"LC":this.setLineCap(v);break;case"LJ":this.setLineJoin(v);break;case"ML":this.setMiterLimit(v);break;case"D":this.setDash(v[0],v[1]);break;case"RI":this.setRenderingIntent(v);break;case"FL":this.setFlatness(v);break;case"Font":this.setFont(v[0],v[1]);break;case"CA":this.current.strokeAlpha=l[1];break;case"ca":this.current.fillAlpha=l[1],this.ctx.globalAlpha=l[1];break;case"BM":this.ctx.globalCompositeOperation=v;break;case"SMask":this.current.activeSMask=v?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=v}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const a=this.inSMaskMode;this.current.activeSMask&&!a?this.beginSMaskMode():!this.current.activeSMask&&a&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const l=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=l.context;const d=this.ctx;d.setTransform.apply(d,this.suspendedCtx.mozCurrentTransform),y(this.suspendedCtx,d),function s(T,a){if(T._removeMirroring)throw new Error("Context is already forwarding operations.");T.__originalSave=T.save,T.__originalRestore=T.restore,T.__originalRotate=T.rotate,T.__originalScale=T.scale,T.__originalTranslate=T.translate,T.__originalTransform=T.transform,T.__originalSetTransform=T.setTransform,T.__originalResetTransform=T.resetTransform,T.__originalClip=T.clip,T.__originalMoveTo=T.moveTo,T.__originalLineTo=T.lineTo,T.__originalBezierCurveTo=T.bezierCurveTo,T.__originalRect=T.rect,T.__originalClosePath=T.closePath,T.__originalBeginPath=T.beginPath,T._removeMirroring=()=>{T.save=T.__originalSave,T.restore=T.__originalRestore,T.rotate=T.__originalRotate,T.scale=T.__originalScale,T.translate=T.__originalTranslate,T.transform=T.__originalTransform,T.setTransform=T.__originalSetTransform,T.resetTransform=T.__originalResetTransform,T.clip=T.__originalClip,T.moveTo=T.__originalMoveTo,T.lineTo=T.__originalLineTo,T.bezierCurveTo=T.__originalBezierCurveTo,T.rect=T.__originalRect,T.closePath=T.__originalClosePath,T.beginPath=T.__originalBeginPath,delete T._removeMirroring},T.save=function(){a.save(),this.__originalSave()},T.restore=function(){a.restore(),this.__originalRestore()},T.translate=function(n,l){a.translate(n,l),this.__originalTranslate(n,l)},T.scale=function(n,l){a.scale(n,l),this.__originalScale(n,l)},T.transform=function(n,l,d,v,A,x){a.transform(n,l,d,v,A,x),this.__originalTransform(n,l,d,v,A,x)},T.setTransform=function(n,l,d,v,A,x){a.setTransform(n,l,d,v,A,x),this.__originalSetTransform(n,l,d,v,A,x)},T.resetTransform=function(){a.resetTransform(),this.__originalResetTransform()},T.rotate=function(n){a.rotate(n),this.__originalRotate(n)},T.clip=function(n){a.clip(n),this.__originalClip(n)},T.moveTo=function(h,n){a.moveTo(h,n),this.__originalMoveTo(h,n)},T.lineTo=function(h,n){a.lineTo(h,n),this.__originalLineTo(h,n)},T.bezierCurveTo=function(h,n,l,d,v,A){a.bezierCurveTo(h,n,l,d,v,A),this.__originalBezierCurveTo(h,n,l,d,v,A)},T.rect=function(h,n,l,d){a.rect(h,n,l,d),this.__originalRect(h,n,l,d)},T.closePath=function(){a.closePath(),this.__originalClosePath()},T.beginPath=function(){a.beginPath(),this.__originalBeginPath()}}(d,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),y(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(a){this.current.activeSMask&&(a?(a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.ceil(a[2]),a[3]=Math.ceil(a[3])):a=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function H(T,a,h,n){const l=n[0],d=n[1],v=n[2]-l,A=n[3]-d;0===v||0===A||(function U(T,a,h,n,l,d,v,A,x,B,j){const V=!!d,W=V?d[0]:0,q=V?d[1]:0,Y=V?d[2]:0;let oe;oe="Luminosity"===l?N:F;const K=Math.min(n,Math.ceil(1048576/h));for(let ie=0;ie<n;ie+=K){const ne=Math.min(K,n-ie),C=T.getImageData(A-B,ie+(x-j),h,ne),D=a.getImageData(A,ie+x,h,ne);V&&L(C.data,W,q,Y),oe(C.data,D.data,v),a.putImageData(D,A,ie+x)}}(a.context,h,v,A,a.subtype,a.backdrop,a.transferMap,l,d,a.offsetX,a.offsetY),T.save(),T.globalAlpha=1,T.globalCompositeOperation="source-over",T.setTransform(1,0,0,1,0,0),T.drawImage(h.canvas,0,0),T.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,a),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(y(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const a=this.current;this.stateStack.push(a),this.current=a.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),y(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(a,h,n,l,d,v){this.ctx.transform(a,h,n,l,d,v),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(a,h,n){const l=this.ctx,d=this.current;let x,B,v=d.x,A=d.y;const j=l.mozCurrentTransform,V=0===j[0]&&0===j[3]||0===j[1]&&0===j[2],W=V?n.slice(0):null;for(let q=0,Y=0,oe=a.length;q<oe;q++)switch(0|a[q]){case b.OPS.rectangle:v=h[Y++],A=h[Y++];const _e=h[Y++],K=h[Y++],ie=v+_e,ne=A+K;l.moveTo(v,A),0===_e||0===K?l.lineTo(ie,ne):(l.lineTo(ie,A),l.lineTo(ie,ne),l.lineTo(v,ne)),V||d.updateRectMinMax(j,[v,A,ie,ne]),l.closePath();break;case b.OPS.moveTo:v=h[Y++],A=h[Y++],l.moveTo(v,A),V||d.updatePathMinMax(j,v,A);break;case b.OPS.lineTo:v=h[Y++],A=h[Y++],l.lineTo(v,A),V||d.updatePathMinMax(j,v,A);break;case b.OPS.curveTo:x=v,B=A,v=h[Y+4],A=h[Y+5],l.bezierCurveTo(h[Y],h[Y+1],h[Y+2],h[Y+3],v,A),d.updateCurvePathMinMax(j,x,B,h[Y],h[Y+1],h[Y+2],h[Y+3],v,A,W),Y+=6;break;case b.OPS.curveTo2:x=v,B=A,l.bezierCurveTo(v,A,h[Y],h[Y+1],h[Y+2],h[Y+3]),d.updateCurvePathMinMax(j,x,B,v,A,h[Y],h[Y+1],h[Y+2],h[Y+3],W),v=h[Y+2],A=h[Y+3],Y+=4;break;case b.OPS.curveTo3:x=v,B=A,v=h[Y+2],A=h[Y+3],l.bezierCurveTo(h[Y],h[Y+1],v,A,v,A),d.updateCurvePathMinMax(j,x,B,h[Y],h[Y+1],v,A,v,A,W),Y+=4;break;case b.OPS.closePath:l.closePath()}V&&d.updateScalingPathMinMax(j,W),d.setCurrentPoint(v,A)}closePath(){this.ctx.closePath()}stroke(a){a=void 0===a||a;const h=this.ctx,n=this.current.strokeColor;h.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof n&&(null==n?void 0:n.getPattern)?(h.save(),h.strokeStyle=n.getPattern(h,this,h.mozCurrentTransformInverse,he.PathType.STROKE),this.rescaleAndStroke(!1),h.restore()):this.rescaleAndStroke(!0)),a&&this.consumePath(this.current.getClippedPathBoundingBox()),h.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(a){a=void 0===a||a;const h=this.ctx,n=this.current.fillColor;let d=!1;this.current.patternFill&&(h.save(),h.fillStyle=n.getPattern(h,this,h.mozCurrentTransformInverse,he.PathType.FILL),d=!0);const v=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==v&&(this.pendingEOFill?(h.fill("evenodd"),this.pendingEOFill=!1):h.fill()),d&&h.restore(),a&&this.consumePath(v)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=$}eoClip(){this.pendingClip=te}beginText(){this.current.textMatrix=b.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const a=this.pendingTextPaths,h=this.ctx;if(void 0!==a){h.save(),h.beginPath();for(let n=0;n<a.length;n++){const l=a[n];h.setTransform.apply(h,l.transform),h.translate(l.x,l.y),l.addToPath(h,l.fontSize)}h.restore(),h.clip(),h.beginPath(),delete this.pendingTextPaths}else h.beginPath()}setCharSpacing(a){this.current.charSpacing=a}setWordSpacing(a){this.current.wordSpacing=a}setHScale(a){this.current.textHScale=a/100}setLeading(a){this.current.leading=-a}setFont(a,h){const n=this.commonObjs.get(a),l=this.current;if(!n)throw new Error(`Can't find font for ${a}`);if(l.fontMatrix=n.fontMatrix||b.FONT_IDENTITY_MATRIX,(0===l.fontMatrix[0]||0===l.fontMatrix[3])&&(0,b.warn)("Invalid font matrix for font "+a),h<0?(h=-h,l.fontDirection=-1):l.fontDirection=1,this.current.font=n,this.current.fontSize=h,n.isType3Font)return;let v="normal";n.black?v="900":n.bold&&(v="bold");const A=n.italic?"italic":"normal",x=`"${n.loadedName||"sans-serif"}", ${n.fallbackName}`;let B=h;h<16?B=16:h>100&&(B=100),this.current.fontSizeScale=h/B,this.ctx.font=`${A} ${v} ${B}px ${x}`}setTextRenderingMode(a){this.current.textRenderingMode=a}setTextRise(a){this.current.textRise=a}moveText(a,h){this.current.x=this.current.lineX+=a,this.current.y=this.current.lineY+=h}setLeadingMoveText(a,h){this.setLeading(-h),this.moveText(a,h)}setTextMatrix(a,h,n,l,d,v){this.current.textMatrix=[a,h,n,l,d,v],this.current.textMatrixScale=Math.hypot(a,h),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(a,h,n,l){const d=this.ctx,v=this.current,A=v.font,x=v.textRenderingMode,B=v.fontSize/v.fontSizeScale,j=x&b.TextRenderingMode.FILL_STROKE_MASK,V=!!(x&b.TextRenderingMode.ADD_TO_PATH_FLAG),W=v.patternFill&&!A.missingFile;let q;(A.disableFontFace||V||W)&&(q=A.getPathGenerator(this.commonObjs,a)),A.disableFontFace||W?(d.save(),d.translate(h,n),d.beginPath(),q(d,B),l&&d.setTransform.apply(d,l),(j===b.TextRenderingMode.FILL||j===b.TextRenderingMode.FILL_STROKE)&&d.fill(),(j===b.TextRenderingMode.STROKE||j===b.TextRenderingMode.FILL_STROKE)&&d.stroke(),d.restore()):((j===b.TextRenderingMode.FILL||j===b.TextRenderingMode.FILL_STROKE)&&d.fillText(a,h,n),(j===b.TextRenderingMode.STROKE||j===b.TextRenderingMode.FILL_STROKE)&&d.strokeText(a,h,n)),V&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:d.mozCurrentTransform,x:h,y:n,fontSize:B,addToPath:q})}get isFontSubpixelAAEnabled(){const{context:a}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);a.scale(1.5,1),a.fillText("I",0,10);const h=a.getImageData(0,0,10,10).data;let n=!1;for(let l=3;l<h.length;l+=4)if(h[l]>0&&h[l]<255){n=!0;break}return(0,b.shadow)(this,"isFontSubpixelAAEnabled",n)}showText(a){const h=this.current,n=h.font;if(n.isType3Font)return this.showType3Text(a);const l=h.fontSize;if(0===l)return;const d=this.ctx,v=h.fontSizeScale,A=h.charSpacing,x=h.wordSpacing,B=h.fontDirection,j=h.textHScale*B,V=a.length,W=n.vertical,q=W?1:-1,Y=n.defaultVMetrics,oe=l*h.fontMatrix[0],_e=h.textRenderingMode===b.TextRenderingMode.FILL&&!n.disableFontFace&&!h.patternFill;let K;if(d.save(),d.transform.apply(d,h.textMatrix),d.translate(h.x,h.y+h.textRise),d.scale(j,B>0?-1:1),h.patternFill){d.save();const G=h.fillColor.getPattern(d,this,d.mozCurrentTransformInverse,he.PathType.FILL);K=d.mozCurrentTransform,d.restore(),d.fillStyle=G}let ie=h.lineWidth;const ne=h.textMatrixScale;if(0===ne||0===ie){const G=h.textRenderingMode&b.TextRenderingMode.FILL_STROKE_MASK;(G===b.TextRenderingMode.STROKE||G===b.TextRenderingMode.FILL_STROKE)&&(ie=this.getSinglePixelWidth())}else ie/=ne;1!==v&&(d.scale(v,v),ie/=v),d.lineWidth=ie;let D,C=0;for(D=0;D<V;++D){const G=a[D];if("number"==typeof G){C+=q*G*l/1e3;continue}let ue=!1;const le=(G.isSpace?x:0)+A,fe=G.fontChar,me=G.accent;let be,Se,Ee,Ce=G.width;if(W){const Z=G.vmetric||Y,k=-(G.vmetric?Z[1]:.5*Ce)*oe;Ce=Z?-Z[0]:Ce,be=k/v,Se=(C+Z[2]*oe)/v}else be=C/v,Se=0;if(n.remeasure&&Ce>0){const Z=1e3*d.measureText(fe).width/l*v;if(Ce<Z&&this.isFontSubpixelAAEnabled){const k=Ce/Z;ue=!0,d.save(),d.scale(k,1),be/=k}else Ce!==Z&&(be+=(Ce-Z)/2e3*l/v)}this.contentVisible&&(G.isInFont||n.missingFile)&&(_e&&!me?d.fillText(fe,be,Se):(this.paintChar(fe,be,Se,K),me&&this.paintChar(me.fontChar,be+l*me.offset.x/v,Se-l*me.offset.y/v,K))),Ee=W?Ce*oe-le*B:Ce*oe+le*B,C+=Ee,ue&&d.restore()}W?h.y-=C:h.x+=C*j,d.restore(),this.compose()}showType3Text(a){const h=this.ctx,n=this.current,l=n.font,d=n.fontSize,v=n.fontDirection,A=l.vertical?1:-1,x=n.charSpacing,B=n.wordSpacing,j=n.textHScale*v,V=n.fontMatrix||b.FONT_IDENTITY_MATRIX,W=a.length;let Y,oe,_e,K;if(n.textRenderingMode!==b.TextRenderingMode.INVISIBLE&&0!==d){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,h.save(),h.transform.apply(h,n.textMatrix),h.translate(n.x,n.y),h.scale(j,v),Y=0;Y<W;++Y){if(oe=a[Y],"number"==typeof oe){K=A*oe*d/1e3,this.ctx.translate(K,0),n.x+=K*j;continue}const ie=(oe.isSpace?B:0)+x,ne=l.charProcOperatorList[oe.operatorListId];ne?(this.contentVisible&&(this.processingType3=oe,this.save(),h.scale(d,d),h.transform.apply(h,V),this.executeOperatorList(ne),this.restore()),_e=b.Util.applyTransform([oe.width,0],V)[0]*d+ie,h.translate(_e,0),n.x+=_e*j):(0,b.warn)(`Type3 character "${oe.operatorListId}" is not available.`)}h.restore(),this.processingType3=null}}setCharWidth(a,h){}setCharWidthAndBounds(a,h,n,l,d,v){this.ctx.rect(n,l,d-n,v-l),this.ctx.clip(),this.endPath()}getColorN_Pattern(a){let h;if("TilingPattern"===a[0]){const n=a[1],l=this.baseTransform||this.ctx.mozCurrentTransform.slice();h=new he.TilingPattern(a,n,this.ctx,{createCanvasGraphics:v=>new ae(v,this.commonObjs,this.objs,this.canvasFactory)},l)}else h=this._getPattern(a[1],a[2]);return h}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(a,h,n){var d;const l=(null==(d=this.selectColor)?void 0:d.call(this,a,h,n))||b.Util.makeHexColor(a,h,n);this.ctx.strokeStyle=l,this.current.strokeColor=l}setFillRGBColor(a,h,n){var d;const l=(null==(d=this.selectColor)?void 0:d.call(this,a,h,n))||b.Util.makeHexColor(a,h,n);this.ctx.fillStyle=l,this.current.fillColor=l,this.current.patternFill=!1}_getPattern(a,h=null){let n;return this.cachedPatterns.has(a)?n=this.cachedPatterns.get(a):(n=(0,he.getShadingPattern)(this.objs.get(a)),this.cachedPatterns.set(a,n)),h&&(n.matrix=h),n}shadingFill(a){if(!this.contentVisible)return;const h=this.ctx;this.save();const n=this._getPattern(a);h.fillStyle=n.getPattern(h,this,h.mozCurrentTransformInverse,he.PathType.SHADING);const l=h.mozCurrentTransformInverse;if(l){const d=h.canvas,v=d.width,A=d.height,x=b.Util.applyTransform([0,0],l),B=b.Util.applyTransform([0,A],l),j=b.Util.applyTransform([v,0],l),V=b.Util.applyTransform([v,A],l),W=Math.min(x[0],B[0],j[0],V[0]),q=Math.min(x[1],B[1],j[1],V[1]),Y=Math.max(x[0],B[0],j[0],V[0]),oe=Math.max(x[1],B[1],j[1],V[1]);this.ctx.fillRect(W,q,Y-W,oe-q)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,b.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,b.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(a,h){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(a)&&6===a.length&&this.transform.apply(this,a),this.baseTransform=this.ctx.mozCurrentTransform,h)&&(this.ctx.rect(h[0],h[1],h[2]-h[0],h[3]-h[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,h),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(a){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const h=this.ctx;a.isolated||(0,b.info)("TODO: Support non-isolated groups."),a.knockout&&(0,b.warn)("Knockout groups not supported.");const n=h.mozCurrentTransform;if(a.matrix&&h.transform.apply(h,a.matrix),!a.bbox)throw new Error("Bounding box is required.");let l=b.Util.getAxialAlignedBoundingBox(a.bbox,h.mozCurrentTransform);l=b.Util.intersect(l,[0,0,h.canvas.width,h.canvas.height])||[0,0,0,0];const v=Math.floor(l[0]),A=Math.floor(l[1]);let x=Math.max(Math.ceil(l[2])-v,1),B=Math.max(Math.ceil(l[3])-A,1),j=1,V=1;x>w&&(j=x/w,x=w),B>w&&(V=B/w,B=w),this.current.startNewPathAndClipBox([0,0,x,B]);let W="groupAt"+this.groupLevel;a.smask&&(W+="_smask_"+this.smaskCounter++%2);const q=this.cachedCanvases.getCanvas(W,x,B,!0),Y=q.context;Y.scale(1/j,1/V),Y.translate(-v,-A),Y.transform.apply(Y,n),a.smask?this.smaskStack.push({canvas:q.canvas,context:Y,offsetX:v,offsetY:A,scaleX:j,scaleY:V,subtype:a.smask.subtype,backdrop:a.smask.backdrop,transferMap:a.smask.transferMap||null,startTransformInverse:null}):(h.setTransform(1,0,0,1,0,0),h.translate(v,A),h.scale(j,V),h.save()),y(h,Y),this.ctx=Y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(h),this.groupLevel++}endGroup(a){if(!this.contentVisible)return;this.groupLevel--;const h=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,a.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const l=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,l);const d=b.Util.getAxialAlignedBoundingBox([0,0,h.canvas.width,h.canvas.height],l);this.ctx.drawImage(h.canvas,0,0),this.ctx.restore(),this.compose(d)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(a,h,n,l,d){if(this.save(),Array.isArray(h)&&4===h.length){const v=h[2]-h[0],A=h[3]-h[1];if(d&&this.annotationCanvasMap){(n=n.slice())[4]-=h[0],n[5]-=h[1],(h=h.slice())[0]=h[1]=0,h[2]=v,h[3]=A;const[x,B]=b.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:j}=this,V=Math.ceil(v*this.outputScaleX*j),W=Math.ceil(A*this.outputScaleY*j);this.annotationCanvas=this.canvasFactory.create(V,W);const{canvas:q,context:Y}=this.annotationCanvas,oe=`var(--zoom-factor) * ${J.PixelsPerInch.PDF_TO_CSS_UNITS}`;q.style.width=`calc(${v}px * ${oe})`,q.style.height=`calc(${A}px * ${oe})`,this.annotationCanvasMap.set(a,q),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Y,this.ctx.setTransform(x,0,0,-B,0,A*B),m(this.ctx),E(this.ctx,this.foregroundColor)}else E(this.ctx,this.foregroundColor),this.ctx.rect(h[0],h[1],v,A),this.ctx.clip(),this.endPath()}this.current=new i(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,n),this.transform.apply(this,l)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(a){if(!this.contentVisible)return;const h=a.count;(a=this.getObject(a.data,a)).count=h;const n=this.ctx,l=this.processingType3;if(l&&(void 0===l.compiled&&(l.compiled=function t(T){const{width:a,height:h}=T;if(a>1e3||h>1e3)return null;const l=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),d=a+1;let A,x,B,v=new Uint8Array(d*(h+1));const j=a+7&-8;let V=new Uint8Array(j*h),W=0;for(const ne of T.data){let C=128;for(;C>0;)V[W++]=ne&C?0:255,C>>=1}let q=0;for(W=0,0!==V[W]&&(v[0]=1,++q),x=1;x<a;x++)V[W]!==V[W+1]&&(v[x]=V[W]?2:1,++q),W++;for(0!==V[W]&&(v[x]=2,++q),A=1;A<h;A++){W=A*j,B=A*d,V[W-j]!==V[W]&&(v[B]=V[W]?1:8,++q);let ne=(V[W]?4:0)+(V[W-j]?8:0);for(x=1;x<a;x++)ne=(ne>>2)+(V[W+1]?4:0)+(V[W-j+1]?8:0),l[ne]&&(v[B+x]=l[ne],++q),W++;if(V[W-j]!==V[W]&&(v[B+x]=V[W]?2:4,++q),q>1e3)return null}for(W=j*(h-1),B=A*d,0!==V[W]&&(v[B]=8,++q),x=1;x<a;x++)V[W]!==V[W+1]&&(v[B+x]=V[W]?4:8,++q),W++;if(0!==V[W]&&(v[B+x]=4,++q),q>1e3)return null;const Y=new Int32Array([0,d,-1,0,-d,0,0,0,1]);let oe,_e,K;for(Q.isNodeJS?_e=[]:oe=new Path2D,A=0;q&&A<=h;A++){let ne=A*d;const C=ne+a;for(;ne<C&&!v[ne];)ne++;if(ne===C)continue;oe?oe.moveTo(ne%d,A):K=[ne%d,A];const D=ne;let G=v[ne];do{const ue=Y[G];do{ne+=ue}while(!v[ne]);const le=v[ne];5!==le&&10!==le?(G=le,v[ne]=0):(G=le&51*G>>4,v[ne]&=G>>2|G<<2),oe?oe.lineTo(ne%d,ne/d|0):K.push(ne%d,ne/d|0),v[ne]||--q}while(D!==ne);oe||_e.push(K),--A}return V=null,v=null,function(ne){if(ne.save(),ne.scale(1/a,-1/h),ne.translate(0,-h),oe)ne.fill(oe);else{ne.beginPath();for(const C of _e){ne.moveTo(C[0],C[1]);for(let D=2,G=C.length;D<G;D+=2)ne.lineTo(C[D],C[D+1])}ne.fill()}ne.beginPath(),ne.restore()}}(a)),l.compiled))return void l.compiled(n);const d=this._createMaskCanvas(a),v=d.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(v,d.offsetX,d.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(a,h,n=0,l=0,d,v){if(!this.contentVisible)return;a=this.getObject(a.data,a);const A=this.ctx;A.save();const x=A.mozCurrentTransform;A.transform(h,n,l,d,0,0);const B=this._createMaskCanvas(a);A.setTransform(1,0,0,1,0,0);for(let j=0,V=v.length;j<V;j+=2){const W=b.Util.transform(x,[h,n,l,d,v[j],v[j+1]]),[q,Y]=b.Util.applyTransform([0,0],W);A.drawImage(B.canvas,q,Y)}A.restore(),this.compose()}paintImageMaskXObjectGroup(a){if(!this.contentVisible)return;const h=this.ctx,n=this.current.fillColor,l=this.current.patternFill;for(let d=0,v=a.length;d<v;d++){const A=a[d],x=A.width,B=A.height,j=this.cachedCanvases.getCanvas("maskCanvas",x,B,!1),V=j.context;V.save(),g(V,A),V.globalCompositeOperation="source-in",V.fillStyle=l?n.getPattern(V,this,h.mozCurrentTransformInverse,he.PathType.FILL):n,V.fillRect(0,0,x,B),V.restore(),h.save(),h.transform.apply(h,A.transform),h.scale(1,-1),f(h,j.canvas,0,0,x,B,0,-1,1,1),h.restore()}this.compose()}paintImageXObject(a){if(!this.contentVisible)return;const h=this.getObject(a);h?this.paintInlineImageXObject(h):(0,b.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(a,h,n,l){if(!this.contentVisible)return;const d=this.getObject(a);if(!d)return void(0,b.warn)("Dependent image isn't ready yet");const v=d.width,A=d.height,x=[];for(let B=0,j=l.length;B<j;B+=2)x.push({transform:[h,0,0,n,l[B],l[B+1]],x:0,y:0,w:v,h:A});this.paintInlineImageXObjectGroup(d,x)}paintInlineImageXObject(a){if(!this.contentVisible)return;const h=a.width,n=a.height,l=this.ctx;let d;if(this.save(),l.scale(1/h,-1/n),"function"==typeof HTMLElement&&a instanceof HTMLElement||!a.data)d=a;else{const B=this.cachedCanvases.getCanvas("inlineImage",h,n,!1);p(B.context,a,this.current.transferMaps),d=B.canvas}const v=this._scaleImage(d,l.mozCurrentTransformInverse);l.imageSmoothingEnabled=X(l.mozCurrentTransform,a.interpolate);const[A,x]=f(l,v.img,0,0,v.paintWidth,v.paintHeight,0,-n,h,n);if(this.imageLayer){const B=this.getCanvasPosition(0,-n);this.imageLayer.appendImage({imgData:a,left:B[0],top:B[1],width:A,height:x})}this.compose(),this.restore()}paintInlineImageXObjectGroup(a,h){if(!this.contentVisible)return;const n=this.ctx,l=a.width,d=a.height,v=this.cachedCanvases.getCanvas("inlineImage",l,d,!1);p(v.context,a,this.current.transferMaps);for(let x=0,B=h.length;x<B;x++){const j=h[x];if(n.save(),n.transform.apply(n,j.transform),n.scale(1,-1),f(n,v.canvas,j.x,j.y,j.w,j.h,0,-1,1,1),this.imageLayer){const V=this.getCanvasPosition(j.x,j.y);this.imageLayer.appendImage({imgData:a,left:V[0],top:V[1],width:l,height:d})}n.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(a){}markPointProps(a,h){}beginMarkedContent(a){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(a,h){this.markedContentStack.push("OC"===a?{visible:this.optionalContentConfig.isVisible(h)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(a){const h=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(a);const n=this.ctx;this.pendingClip&&(h||(this.pendingClip===te?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const a=this.ctx.mozCurrentTransform;if(0===a[1]&&0===a[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(a[0]),Math.abs(a[3]));else{const h=Math.abs(a[0]*a[3]-a[2]*a[1]),n=Math.hypot(a[0],a[2]),l=Math.hypot(a[1],a[3]);this._cachedGetSinglePixelWidth=Math.max(n,l)/h}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:a}=this.current,h=this.ctx.mozCurrentTransform;let n,l;if(0===h[1]&&0===h[2]){const d=Math.abs(h[0]),v=Math.abs(h[3]);if(0===a)n=1/d,l=1/v;else{const A=d*a,x=v*a;n=A<1?1/A:1,l=x<1?1/x:1}}else{const d=Math.abs(h[0]*h[3]-h[2]*h[1]),v=Math.hypot(h[0],h[1]),A=Math.hypot(h[2],h[3]);if(0===a)n=A/d,l=v/d;else{const x=a*d;n=A>x?A/x:1,l=v>x?v/x:1}}this._cachedScaleForStroking=[n,l]}return this._cachedScaleForStroking}rescaleAndStroke(a){const{ctx:h}=this,{lineWidth:n}=this.current,[l,d]=this.getScaleForStroking();if(h.lineWidth=n||1,1===l&&1===d)return void h.stroke();let v,A,x;a&&(v=h.mozCurrentTransform.slice(),A=h.getLineDash().slice(),x=h.lineDashOffset),h.scale(l,d);const B=Math.max(l,d);h.setLineDash(h.getLineDash().map(j=>j/B)),h.lineDashOffset/=B,h.stroke(),a&&(h.setTransform(...v),h.setLineDash(A),h.lineDashOffset=x)}getCanvasPosition(a,h){const n=this.ctx.mozCurrentTransform;return[n[0]*a+n[2]*h+n[4],n[1]*a+n[3]*h+n[5]]}isContentVisible(){for(let a=this.markedContentStack.length-1;a>=0;a--)if(!this.markedContentStack[a].visible)return!1;return!0}}M.CanvasGraphics=ae;for(const T in b.OPS)void 0!==ae.prototype[T]&&(ae.prototype[b.OPS[T]]=ae.prototype[T])},(de,M,re)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.TilingPattern=M.PathType=void 0,M.getShadingPattern=function P(e){switch(e[0]){case"RadialAxial":return new O(e);case"Mesh":return new _(e);case"Dummy":return new S}throw new Error(`Unknown IR type: ${e[0]}`)};var b=re(1),he=re(3);const ee={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Q(e,s){if(!s||he.isNodeJS)return;const m=s[2]-s[0],u=s[3]-s[1],f=new Path2D;f.rect(s[0],s[1],m,u),e.clip(f)}M.PathType=ee;class J{constructor(){this.constructor===J&&(0,b.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,b.unreachable)("Abstract method `getPattern` called.")}}class O extends J{constructor(s){super(),this._type=s[1],this._bbox=s[2],this._colorStops=s[3],this._p0=s[4],this._p1=s[5],this._r0=s[6],this._r1=s[7],this.matrix=null}_createGradient(s){let m;"axial"===this._type?m=s.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(m=s.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const u of this._colorStops)m.addColorStop(u[0],u[1]);return m}getPattern(s,m,u,f){let t;if(f===ee.STROKE||f===ee.FILL){const i=m.current.getClippedPathBoundingBox(f,s.mozCurrentTransform)||[0,0,0,0],p=Math.ceil(i[2]-i[0])||1,g=Math.ceil(i[3]-i[1])||1,y=m.cachedCanvases.getCanvas("pattern",p,g,!0),E=y.context;E.clearRect(0,0,E.canvas.width,E.canvas.height),E.beginPath(),E.rect(0,0,E.canvas.width,E.canvas.height),E.translate(-i[0],-i[1]),u=b.Util.transform(u,[1,0,0,1,i[0],i[1]]),E.transform.apply(E,m.baseTransform),this.matrix&&E.transform.apply(E,this.matrix),Q(E,this._bbox),E.fillStyle=this._createGradient(E),E.fill(),t=s.createPattern(y.canvas,"no-repeat");const L=new DOMMatrix(u);try{t.setTransform(L)}catch(F){(0,b.warn)(`RadialAxialShadingPattern.getPattern: "${null==F?void 0:F.message}".`)}}else Q(s,this._bbox),t=this._createGradient(s);return t}}function c(e,s,m,u,f,t,i,p){const g=s.coords,y=s.colors,E=e.data,L=4*e.width;let F;g[m+1]>g[u+1]&&(F=m,m=u,u=F,F=t,t=i,i=F),g[u+1]>g[f+1]&&(F=u,u=f,f=F,F=i,i=p,p=F),g[m+1]>g[u+1]&&(F=m,m=u,u=F,F=t,t=i,i=F);const N=(g[m]+s.offsetX)*s.scaleX,U=(g[m+1]+s.offsetY)*s.scaleY,H=(g[u]+s.offsetX)*s.scaleX,X=(g[u+1]+s.offsetY)*s.scaleY,I=(g[f]+s.offsetX)*s.scaleX,z=(g[f+1]+s.offsetY)*s.scaleY;if(U>=z)return;const $=y[t],te=y[t+1],ae=y[t+2],T=y[i],a=y[i+1],h=y[i+2],n=y[p],l=y[p+1],d=y[p+2],v=Math.round(U),A=Math.round(z);let x,B,j,V,W,q,Y,oe;for(let _e=v;_e<=A;_e++){if(_e<X){let D;D=_e<U?0:(U-_e)/(U-X),x=N-(N-H)*D,B=$-($-T)*D,j=te-(te-a)*D,V=ae-(ae-h)*D}else{let D;D=_e>z?1:X===z?0:(X-_e)/(X-z),x=H-(H-I)*D,B=T-(T-n)*D,j=a-(a-l)*D,V=h-(h-d)*D}let K;K=_e<U?0:_e>z?1:(U-_e)/(U-z),W=N-(N-I)*K,q=$-($-n)*K,Y=te-(te-l)*K,oe=ae-(ae-d)*K;const ie=Math.round(Math.min(x,W)),ne=Math.round(Math.max(x,W));let C=L*_e+4*ie;for(let D=ie;D<=ne;D++)K=(x-D)/(x-W),K<0?K=0:K>1&&(K=1),E[C++]=B-(B-q)*K|0,E[C++]=j-(j-Y)*K|0,E[C++]=V-(V-oe)*K|0,E[C++]=255}}function w(e,s,m){const u=s.coords,f=s.colors;let t,i;switch(s.type){case"lattice":const p=s.verticesPerRow,g=Math.floor(u.length/p)-1,y=p-1;for(t=0;t<g;t++){let E=t*p;for(let L=0;L<y;L++,E++)c(e,m,u[E],u[E+1],u[E+p],f[E],f[E+1],f[E+p]),c(e,m,u[E+p+1],u[E+1],u[E+p],f[E+p+1],f[E+1],f[E+p])}break;case"triangles":for(t=0,i=u.length;t<i;t+=3)c(e,m,u[t],u[t+1],u[t+2],f[t],f[t+1],f[t+2]);break;default:throw new Error("illegal figure")}}class _ extends J{constructor(s){super(),this._coords=s[2],this._colors=s[3],this._figures=s[4],this._bounds=s[5],this._bbox=s[7],this._background=s[8],this.matrix=null}_createMeshCanvas(s,m,u){const p=Math.floor(this._bounds[0]),g=Math.floor(this._bounds[1]),y=Math.ceil(this._bounds[2])-p,E=Math.ceil(this._bounds[3])-g,L=Math.min(Math.ceil(Math.abs(y*s[0]*1.1)),3e3),F=Math.min(Math.ceil(Math.abs(E*s[1]*1.1)),3e3),N=y/L,U=E/F,H={coords:this._coords,colors:this._colors,offsetX:-p,offsetY:-g,scaleX:1/N,scaleY:1/U},z=u.getCanvas("mesh",L+4,F+4,!1),$=z.context,te=$.createImageData(L,F);if(m){const T=te.data;for(let a=0,h=T.length;a<h;a+=4)T[a]=m[0],T[a+1]=m[1],T[a+2]=m[2],T[a+3]=255}for(const T of this._figures)w(te,T,H);return $.putImageData(te,2,2),{canvas:z.canvas,offsetX:p-2*N,offsetY:g-2*U,scaleX:N,scaleY:U}}getPattern(s,m,u,f){let t;if(Q(s,this._bbox),f===ee.SHADING)t=b.Util.singularValueDecompose2dScale(s.mozCurrentTransform);else if(t=b.Util.singularValueDecompose2dScale(m.baseTransform),this.matrix){const p=b.Util.singularValueDecompose2dScale(this.matrix);t=[t[0]*p[0],t[1]*p[1]]}const i=this._createMeshCanvas(t,f===ee.SHADING?null:this._background,m.cachedCanvases);return f!==ee.SHADING&&(s.setTransform.apply(s,m.baseTransform),this.matrix&&s.transform.apply(s,this.matrix)),s.translate(i.offsetX,i.offsetY),s.scale(i.scaleX,i.scaleY),s.createPattern(i.canvas,"no-repeat")}}class S extends J{getPattern(){return"hotpink"}}class r{static get MAX_PATTERN_SIZE(){return(0,b.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(s,m,u,f,t){this.operatorList=s[2],this.matrix=s[3]||[1,0,0,1,0,0],this.bbox=s[4],this.xstep=s[5],this.ystep=s[6],this.paintType=s[7],this.tilingType=s[8],this.color=m,this.ctx=u,this.canvasGraphicsFactory=f,this.baseTransform=t}createPatternCanvas(s){const m=this.operatorList,u=this.bbox,f=this.xstep,t=this.ystep,i=this.paintType,g=this.color,y=this.canvasGraphicsFactory;(0,b.info)("TilingType: "+this.tilingType);const E=u[0],L=u[1],F=u[2],N=u[3],U=b.Util.singularValueDecompose2dScale(this.matrix),H=b.Util.singularValueDecompose2dScale(this.baseTransform),X=[U[0]*H[0],U[1]*H[1]],I=this.getSizeAndScale(f,this.ctx.canvas.width,X[0]),z=this.getSizeAndScale(t,this.ctx.canvas.height,X[1]),$=s.cachedCanvases.getCanvas("pattern",I.size,z.size,!0),te=$.context,ae=y.createCanvasGraphics(te);ae.groupLevel=s.groupLevel,this.setFillAndStrokeStyleToContext(ae,i,g);let T=E,a=L,h=F,n=N;return E<0&&(T=0,h+=Math.abs(E)),L<0&&(a=0,n+=Math.abs(L)),te.translate(-I.scale*T,-z.scale*a),ae.transform(I.scale,0,0,z.scale,0,0),te.save(),this.clipBbox(ae,T,a,h,n),ae.baseTransform=ae.ctx.mozCurrentTransform.slice(),ae.executeOperatorList(m),ae.endDrawing(),{canvas:$.canvas,scaleX:I.scale,scaleY:z.scale,offsetX:T,offsetY:a}}getSizeAndScale(s,m,u){s=Math.abs(s);const f=Math.max(r.MAX_PATTERN_SIZE,m);let t=Math.ceil(s*u);return t>=f?t=f:u=t/s,{scale:u,size:t}}clipBbox(s,m,u,f,t){s.ctx.rect(m,u,f-m,t-u),s.current.updateRectMinMax(s.ctx.mozCurrentTransform,[m,u,f,t]),s.clip(),s.endPath()}setFillAndStrokeStyleToContext(s,m,u){const f=s.ctx,t=s.current;switch(m){case 1:const i=this.ctx;f.fillStyle=i.fillStyle,f.strokeStyle=i.strokeStyle,t.fillColor=i.fillStyle,t.strokeColor=i.strokeStyle;break;case 2:const p=b.Util.makeHexColor(u[0],u[1],u[2]);f.fillStyle=p,f.strokeStyle=p,t.fillColor=p,t.strokeColor=p;break;default:throw new b.FormatError(`Unsupported paint type: ${m}`)}}getPattern(s,m,u,f){let t=u;f!==ee.SHADING&&(t=b.Util.transform(t,m.baseTransform),this.matrix&&(t=b.Util.transform(t,this.matrix)));const i=this.createPatternCanvas(m);let p=new DOMMatrix(t);p=p.translate(i.offsetX,i.offsetY),p=p.scale(1/i.scaleX,1/i.scaleY);const g=s.createPattern(i.canvas,"repeat");try{g.setTransform(p)}catch(y){(0,b.warn)(`TilingPattern.getPattern: "${null==y?void 0:y.message}".`)}return g}}M.TilingPattern=r},(de,M,re)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.applyMaskImageData=function he({src:ee,srcPos:Q=0,dest:J,destPos:O=0,width:c,height:w,inverseDecode:_=!1}){const S=b.FeatureTest.isLittleEndian?4278190080:255,[P,o]=_?[0,S]:[S,0],r=c>>3,e=7&c,s=ee.length;J=new Uint32Array(J.buffer);for(let m=0;m<w;m++){for(const f=Q+r;Q<f;Q++){const t=Q<s?ee[Q]:255;J[O++]=128&t?o:P,J[O++]=64&t?o:P,J[O++]=32&t?o:P,J[O++]=16&t?o:P,J[O++]=8&t?o:P,J[O++]=4&t?o:P,J[O++]=2&t?o:P,J[O++]=1&t?o:P}if(0===e)continue;const u=Q<s?ee[Q++]:255;for(let f=0;f<e;f++)J[O++]=u&1<<7-f?o:P}return{srcPos:Q,destPos:O}};var b=re(1)},(de,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.GlobalWorkerOptions=void 0;const re=Object.create(null);M.GlobalWorkerOptions=re,re.workerPort=void 0===re.workerPort?null:re.workerPort,re.workerSrc=void 0===re.workerSrc?"":re.workerSrc},(de,M,re)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.MessageHandler=void 0;var b=re(1);function Q(O){switch(O instanceof Error||"object"==typeof O&&null!==O||(0,b.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),O.name){case"AbortException":return new b.AbortException(O.message);case"MissingPDFException":return new b.MissingPDFException(O.message);case"PasswordException":return new b.PasswordException(O.message,O.code);case"UnexpectedResponseException":return new b.UnexpectedResponseException(O.message,O.status);case"UnknownErrorException":return new b.UnknownErrorException(O.message,O.details);default:return new b.UnknownErrorException(O.message,O.toString())}}M.MessageHandler=class J{constructor(c,w,_){this.sourceName=c,this.targetName=w,this.comObj=_,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=S=>{const P=S.data;if(P.targetName!==this.sourceName)return;if(P.stream)return void this._processStreamMessage(P);if(P.callback){const r=P.callbackId,e=this.callbackCapabilities[r];if(!e)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],1===P.callback)e.resolve(P.data);else{if(2!==P.callback)throw new Error("Unexpected callback case");e.reject(Q(P.reason))}return}const o=this.actionHandler[P.action];if(!o)throw new Error(`Unknown action from worker: ${P.action}`);if(P.callbackId){const r=this.sourceName,e=P.sourceName;new Promise(function(s){s(o(P.data))}).then(function(s){_.postMessage({sourceName:r,targetName:e,callback:1,callbackId:P.callbackId,data:s})},function(s){_.postMessage({sourceName:r,targetName:e,callback:2,callbackId:P.callbackId,reason:Q(s)})})}else P.streamId?this._createStreamSink(P):o(P.data)},_.addEventListener("message",this._onComObjOnMessage)}on(c,w){const _=this.actionHandler;if(_[c])throw new Error(`There is already an actionName called "${c}"`);_[c]=w}send(c,w,_){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:c,data:w},_)}sendWithPromise(c,w,_){const S=this.callbackId++,P=(0,b.createPromiseCapability)();this.callbackCapabilities[S]=P;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:c,callbackId:S,data:w},_)}catch(o){P.reject(o)}return P.promise}sendWithStream(c,w,_,S){const P=this.streamId++,o=this.sourceName,r=this.targetName,e=this.comObj;return new ReadableStream({start:s=>{const m=(0,b.createPromiseCapability)();return this.streamControllers[P]={controller:s,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},e.postMessage({sourceName:o,targetName:r,action:c,streamId:P,data:w,desiredSize:s.desiredSize},S),m.promise},pull:s=>{const m=(0,b.createPromiseCapability)();return this.streamControllers[P].pullCall=m,e.postMessage({sourceName:o,targetName:r,stream:6,streamId:P,desiredSize:s.desiredSize}),m.promise},cancel:s=>{(0,b.assert)(s instanceof Error,"cancel must have a valid reason");const m=(0,b.createPromiseCapability)();return this.streamControllers[P].cancelCall=m,this.streamControllers[P].isClosed=!0,e.postMessage({sourceName:o,targetName:r,stream:1,streamId:P,reason:Q(s)}),m.promise}},_)}_createStreamSink(c){const w=c.streamId,_=this.sourceName,S=c.sourceName,P=this.comObj,o=this,r=this.actionHandler[c.action],e={enqueue(s,m=1,u){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=m,f>0&&this.desiredSize<=0&&(this.sinkCapability=(0,b.createPromiseCapability)(),this.ready=this.sinkCapability.promise),P.postMessage({sourceName:_,targetName:S,stream:4,streamId:w,chunk:s},u)},close(){this.isCancelled||(this.isCancelled=!0,P.postMessage({sourceName:_,targetName:S,stream:3,streamId:w}),delete o.streamSinks[w])},error(s){(0,b.assert)(s instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,P.postMessage({sourceName:_,targetName:S,stream:5,streamId:w,reason:Q(s)}))},sinkCapability:(0,b.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:c.desiredSize,ready:null};e.sinkCapability.resolve(),e.ready=e.sinkCapability.promise,this.streamSinks[w]=e,new Promise(function(s){s(r(c.data,e))}).then(function(){P.postMessage({sourceName:_,targetName:S,stream:8,streamId:w,success:!0})},function(s){P.postMessage({sourceName:_,targetName:S,stream:8,streamId:w,reason:Q(s)})})}_processStreamMessage(c){const w=c.streamId,_=this.sourceName,S=c.sourceName,P=this.comObj,o=this.streamControllers[w],r=this.streamSinks[w];switch(c.stream){case 8:c.success?o.startCall.resolve():o.startCall.reject(Q(c.reason));break;case 7:c.success?o.pullCall.resolve():o.pullCall.reject(Q(c.reason));break;case 6:if(!r){P.postMessage({sourceName:_,targetName:S,stream:7,streamId:w,success:!0});break}r.desiredSize<=0&&c.desiredSize>0&&r.sinkCapability.resolve(),r.desiredSize=c.desiredSize,new Promise(function(e){e(r.onPull&&r.onPull())}).then(function(){P.postMessage({sourceName:_,targetName:S,stream:7,streamId:w,success:!0})},function(e){P.postMessage({sourceName:_,targetName:S,stream:7,streamId:w,reason:Q(e)})});break;case 4:if((0,b.assert)(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(c.chunk);break;case 3:if((0,b.assert)(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this._deleteStreamController(o,w);break;case 5:(0,b.assert)(o,"error should have stream controller"),o.controller.error(Q(c.reason)),this._deleteStreamController(o,w);break;case 2:c.success?o.cancelCall.resolve():o.cancelCall.reject(Q(c.reason)),this._deleteStreamController(o,w);break;case 1:if(!r)break;new Promise(function(e){e(r.onCancel&&r.onCancel(Q(c.reason)))}).then(function(){P.postMessage({sourceName:_,targetName:S,stream:2,streamId:w,success:!0})},function(e){P.postMessage({sourceName:_,targetName:S,stream:2,streamId:w,reason:Q(e)})}),r.sinkCapability.reject(Q(c.reason)),r.isCancelled=!0,delete this.streamSinks[w];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(c,w){var _=this;return _asyncToGenerator(function*(){yield Promise.allSettled([c.startCall&&c.startCall.promise,c.pullCall&&c.pullCall.promise,c.cancelCall&&c.cancelCall.promise]),delete _.streamControllers[w]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(de,M,re)=>{var ee,Q;Object.defineProperty(M,"__esModule",{value:!0}),M.Metadata=void 0;var b=re(1);ee=new WeakMap,Q=new WeakMap,M.Metadata=class he{constructor({parsedData:O,rawData:c}){ve(this,ee,void 0),ve(this,Q,void 0),Te(this,ee,O),Te(this,Q,c)}getRaw(){return Ae(this,Q)}get(O){var c;return null!=(c=Ae(this,ee).get(O))?c:null}getAll(){return(0,b.objectFromMap)(Ae(this,ee))}has(O){return Ae(this,ee).has(O)}}},(de,M,re)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.OptionalContentConfig=void 0;var b=re(1);class he{constructor(J,O){this.visible=!0,this.name=J,this.intent=O}}M.OptionalContentConfig=class ee{constructor(J){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==J){this.name=J.name,this.creator=J.creator,this._order=J.order;for(const O of J.groups)this._groups.set(O.id,new he(O.name,O.intent));if("OFF"===J.baseState)for(const O of this._groups)O.visible=!1;for(const O of J.on)this._groups.get(O).visible=!0;for(const O of J.off)this._groups.get(O).visible=!1}}_evaluateVisibilityExpression(J){const O=J.length;if(O<2)return!0;const c=J[0];for(let w=1;w<O;w++){const _=J[w];let S;if(Array.isArray(_))S=this._evaluateVisibilityExpression(_);else{if(!this._groups.has(_))return(0,b.warn)(`Optional content group not found: ${_}`),!0;S=this._groups.get(_).visible}switch(c){case"And":if(!S)return!1;break;case"Or":if(S)return!0;break;case"Not":return!S;default:return!0}}return"And"===c}isVisible(J){if(0===this._groups.size)return!0;if(!J)return(0,b.warn)("Optional content group not defined."),!0;if("OCG"===J.type)return this._groups.has(J.id)?this._groups.get(J.id).visible:((0,b.warn)(`Optional content group not found: ${J.id}`),!0);if("OCMD"===J.type){if(J.expression)return this._evaluateVisibilityExpression(J.expression);if(!J.policy||"AnyOn"===J.policy){for(const O of J.ids){if(!this._groups.has(O))return(0,b.warn)(`Optional content group not found: ${O}`),!0;if(this._groups.get(O).visible)return!0}return!1}if("AllOn"===J.policy){for(const O of J.ids){if(!this._groups.has(O))return(0,b.warn)(`Optional content group not found: ${O}`),!0;if(!this._groups.get(O).visible)return!1}return!0}if("AnyOff"===J.policy){for(const O of J.ids){if(!this._groups.has(O))return(0,b.warn)(`Optional content group not found: ${O}`),!0;if(!this._groups.get(O).visible)return!0}return!1}if("AllOff"===J.policy){for(const O of J.ids){if(!this._groups.has(O))return(0,b.warn)(`Optional content group not found: ${O}`),!0;if(this._groups.get(O).visible)return!1}return!0}return(0,b.warn)(`Unknown optional content policy ${J.policy}.`),!0}return(0,b.warn)(`Unknown group type ${J.type}.`),!0}setVisibility(J,O=!0){this._groups.has(J)?this._groups.get(J).visible=!!O:(0,b.warn)(`Optional content group not found: ${J}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,b.objectFromMap)(this._groups):null}getGroup(J){return this._groups.get(J)||null}}},(de,M,re)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFDataTransportStream=void 0;var b=re(1),he=re(5);M.PDFDataTransportStream=class ee{constructor(c,w){(0,b.assert)(w,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=c.progressiveDone||!1,this._contentDispositionFilename=c.contentDispositionFilename||null;const _=c.initialData;if((null==_?void 0:_.length)>0){const S=new Uint8Array(_).buffer;this._queuedChunks.push(S)}this._pdfDataRangeTransport=w,this._isStreamingSupported=!c.disableStream,this._isRangeSupported=!c.disableRange,this._contentLength=c.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((S,P)=>{this._onReceiveData({begin:S,chunk:P})}),this._pdfDataRangeTransport.addProgressListener((S,P)=>{this._onProgress({loaded:S,total:P})}),this._pdfDataRangeTransport.addProgressiveReadListener(S=>{this._onReceiveData({chunk:S})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(c){const w=new Uint8Array(c.chunk).buffer;if(void 0===c.begin)this._fullRequestReader?this._fullRequestReader._enqueue(w):this._queuedChunks.push(w);else{const _=this._rangeReaders.some(function(S){return S._begin===c.begin&&(S._enqueue(w),!0)});(0,b.assert)(_,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var c,w;return null!=(w=null==(c=this._fullRequestReader)?void 0:c._loaded)?w:0}_onProgress(c){if(void 0===c.total){const w=this._rangeReaders[0];(null==w?void 0:w.onProgress)&&w.onProgress({loaded:c.loaded})}else{const w=this._fullRequestReader;(null==w?void 0:w.onProgress)&&w.onProgress({loaded:c.loaded,total:c.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(c){const w=this._rangeReaders.indexOf(c);w>=0&&this._rangeReaders.splice(w,1)}getFullReader(){(0,b.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const c=this._queuedChunks;return this._queuedChunks=null,new Q(this,c,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(c,w){if(w<=this._progressiveDataLength)return null;const _=new J(this,c,w);return this._pdfDataRangeTransport.requestDataRange(c,w),this._rangeReaders.push(_),_}cancelAllRequests(c){this._fullRequestReader&&this._fullRequestReader.cancel(c);for(const w of this._rangeReaders.slice(0))w.cancel(c);this._pdfDataRangeTransport.abort()}};class Q{constructor(c,w,_=!1,S=null){this._stream=c,this._done=_||!1,this._filename=(0,he.isPdfFile)(S)?S:null,this._queuedChunks=w||[],this._loaded=0;for(const P of this._queuedChunks)this._loaded+=P.byteLength;this._requests=[],this._headersReady=Promise.resolve(),c._fullRequestReader=this,this.onProgress=null}_enqueue(c){this._done||(this._requests.length>0?this._requests.shift().resolve({value:c,done:!1}):this._queuedChunks.push(c),this._loaded+=c.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var c=this;return _asyncToGenerator(function*(){if(c._queuedChunks.length>0)return{value:c._queuedChunks.shift(),done:!1};if(c._done)return{value:void 0,done:!0};const w=(0,b.createPromiseCapability)();return c._requests.push(w),w.promise})()}cancel(c){this._done=!0;for(const w of this._requests)w.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class J{constructor(c,w,_){this._stream=c,this._begin=w,this._end=_,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(c){if(!this._done){if(0===this._requests.length)this._queuedChunk=c;else{this._requests.shift().resolve({value:c,done:!1});for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var c=this;return _asyncToGenerator(function*(){if(c._queuedChunk){const _=c._queuedChunk;return c._queuedChunk=null,{value:_,done:!1}}if(c._done)return{value:void 0,done:!0};const w=(0,b.createPromiseCapability)();return c._requests.push(w),w.promise})()}cancel(c){this._done=!0;for(const w of this._requests)w.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(de,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.XfaText=void 0;class re{static textContent(he){const ee=[],Q={items:ee,styles:Object.create(null)};return function J(O){var _;if(!O)return;let c=null;const w=O.name;if("#text"===w)c=O.value;else{if(!re.shouldBuildText(w))return;(null==(_=null==O?void 0:O.attributes)?void 0:_.textContent)?c=O.attributes.textContent:O.value&&(c=O.value)}if(null!==c&&ee.push({str:c}),O.children)for(const S of O.children)J(S)}(he),Q}static shouldBuildText(he){return!("textarea"===he||"input"===he||"option"===he||"select"===he)}}M.XfaText=re},(de,M,re)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.NodeStandardFontDataFactory=M.NodeCanvasFactory=M.NodeCMapReaderFactory=void 0;var b=re(6);const he=function(O){return new Promise((c,w)=>{__webpack_require__(172).readFile(O,(S,P)=>{!S&&P?c(new Uint8Array(P)):w(new Error(S))})})};M.NodeCanvasFactory=class ee extends b.BaseCanvasFactory{_createCanvas(c,w){return __webpack_require__(3414).createCanvas(c,w)}},M.NodeCMapReaderFactory=class Q extends b.BaseCMapReaderFactory{_fetchData(c,w){return he(c).then(_=>({cMapData:_,compressionType:w}))}},M.NodeStandardFontDataFactory=class J extends b.BaseStandardFontDataFactory{_fetchData(c){return he(c)}}},(de,M,re)=>{var T,it;Object.defineProperty(M,"__esModule",{value:!0}),M.AnnotationLayer=void 0;var b=re(1),he=re(5),ee=re(8),Q=re(21),J=re(22);const O=1e3,c=new WeakSet;function w(h){return{width:h[2]-h[0],height:h[3]-h[1]}}class _{static create(n){switch(n.data.annotationType){case b.AnnotationType.LINK:return new P(n);case b.AnnotationType.TEXT:return new o(n);case b.AnnotationType.WIDGET:switch(n.data.fieldType){case"Tx":return new e(n);case"Btn":return n.data.radioButton?new m(n):n.data.checkBox?new s(n):new u(n);case"Ch":return new f(n)}return new r(n);case b.AnnotationType.POPUP:return new t(n);case b.AnnotationType.FREETEXT:return new p(n);case b.AnnotationType.LINE:return new g(n);case b.AnnotationType.SQUARE:return new y(n);case b.AnnotationType.CIRCLE:return new E(n);case b.AnnotationType.POLYLINE:return new L(n);case b.AnnotationType.CARET:return new N(n);case b.AnnotationType.INK:return new U(n);case b.AnnotationType.POLYGON:return new F(n);case b.AnnotationType.HIGHLIGHT:return new H(n);case b.AnnotationType.UNDERLINE:return new X(n);case b.AnnotationType.SQUIGGLY:return new I(n);case b.AnnotationType.STRIKEOUT:return new z(n);case b.AnnotationType.STAMP:return new $(n);case b.AnnotationType.FILEATTACHMENT:return new te(n);default:return new S(n)}}}class S{constructor(n,{isRenderable:l=!1,ignoreBorder:d=!1,createQuadrilaterals:v=!1}={}){this.isRenderable=l,this.data=n.data,this.layer=n.layer,this.page=n.page,this.viewport=n.viewport,this.linkService=n.linkService,this.downloadManager=n.downloadManager,this.imageResourcesPath=n.imageResourcesPath,this.renderForms=n.renderForms,this.svgFactory=n.svgFactory,this.annotationStorage=n.annotationStorage,this.enableScripting=n.enableScripting,this.hasJSActions=n.hasJSActions,this._fieldObjects=n.fieldObjects,this._mouseState=n.mouseState,l&&(this.container=this._createContainer(d)),v&&(this.quadrilaterals=this._createQuadrilaterals(d))}_createContainer(n=!1){const l=this.data,d=this.page,v=this.viewport,A=document.createElement("section");let{width:x,height:B}=w(l.rect);A.setAttribute("data-annotation-id",l.id);const j=b.Util.normalizeRect([l.rect[0],d.view[3]-l.rect[1]+d.view[1],l.rect[2],d.view[3]-l.rect[3]+d.view[1]]);if(l.hasOwnCanvas){const V=v.transform.slice(),[W,q]=b.Util.singularValueDecompose2dScale(V);x=Math.ceil(x*W),B=Math.ceil(B*q),j[0]*=W,j[1]*=q;for(let Y=0;Y<4;Y++)V[Y]=Math.sign(V[Y]);A.style.transform=`matrix(${V.join(",")})`}else A.style.transform=`matrix(${v.transform.join(",")})`;if(A.style.transformOrigin=`${-j[0]}px ${-j[1]}px`,!n&&l.borderStyle.width>0){A.style.borderWidth=`${l.borderStyle.width}px`,l.borderStyle.style!==b.AnnotationBorderStyleType.UNDERLINE&&(x-=2*l.borderStyle.width,B-=2*l.borderStyle.width);const V=l.borderStyle.horizontalCornerRadius,W=l.borderStyle.verticalCornerRadius;switch((V>0||W>0)&&(A.style.borderRadius=`${V}px / ${W}px`),l.borderStyle.style){case b.AnnotationBorderStyleType.SOLID:A.style.borderStyle="solid";break;case b.AnnotationBorderStyleType.DASHED:A.style.borderStyle="dashed";break;case b.AnnotationBorderStyleType.BEVELED:(0,b.warn)("Unimplemented border style: beveled");break;case b.AnnotationBorderStyleType.INSET:(0,b.warn)("Unimplemented border style: inset");break;case b.AnnotationBorderStyleType.UNDERLINE:A.style.borderBottomStyle="solid"}l.borderColor||l.color?A.style.borderColor=b.Util.makeHexColor(0|l.color[0],0|l.color[1],0|l.color[2]):A.style.borderWidth=0}return A.style.left=`${j[0]}px`,A.style.top=`${j[1]}px`,l.hasOwnCanvas?A.style.width=A.style.height="auto":(A.style.width=`${x}px`,A.style.height=`${B}px`),A}get _commonActions(){const n=(l,d,v)=>{const A=v.detail[l];v.target.style[d]=Q.ColorConverters[`${A[0]}_HTML`](A.slice(1))};return(0,b.shadow)(this,"_commonActions",{display:l=>{const d=l.detail.display%2==1;l.target.style.visibility=d?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:d,print:0===l.detail.display||3===l.detail.display})},print:l=>{this.annotationStorage.setValue(this.data.id,{print:l.detail.print})},hidden:l=>{l.target.style.visibility=l.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:l.detail.hidden})},focus:l=>{setTimeout(()=>l.target.focus({preventScroll:!1}),0)},userName:l=>{l.target.title=l.detail.userName},readonly:l=>{l.detail.readonly?l.target.setAttribute("readonly",""):l.target.removeAttribute("readonly")},required:l=>{l.detail.required?l.target.setAttribute("required",""):l.target.removeAttribute("required")},bgColor:l=>{n("bgColor","backgroundColor",l)},fillColor:l=>{n("fillColor","backgroundColor",l)},fgColor:l=>{n("fgColor","color",l)},textColor:l=>{n("textColor","color",l)},borderColor:l=>{n("borderColor","borderColor",l)},strokeColor:l=>{n("strokeColor","borderColor",l)}})}_dispatchEventFromSandbox(n,l){const d=this._commonActions;for(const v of Object.keys(l.detail)){const A=n[v]||d[v];A&&A(l)}}_setDefaultPropertiesFromJS(n){if(!this.enableScripting)return;const l=this.annotationStorage.getRawValue(this.data.id);if(!l)return;const d=this._commonActions;for(const[v,A]of Object.entries(l)){const x=d[v];x&&(x({detail:A,target:n}),delete l[v])}}_createQuadrilaterals(n=!1){if(!this.data.quadPoints)return null;const l=[],d=this.data.rect;for(const v of this.data.quadPoints)this.data.rect=[v[2].x,v[2].y,v[1].x,v[1].y],l.push(this._createContainer(n));return this.data.rect=d,l}_createPopup(n,l){let d=this.container;this.quadrilaterals&&(n=n||this.quadrilaterals,d=this.quadrilaterals[0]),n||((n=document.createElement("div")).style.height=d.style.height,n.style.width=d.style.width,d.appendChild(n));const A=new i({container:d,trigger:n,color:l.color,titleObj:l.titleObj,modificationDate:l.modificationDate,contentsObj:l.contentsObj,richText:l.richText,hideWrapper:!0}).render();A.style.left=d.style.width,d.appendChild(A)}_renderQuadrilaterals(n){for(const l of this.quadrilaterals)l.className=n;return this.quadrilaterals}render(){(0,b.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(n,l=null){const d=[];if(this._fieldObjects){const v=this._fieldObjects[n];if(v)for(const{page:A,id:x,exportValues:B}of v){if(-1===A||x===l)continue;const j="string"==typeof B?B:null,V=document.getElementById(x);!V||c.has(V)?d.push({id:x,exportValue:j,domElement:V}):(0,b.warn)(`_getElementsByName - element not allowed: ${x}`)}return d}for(const v of document.getElementsByName(n)){const{id:A,exportValue:x}=v;A!==l&&(!c.has(v)||d.push({id:A,exportValue:x,domElement:v}))}return d}static get platform(){const n="undefined"!=typeof navigator?navigator.platform:"";return(0,b.shadow)(this,"platform",{isWin:n.includes("Win"),isMac:n.includes("Mac")})}}class P extends S{constructor(n,l=null){super(n,{isRenderable:!!(n.data.url||n.data.dest||n.data.action||n.data.isTooltipOnly||n.data.resetForm||n.data.actions&&(n.data.actions.Action||n.data.actions["Mouse Up"]||n.data.actions["Mouse Down"])),ignoreBorder:!!(null==l?void 0:l.ignoreBorder),createQuadrilaterals:!0})}render(){const{data:n,linkService:l}=this,d=document.createElement("a");if(n.url)l.addLinkAttributes(d,n.url,n.newWindow);else if(n.action)this._bindNamedAction(d,n.action);else if(n.dest)this._bindLink(d,n.dest);else{let v=!1;n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(v=!0,this._bindJSAction(d,n)),n.resetForm?this._bindResetFormAction(d,n.resetForm):v||this._bindLink(d,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((v,A)=>{const x=0===A?d:d.cloneNode();return v.appendChild(x),v}):(this.container.className="linkAnnotation",this.container.appendChild(d),this.container)}_bindLink(n,l){n.href=this.linkService.getDestinationHash(l),n.onclick=()=>(l&&this.linkService.goToDestination(l),!1),(l||""===l)&&(n.className="internalLink")}_bindNamedAction(n,l){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(l),!1),n.className="internalLink"}_bindJSAction(n,l){n.href=this.linkService.getAnchorUrl("");const d=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const v of Object.keys(l.actions)){const A=d.get(v);!A||(n[A]=()=>{var x;return null==(x=this.linkService.eventBus)||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l.id,name:v}}),!1})}n.onclick||(n.onclick=()=>!1),n.className="internalLink"}_bindResetFormAction(n,l){const d=n.onclick;if(d||(n.href=this.linkService.getAnchorUrl("")),n.className="internalLink",!this._fieldObjects)return(0,b.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(d||(n.onclick=()=>!1));n.onclick=()=>{var W;d&&d();const{fields:v,refs:A,include:x}=l,B=[];if(0!==v.length||0!==A.length){const q=new Set(A);for(const Y of v){const oe=this._fieldObjects[Y]||[];for(const{id:_e}of oe)q.add(_e)}for(const Y of Object.values(this._fieldObjects))for(const oe of Y)q.has(oe.id)===x&&B.push(oe)}else for(const q of Object.values(this._fieldObjects))B.push(...q);const j=this.annotationStorage,V=[];for(const q of B){const{id:Y}=q;switch(V.push(Y),q.type){case"text":case"combobox":case"listbox":j.setValue(Y,{value:q.defaultValue||""});break;case"checkbox":case"radiobutton":j.setValue(Y,{value:q.defaultValue===q.exportValues});break;default:continue}const oe=document.getElementById(Y);!oe||!c.has(oe)||oe.dispatchEvent(new Event("resetform"))}return this.enableScripting&&(null==(W=this.linkService.eventBus)||W.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:V,name:"ResetForm"}})),!1}}}class o extends S{constructor(n){var d,v,A;super(n,{isRenderable:!!(n.data.hasPopup||(null==(d=n.data.titleObj)?void 0:d.str)||(null==(v=n.data.contentsObj)?void 0:v.str)||(null==(A=n.data.richText)?void 0:A.str))})}render(){this.container.className="textAnnotation";const n=document.createElement("img");return n.style.height=this.container.style.height,n.style.width=this.container.style.width,n.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",n.alt="[{{type}} Annotation]",n.dataset.l10nId="text_annotation_type",n.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(n,this.data),this.container.appendChild(n),this.container}}class r extends S{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(n){const{isWin:l,isMac:d}=S.platform;return l&&n.ctrlKey||d&&n.metaKey}_setEventListener(n,l,d,v){l.includes("mouse")?n.addEventListener(l,A=>{var x;null==(x=this.linkService.eventBus)||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:d,value:v(A),shift:A.shiftKey,modifier:this._getKeyModifier(A)}})}):n.addEventListener(l,A=>{var x;null==(x=this.linkService.eventBus)||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:d,value:v(A)}})})}_setEventListeners(n,l,d){var v;for(const[A,x]of l)("Action"===x||(null==(v=this.data.actions)?void 0:v[x]))&&this._setEventListener(n,A,x,d)}_setBackgroundColor(n){const l=this.data.backgroundColor||null;n.style.backgroundColor=null===l?"transparent":b.Util.makeHexColor(l[0],l[1],l[2])}}class e extends r{constructor(n){super(n,{isRenderable:n.renderForms||!n.data.hasAppearance&&!!n.data.fieldValue})}setPropertyOnSiblings(n,l,d,v){const A=this.annotationStorage;for(const x of this._getElementsByName(n.name,n.id))x.domElement&&(x.domElement[l]=d),A.setValue(x.id,{[v]:d})}render(){var v;const n=this.annotationStorage,l=this.data.id;this.container.className="textWidgetAnnotation";let d=null;if(this.renderForms){const A=n.getValue(l,{value:this.data.fieldValue}),x=A.formattedValue||A.value||"",B={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(d=document.createElement("textarea"),d.textContent=x):(d=document.createElement("input"),d.type="text",d.setAttribute("value",x)),c.add(d),d.disabled=this.data.readOnly,d.name=this.data.fieldName,d.tabIndex=O,B.userValue=x,d.setAttribute("id",l),d.addEventListener("input",V=>{n.setValue(l,{value:V.target.value}),this.setPropertyOnSiblings(d,"value",V.target.value,"value")}),d.addEventListener("resetform",V=>{var q;const W=null!=(q=this.data.defaultFieldValue)?q:"";d.value=B.userValue=W,B.formattedValue=null});let j=V=>{const{formattedValue:W}=B;null!=W&&(V.target.value=W),V.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){d.addEventListener("focus",W=>{B.userValue&&(W.target.value=B.userValue),B.valueOnFocus=W.target.value}),d.addEventListener("updatefromsandbox",W=>{this._dispatchEventFromSandbox({value(Y){var oe;B.userValue=null!=(oe=Y.detail.value)?oe:"",n.setValue(l,{value:B.userValue.toString()}),Y.target.value=B.userValue},formattedValue(Y){const{formattedValue:oe}=Y.detail;B.formattedValue=oe,null!=oe&&Y.target!==document.activeElement&&(Y.target.value=oe),n.setValue(l,{formattedValue:oe})},selRange(Y){Y.target.setSelectionRange(...Y.detail.selRange)}},W)}),d.addEventListener("keydown",W=>{var oe;let q=-1;if("Escape"===W.key?q=0:"Enter"===W.key?q=2:"Tab"===W.key&&(q=3),-1===q)return;const{value:Y}=W.target;B.valueOnFocus!==Y&&(B.userValue=Y,null==(oe=this.linkService.eventBus)||oe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:Y,willCommit:!0,commitKey:q,selStart:W.target.selectionStart,selEnd:W.target.selectionEnd}}))});const V=j;j=null,d.addEventListener("blur",W=>{var Y;const{value:q}=W.target;B.userValue=q,this._mouseState.isDown&&B.valueOnFocus!==q&&(null==(Y=this.linkService.eventBus)||Y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:q,willCommit:!0,commitKey:1,selStart:W.target.selectionStart,selEnd:W.target.selectionEnd}})),V(W)}),(null==(v=this.data.actions)?void 0:v.Keystroke)&&d.addEventListener("beforeinput",W=>{var C;const{data:q,target:Y}=W,{value:oe,selectionStart:_e,selectionEnd:K}=Y;let ie=_e,ne=K;switch(W.inputType){case"deleteWordBackward":{const D=oe.substring(0,_e).match(/\w*[^\w]*$/);D&&(ie-=D[0].length);break}case"deleteWordForward":{const D=oe.substring(_e).match(/^[^\w]*\w*/);D&&(ne+=D[0].length);break}case"deleteContentBackward":_e===K&&(ie-=1);break;case"deleteContentForward":_e===K&&(ne+=1)}W.preventDefault(),null==(C=this.linkService.eventBus)||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:oe,change:q||"",willCommit:!1,selStart:ie,selEnd:ne}})}),this._setEventListeners(d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],W=>W.target.value)}if(j&&d.addEventListener("blur",j),null!==this.data.maxLen&&(d.maxLength=this.data.maxLen),this.data.comb){const W=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;d.classList.add("comb"),d.style.letterSpacing=`calc(${W}px - 1ch)`}}else d=document.createElement("div"),d.textContent=this.data.fieldValue,d.style.verticalAlign="middle",d.style.display="table-cell";return this._setTextStyle(d),this._setBackgroundColor(d),this._setDefaultPropertiesFromJS(d),this.container.appendChild(d),this.container}_setTextStyle(n){const{fontSize:d,fontColor:v}=this.data.defaultAppearanceData,A=n.style;d&&(A.fontSize=`${d}px`),A.color=b.Util.makeHexColor(v[0],v[1],v[2]),null!==this.data.textAlignment&&(A.textAlign=["left","center","right"][this.data.textAlignment])}}class s extends r{constructor(n){super(n,{isRenderable:n.renderForms})}render(){const n=this.annotationStorage,l=this.data,d=l.id;let v=n.getValue(d,{value:l.exportValue===l.fieldValue}).value;"string"==typeof v&&(v="Off"!==v,n.setValue(d,{value:v})),this.container.className="buttonWidgetAnnotation checkBox";const A=document.createElement("input");return c.add(A),A.disabled=l.readOnly,A.type="checkbox",A.name=l.fieldName,v&&A.setAttribute("checked",!0),A.setAttribute("id",d),A.setAttribute("exportValue",l.exportValue),A.tabIndex=O,A.addEventListener("change",x=>{const{name:B,checked:j}=x.target;for(const V of this._getElementsByName(B,d)){const W=j&&V.exportValue===l.exportValue;V.domElement&&(V.domElement.checked=W),n.setValue(V.id,{value:W})}n.setValue(d,{value:j})}),A.addEventListener("resetform",x=>{x.target.checked=(l.defaultFieldValue||"Off")===l.exportValue}),this.enableScripting&&this.hasJSActions&&(A.addEventListener("updatefromsandbox",x=>{this._dispatchEventFromSandbox({value(j){j.target.checked="Off"!==j.detail.value,n.setValue(d,{value:j.target.checked})}},x)}),this._setEventListeners(A,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],x=>x.target.checked)),this._setBackgroundColor(A),this._setDefaultPropertiesFromJS(A),this.container.appendChild(A),this.container}}class m extends r{constructor(n){super(n,{isRenderable:n.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const n=this.annotationStorage,l=this.data,d=l.id;let v=n.getValue(d,{value:l.fieldValue===l.buttonValue}).value;"string"==typeof v&&(v=v!==l.buttonValue,n.setValue(d,{value:v}));const A=document.createElement("input");if(c.add(A),A.disabled=l.readOnly,A.type="radio",A.name=l.fieldName,v&&A.setAttribute("checked",!0),A.setAttribute("id",d),A.tabIndex=O,A.addEventListener("change",x=>{const{name:B,checked:j}=x.target;for(const V of this._getElementsByName(B,d))n.setValue(V.id,{value:!1});n.setValue(d,{value:j})}),A.addEventListener("resetform",x=>{const B=l.defaultFieldValue;x.target.checked=null!=B&&B===l.buttonValue}),this.enableScripting&&this.hasJSActions){const x=l.buttonValue;A.addEventListener("updatefromsandbox",B=>{this._dispatchEventFromSandbox({value:V=>{const W=x===V.detail.value;for(const q of this._getElementsByName(V.target.name)){const Y=W&&q.id===d;q.domElement&&(q.domElement.checked=Y),n.setValue(q.id,{value:Y})}}},B)}),this._setEventListeners(A,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],B=>B.target.checked)}return this._setBackgroundColor(A),this._setDefaultPropertiesFromJS(A),this.container.appendChild(A),this.container}}class u extends P{constructor(n){super(n,{ignoreBorder:n.data.hasAppearance})}render(){const n=super.render();return n.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(n.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(n),n}}class f extends r{constructor(n){super(n,{isRenderable:n.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const n=this.annotationStorage,l=this.data.id,d=n.getValue(l,{value:this.data.fieldValue});let{fontSize:v}=this.data.defaultAppearanceData;v||(v=9);const A=`calc(${v}px * var(--zoom-factor))`,x=document.createElement("select");c.add(x),x.disabled=this.data.readOnly,x.name=this.data.fieldName,x.setAttribute("id",l),x.tabIndex=O,x.style.fontSize=`${v}px`,this.data.combo||(x.size=this.data.options.length,this.data.multiSelect&&(x.multiple=!0)),x.addEventListener("resetform",V=>{const W=this.data.defaultFieldValue;for(const q of x.options)q.selected=q.value===W});for(const V of this.data.options){const W=document.createElement("option");W.textContent=V.displayValue,W.value=V.exportValue,this.data.combo&&(W.style.fontSize=A),d.value.includes(V.exportValue)&&W.setAttribute("selected",!0),x.appendChild(W)}const B=(V,W)=>{const q=W?"value":"textContent",Y=V.target.options;return V.target.multiple?Array.prototype.filter.call(Y,oe=>oe.selected).map(oe=>oe[q]):-1===Y.selectedIndex?null:Y[Y.selectedIndex][q]},j=V=>Array.prototype.map.call(V.target.options,q=>({displayValue:q.textContent,exportValue:q.value}));return this.enableScripting&&this.hasJSActions?(x.addEventListener("updatefromsandbox",V=>{this._dispatchEventFromSandbox({value(q){const Y=q.detail.value,oe=new Set(Array.isArray(Y)?Y:[Y]);for(const _e of x.options)_e.selected=oe.has(_e.value);n.setValue(l,{value:B(q,!0)})},multipleSelection(q){x.multiple=!0},remove(q){const Y=x.options,oe=q.detail.remove;Y[oe].selected=!1,x.remove(oe),Y.length>0&&-1===Array.prototype.findIndex.call(Y,K=>K.selected)&&(Y[0].selected=!0),n.setValue(l,{value:B(q,!0),items:j(q)})},clear(q){for(;0!==x.length;)x.remove(0);n.setValue(l,{value:null,items:[]})},insert(q){const{index:Y,displayValue:oe,exportValue:_e}=q.detail.insert,K=document.createElement("option");K.textContent=oe,K.value=_e,x.insertBefore(K,x.children[Y]),n.setValue(l,{value:B(q,!0),items:j(q)})},items(q){const{items:Y}=q.detail;for(;0!==x.length;)x.remove(0);for(const oe of Y){const{displayValue:_e,exportValue:K}=oe,ie=document.createElement("option");ie.textContent=_e,ie.value=K,x.appendChild(ie)}x.options.length>0&&(x.options[0].selected=!0),n.setValue(l,{value:B(q,!0),items:j(q)})},indices(q){const Y=new Set(q.detail.indices);for(const oe of q.target.options)oe.selected=Y.has(oe.index);n.setValue(l,{value:B(q,!0)})},editable(q){q.target.disabled=!q.detail.editable}},V)}),x.addEventListener("input",V=>{var Y;const W=B(V,!0),q=B(V,!1);n.setValue(l,{value:W}),null==(Y=this.linkService.eventBus)||Y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:q,changeEx:W,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(x,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],V=>V.target.checked)):x.addEventListener("input",function(V){n.setValue(l,{value:B(V,!0)})}),this._setBackgroundColor(x),this._setDefaultPropertiesFromJS(x),this.container.appendChild(x),this.container}}class t extends S{constructor(n){var d,v,A;super(n,{isRenderable:!!((null==(d=n.data.titleObj)?void 0:d.str)||(null==(v=n.data.contentsObj)?void 0:v.str)||(null==(A=n.data.richText)?void 0:A.str))})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const d=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===d.length)return this.container;const v=new i({container:this.container,trigger:Array.from(d),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),A=this.page,x=b.Util.normalizeRect([this.data.parentRect[0],A.view[3]-this.data.parentRect[1]+A.view[1],this.data.parentRect[2],A.view[3]-this.data.parentRect[3]+A.view[1]]),B=x[0]+this.data.parentRect[2]-this.data.parentRect[0],j=x[1];return this.container.style.transformOrigin=`${-B}px ${-j}px`,this.container.style.left=`${B}px`,this.container.style.top=`${j}px`,this.container.appendChild(v.render()),this.container}}class i{constructor(n){this.container=n.container,this.trigger=n.trigger,this.color=n.color,this.titleObj=n.titleObj,this.modificationDate=n.modificationDate,this.contentsObj=n.contentsObj,this.richText=n.richText,this.hideWrapper=n.hideWrapper||!1,this.pinned=!1}render(){var B,j;const l=document.createElement("div");l.className="popupWrapper",this.hideElement=this.hideWrapper?l:this.container,this.hideElement.hidden=!0;const d=document.createElement("div");d.className="popup";const v=this.color;v&&(d.style.backgroundColor=b.Util.makeHexColor(0|.7*(255-v[0])+v[0],0|.7*(255-v[1])+v[1],0|.7*(255-v[2])+v[2]));const A=document.createElement("h1");A.dir=this.titleObj.dir,A.textContent=this.titleObj.str,d.appendChild(A);const x=he.PDFDateString.toDateObject(this.modificationDate);if(x){const V=document.createElement("span");V.className="popupDate",V.textContent="{{date}}, {{time}}",V.dataset.l10nId="annotation_date_string",V.dataset.l10nArgs=JSON.stringify({date:x.toLocaleDateString(),time:x.toLocaleTimeString()}),d.appendChild(V)}if(!(null==(B=this.richText)?void 0:B.str)||(null==(j=this.contentsObj)?void 0:j.str)&&this.contentsObj.str!==this.richText.str){const V=this._formatContents(this.contentsObj);d.appendChild(V)}else J.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:d}),d.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const V of this.trigger)V.addEventListener("click",this._toggle.bind(this)),V.addEventListener("mouseover",this._show.bind(this,!1)),V.addEventListener("mouseout",this._hide.bind(this,!1));return d.addEventListener("click",this._hide.bind(this,!0)),l.appendChild(d),l}_formatContents({str:n,dir:l}){const d=document.createElement("p");d.className="popupContent",d.dir=l;const v=n.split(/(?:\r\n?|\n)/);for(let A=0,x=v.length;A<x;++A)d.appendChild(document.createTextNode(v[A])),A<x-1&&d.appendChild(document.createElement("br"));return d}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(n=!1){n&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(n=!0){n&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class p extends S{constructor(n){var d,v,A;super(n,{isRenderable:!!(n.data.hasPopup||(null==(d=n.data.titleObj)?void 0:d.str)||(null==(v=n.data.contentsObj)?void 0:v.str)||(null==(A=n.data.richText)?void 0:A.str)),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class g extends S{constructor(n){var d,v,A;super(n,{isRenderable:!!(n.data.hasPopup||(null==(d=n.data.titleObj)?void 0:d.str)||(null==(v=n.data.contentsObj)?void 0:v.str)||(null==(A=n.data.richText)?void 0:A.str)),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const n=this.data,{width:l,height:d}=w(n.rect),v=this.svgFactory.create(l,d),A=this.svgFactory.createElement("svg:line");return A.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),A.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),A.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),A.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),A.setAttribute("stroke-width",n.borderStyle.width||1),A.setAttribute("stroke","transparent"),A.setAttribute("fill","transparent"),v.appendChild(A),this.container.append(v),this._createPopup(A,n),this.container}}class y extends S{constructor(n){var d,v,A;super(n,{isRenderable:!!(n.data.hasPopup||(null==(d=n.data.titleObj)?void 0:d.str)||(null==(v=n.data.contentsObj)?void 0:v.str)||(null==(A=n.data.richText)?void 0:A.str)),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const n=this.data,{width:l,height:d}=w(n.rect),v=this.svgFactory.create(l,d),A=n.borderStyle.width,x=this.svgFactory.createElement("svg:rect");return x.setAttribute("x",A/2),x.setAttribute("y",A/2),x.setAttribute("width",l-A),x.setAttribute("height",d-A),x.setAttribute("stroke-width",A||1),x.setAttribute("stroke","transparent"),x.setAttribute("fill","transparent"),v.appendChild(x),this.container.append(v),this._createPopup(x,n),this.container}}class E extends S{constructor(n){var d,v,A;super(n,{isRenderable:!!(n.data.hasPopup||(null==(d=n.data.titleObj)?void 0:d.str)||(null==(v=n.data.contentsObj)?void 0:v.str)||(null==(A=n.data.richText)?void 0:A.str)),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const n=this.data,{width:l,height:d}=w(n.rect),v=this.svgFactory.create(l,d),A=n.borderStyle.width,x=this.svgFactory.createElement("svg:ellipse");return x.setAttribute("cx",l/2),x.setAttribute("cy",d/2),x.setAttribute("rx",l/2-A/2),x.setAttribute("ry",d/2-A/2),x.setAttribute("stroke-width",A||1),x.setAttribute("stroke","transparent"),x.setAttribute("fill","transparent"),v.appendChild(x),this.container.append(v),this._createPopup(x,n),this.container}}class L extends S{constructor(n){var d,v,A;super(n,{isRenderable:!!(n.data.hasPopup||(null==(d=n.data.titleObj)?void 0:d.str)||(null==(v=n.data.contentsObj)?void 0:v.str)||(null==(A=n.data.richText)?void 0:A.str)),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const n=this.data,{width:l,height:d}=w(n.rect),v=this.svgFactory.create(l,d);let A=[];for(const B of n.vertices)A.push(B.x-n.rect[0]+","+(n.rect[3]-B.y));A=A.join(" ");const x=this.svgFactory.createElement(this.svgElementName);return x.setAttribute("points",A),x.setAttribute("stroke-width",n.borderStyle.width||1),x.setAttribute("stroke","transparent"),x.setAttribute("fill","transparent"),v.appendChild(x),this.container.append(v),this._createPopup(x,n),this.container}}class F extends L{constructor(n){super(n),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class N extends S{constructor(n){var d,v,A;super(n,{isRenderable:!!(n.data.hasPopup||(null==(d=n.data.titleObj)?void 0:d.str)||(null==(v=n.data.contentsObj)?void 0:v.str)||(null==(A=n.data.richText)?void 0:A.str)),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class U extends S{constructor(n){var d,v,A;super(n,{isRenderable:!!(n.data.hasPopup||(null==(d=n.data.titleObj)?void 0:d.str)||(null==(v=n.data.contentsObj)?void 0:v.str)||(null==(A=n.data.richText)?void 0:A.str)),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const n=this.data,{width:l,height:d}=w(n.rect),v=this.svgFactory.create(l,d);for(const A of n.inkLists){let x=[];for(const j of A)x.push(`${j.x-n.rect[0]},${n.rect[3]-j.y}`);x=x.join(" ");const B=this.svgFactory.createElement(this.svgElementName);B.setAttribute("points",x),B.setAttribute("stroke-width",n.borderStyle.width||1),B.setAttribute("stroke","transparent"),B.setAttribute("fill","transparent"),this._createPopup(B,n),v.appendChild(B)}return this.container.append(v),this.container}}class H extends S{constructor(n){var d,v,A;super(n,{isRenderable:!!(n.data.hasPopup||(null==(d=n.data.titleObj)?void 0:d.str)||(null==(v=n.data.contentsObj)?void 0:v.str)||(null==(A=n.data.richText)?void 0:A.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class X extends S{constructor(n){var d,v,A;super(n,{isRenderable:!!(n.data.hasPopup||(null==(d=n.data.titleObj)?void 0:d.str)||(null==(v=n.data.contentsObj)?void 0:v.str)||(null==(A=n.data.richText)?void 0:A.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class I extends S{constructor(n){var d,v,A;super(n,{isRenderable:!!(n.data.hasPopup||(null==(d=n.data.titleObj)?void 0:d.str)||(null==(v=n.data.contentsObj)?void 0:v.str)||(null==(A=n.data.richText)?void 0:A.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class z extends S{constructor(n){var d,v,A;super(n,{isRenderable:!!(n.data.hasPopup||(null==(d=n.data.titleObj)?void 0:d.str)||(null==(v=n.data.contentsObj)?void 0:v.str)||(null==(A=n.data.richText)?void 0:A.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class $ extends S{constructor(n){var d,v,A;super(n,{isRenderable:!!(n.data.hasPopup||(null==(d=n.data.titleObj)?void 0:d.str)||(null==(v=n.data.contentsObj)?void 0:v.str)||(null==(A=n.data.richText)?void 0:A.str)),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class te extends S{constructor(n){var v;super(n,{isRenderable:!0});const{filename:l,content:d}=this.data.file;this.filename=(0,he.getFilenameFromUrl)(l),this.content=d,null==(v=this.linkService.eventBus)||v.dispatch("fileattachmentannotation",{source:this,filename:l,content:d})}render(){var l,d;this.container.className="fileAttachmentAnnotation";const n=document.createElement("div");return n.style.height=this.container.style.height,n.style.width=this.container.style.width,n.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((null==(l=this.data.titleObj)?void 0:l.str)||(null==(d=this.data.contentsObj)?void 0:d.str)||this.data.richText)&&this._createPopup(n,this.data),this.container.appendChild(n),this.container}_download(){var n;null==(n=this.downloadManager)||n.openOrDownloadData(this.container,this.content,this.filename)}}class ae{static render(n){const l=[],d=[];for(const A of n.annotations){if(!A)continue;const{width:x,height:B}=w(A.rect);if(!(x<=0||B<=0)){if(A.annotationType===b.AnnotationType.POPUP){d.push(A);continue}l.push(A)}}d.length&&l.push(...d);const v=n.div;for(const A of l){const x=_.create({data:A,layer:v,page:n.page,viewport:n.viewport,linkService:n.linkService,downloadManager:n.downloadManager,imageResourcesPath:n.imageResourcesPath||"",renderForms:!1!==n.renderForms,svgFactory:new he.DOMSVGFactory,annotationStorage:n.annotationStorage||new ee.AnnotationStorage,enableScripting:n.enableScripting,hasJSActions:n.hasJSActions,fieldObjects:n.fieldObjects,mouseState:n.mouseState||{isDown:!1}});if(x.isRenderable){const B=x.render();if(A.hidden&&(B.style.visibility="hidden"),Array.isArray(B))for(const j of B)v.appendChild(j);else x instanceof t?v.prepend(B):v.appendChild(B)}}ye(this,T,it).call(this,v,n.annotationCanvasMap)}static update(n){const{page:l,viewport:d,annotations:v,annotationCanvasMap:A,div:x}=n,B=d.transform,j=`matrix(${B.join(",")})`;let V,W;for(const q of v){const Y=x.querySelectorAll(`[data-annotation-id="${q.id}"]`);if(Y)for(const oe of Y)if(q.hasOwnCanvas){const _e=b.Util.normalizeRect([q.rect[0],l.view[3]-q.rect[1]+l.view[1],q.rect[2],l.view[3]-q.rect[3]+l.view[1]]);if(!W){V=Math.abs(B[0]||B[1]);const ne=B.slice();for(let C=0;C<4;C++)ne[C]=Math.sign(ne[C]);W=`matrix(${ne.join(",")})`}const K=_e[0]*V,ie=_e[1]*V;oe.style.left=`${K}px`,oe.style.top=`${ie}px`,oe.style.transformOrigin=`${-K}px ${-ie}px`,oe.style.transform=W}else oe.style.transform=j}ye(this,T,it).call(this,x,A),x.hidden=!1}}T=new WeakSet,it=function(n,l){if(l){for(const[d,v]of l){const A=n.querySelector(`[data-annotation-id="${d}"]`);if(!A)continue;const{firstChild:x}=A;"CANVAS"===x.nodeName?A.replaceChild(v,x):A.insertBefore(v,x)}l.clear()}},ve(ae,T),M.AnnotationLayer=ae},(de,M)=>{function re(he){return Math.floor(255*Math.max(0,Math.min(1,he))).toString(16).padStart(2,"0")}Object.defineProperty(M,"__esModule",{value:!0}),M.ColorConverters=void 0,M.ColorConverters=class b{static CMYK_G([ee,Q,J,O]){return["G",1-Math.min(1,.3*ee+.59*J+.11*Q+O)]}static G_CMYK([ee]){return["CMYK",0,0,0,1-ee]}static G_RGB([ee]){return["RGB",ee,ee,ee]}static G_HTML([ee]){const Q=re(ee);return`#${Q}${Q}${Q}`}static RGB_G([ee,Q,J]){return["G",.3*ee+.59*Q+.11*J]}static RGB_HTML([ee,Q,J]){return`#${re(ee)}${re(Q)}${re(J)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([ee,Q,J,O]){return["RGB",1-Math.min(1,ee+O),1-Math.min(1,J+O),1-Math.min(1,Q+O)]}static CMYK_HTML(ee){return this.RGB_HTML(this.CMYK_RGB(ee))}static RGB_CMYK([ee,Q,J]){const O=1-ee,c=1-Q,w=1-J;return["CMYK",O,c,w,Math.min(O,c,w)]}}},(de,M,re)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.XfaLayer=void 0;var b=re(18);M.XfaLayer=class he{static setupStorage(Q,J,O,c,w){const _=c.getValue(J,{value:null});switch(O.name){case"textarea":if(null!==_.value&&(Q.textContent=_.value),"print"===w)break;Q.addEventListener("input",S=>{c.setValue(J,{value:S.target.value})});break;case"input":if("radio"===O.attributes.type||"checkbox"===O.attributes.type){if(_.value===O.attributes.xfaOn?Q.setAttribute("checked",!0):_.value===O.attributes.xfaOff&&Q.removeAttribute("checked"),"print"===w)break;Q.addEventListener("change",S=>{c.setValue(J,{value:S.target.getAttribute(S.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==_.value&&Q.setAttribute("value",_.value),"print"===w)break;Q.addEventListener("input",S=>{c.setValue(J,{value:S.target.value})})}break;case"select":if(null!==_.value)for(const S of O.children)S.attributes.value===_.value&&(S.attributes.selected=!0);Q.addEventListener("input",S=>{const P=S.target.options;c.setValue(J,{value:-1===P.selectedIndex?"":P[P.selectedIndex].value})})}}static setAttributes({html:Q,element:J,storage:O=null,intent:c,linkService:w}){const{attributes:_}=J,S=Q instanceof HTMLAnchorElement;"radio"===_.type&&(_.name=`${_.name}-${c}`);for(const[P,o]of Object.entries(_))if(null!=o&&"dataId"!==P)if("style"!==P)if("textContent"===P)Q.textContent=o;else if("class"===P)o.length&&Q.setAttribute(P,o.join(" "));else{if(S&&("href"===P||"newWindow"===P))continue;Q.setAttribute(P,o)}else Object.assign(Q.style,o);S&&w.addLinkAttributes(Q,_.href,_.newWindow),O&&_.dataId&&this.setupStorage(Q,_.dataId,J,O)}static render(Q){var r;const J=Q.annotationStorage,O=Q.linkService,c=Q.xfaHtml,w=Q.intent||"display",_=document.createElement(c.name);c.attributes&&this.setAttributes({html:_,element:c,intent:w,linkService:O});const S=[[c,-1,_]],P=Q.div;if(P.appendChild(_),Q.viewport){const e=`matrix(${Q.viewport.transform.join(",")})`;P.style.transform=e}"richText"!==w&&P.setAttribute("class","xfaLayer xfaFont");const o=[];for(;S.length>0;){const[e,s,m]=S[S.length-1];if(s+1===e.children.length){S.pop();continue}const u=e.children[++S[S.length-1][1]];if(null===u)continue;const{name:f}=u;if("#text"===f){const i=document.createTextNode(u.value);o.push(i),m.appendChild(i);continue}let t;if(t=(null==(r=null==u?void 0:u.attributes)?void 0:r.xmlns)?document.createElementNS(u.attributes.xmlns,f):document.createElement(f),m.appendChild(t),u.attributes&&this.setAttributes({html:t,element:u,storage:J,intent:w,linkService:O}),u.children&&u.children.length>0)S.push([u,-1,t]);else if(u.value){const i=document.createTextNode(u.value);b.XfaText.shouldBuildText(f)&&o.push(i),t.appendChild(i)}}for(const e of P.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))e.setAttribute("readOnly",!0);return{textDivs:o}}static update(Q){const J=`matrix(${Q.viewport.transform.join(",")})`;Q.div.style.transform=J,Q.div.hidden=!1}}},(de,M,re)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.renderTextLayer=function s(m){const u=new e({textContent:m.textContent,textContentStream:m.textContentStream,container:m.container,viewport:m.viewport,textDivs:m.textDivs,textContentItemsStr:m.textContentItemsStr,enhanceTextSelection:m.enhanceTextSelection});return u._render(m.timeout),u};var b=re(1);const J=new Map,O=/^\s+$/g;function w(m,u,f,t){const i=document.createElement("span"),p=m._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==u.str,hasEOL:u.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==u.str,hasEOL:u.hasEOL};m._textDivs.push(i);const g=b.Util.transform(m._viewport.transform,u.transform);let y=Math.atan2(g[1],g[0]);const E=f[u.fontName];E.vertical&&(y+=Math.PI/2);const L=Math.hypot(g[2],g[3]),F=L*function c(m,u){const f=J.get(m);if(f)return f;u.save(),u.font=`30px ${m}`;const t=u.measureText("");let i=t.fontBoundingBoxAscent,p=Math.abs(t.fontBoundingBoxDescent);if(i){u.restore();const y=i/(i+p);return J.set(m,y),y}u.strokeStyle="red",u.clearRect(0,0,30,30),u.strokeText("g",0,0);let g=u.getImageData(0,0,30,30).data;p=0;for(let y=g.length-1-3;y>=0;y-=4)if(g[y]>0){p=Math.ceil(y/4/30);break}u.clearRect(0,0,30,30),u.strokeText("A",0,30),g=u.getImageData(0,0,30,30).data,i=0;for(let y=0,E=g.length;y<E;y+=4)if(g[y]>0){i=30-Math.floor(y/4/30);break}if(u.restore(),i){const y=i/(i+p);return J.set(m,y),y}return J.set(m,.8),.8}(E.fontFamily,t);let N,U;0===y?(N=g[4],U=g[5]-F):(N=g[4]+F*Math.sin(y),U=g[5]-F*Math.cos(y)),i.style.left=`${N}px`,i.style.top=`${U}px`,i.style.fontSize=`${L}px`,i.style.fontFamily=E.fontFamily,i.setAttribute("role","presentation"),i.textContent=u.str,i.dir=u.dir,m._fontInspectorEnabled&&(i.dataset.fontName=u.fontName),0!==y&&(p.angle=y*(180/Math.PI));let H=!1;if(u.str.length>1||m._enhanceTextSelection&&O.test(u.str))H=!0;else if(" "!==u.str&&u.transform[0]!==u.transform[3]){const X=Math.abs(u.transform[0]),I=Math.abs(u.transform[3]);X!==I&&Math.max(X,I)/Math.min(X,I)>1.5&&(H=!0)}if(H&&(p.canvasWidth=E.vertical?u.height*m._viewport.scale:u.width*m._viewport.scale),m._textDivProperties.set(i,p),m._textContentStream&&m._layoutText(i),m._enhanceTextSelection&&p.hasText){let X=1,I=0;0!==y&&(X=Math.cos(y),I=Math.sin(y));const z=(E.vertical?u.height:u.width)*m._viewport.scale,$=L;let te,ae;0!==y?(te=[X,I,-I,X,N,U],ae=b.Util.getAxialAlignedBoundingBox([0,0,z,$],te)):ae=[N,U,N+z,U+$],m._bounds.push({left:ae[0],top:ae[1],right:ae[2],bottom:ae[3],div:i,size:[z,$],m:te})}}function _(m){if(m._canceled)return;const u=m._textDivs,f=m._capability,t=u.length;if(t>1e5)return m._renderingDone=!0,void f.resolve();if(!m._textContentStream)for(let i=0;i<t;i++)m._layoutText(u[i]);m._renderingDone=!0,f.resolve()}function S(m,u,f){let t=0;for(let i=0;i<f;i++){const p=m[u++];p>0&&(t=t?Math.min(p,t):p)}return t}function r(m,u){u.sort(function(i,p){return i.x1-p.x1||i.index-p.index});const t=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const i of u){let p=0;for(;p<t.length&&t[p].end<=i.y1;)p++;let g=t.length-1;for(;g>=0&&t[g].start>=i.y2;)g--;let y,E,L,F,N=-1/0;for(L=p;L<=g;L++){let X;y=t[L],E=y.boundary,X=E.x2>i.x1?E.index>i.index?E.x1New:i.x1:void 0===E.x2New?(E.x2+i.x1)/2:E.x2New,X>N&&(N=X)}for(i.x1New=N,L=p;L<=g;L++)y=t[L],E=y.boundary,void 0===E.x2New?E.x2>i.x1?E.index>i.index&&(E.x2New=E.x2):E.x2New=N:E.x2New>N&&(E.x2New=Math.max(N,E.x2));const U=[];let H=null;for(L=p;L<=g;L++){y=t[L],E=y.boundary;const X=E.x2>i.x2?E:i;H===X?U[U.length-1].end=y.end:(U.push({start:y.start,end:y.end,boundary:X}),H=X)}for(t[p].start<i.y1&&(U[0].start=i.y1,U.unshift({start:t[p].start,end:i.y1,boundary:t[p].boundary})),i.y2<t[g].end&&(U[U.length-1].end=i.y2,U.push({start:i.y2,end:t[g].end,boundary:t[g].boundary})),L=p;L<=g;L++){if(y=t[L],E=y.boundary,void 0!==E.x2New)continue;let X=!1;for(F=p-1;!X&&F>=0&&t[F].start>=E.y1;F--)X=t[F].boundary===E;for(F=g+1;!X&&F<t.length&&t[F].end<=E.y2;F++)X=t[F].boundary===E;for(F=0;!X&&F<U.length;F++)X=U[F].boundary===E;X||(E.x2New=N)}Array.prototype.splice.apply(t,[p,g-p+1].concat(U))}for(const i of t){const p=i.boundary;void 0===p.x2New&&(p.x2New=Math.max(m,p.x2))}}class e{constructor({textContent:u,textContentStream:f,container:t,viewport:i,textDivs:p,textContentItemsStr:g,enhanceTextSelection:y}){var E;this._textContent=u,this._textContentStream=f,this._container=t,this._document=t.ownerDocument,this._viewport=i,this._textDivs=p||[],this._textContentItemsStr=g||[],this._enhanceTextSelection=!!y,this._fontInspectorEnabled=!!(null==(E=globalThis.FontInspector)?void 0:E.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,b.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new b.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(u,f){for(let t=0,i=u.length;t<i;t++)if(void 0!==u[t].str)this._textContentItemsStr.push(u[t].str),w(this,u[t],f,this._layoutTextCtx);else if("beginMarkedContentProps"===u[t].type||"beginMarkedContent"===u[t].type){const p=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==u[t].id&&this._container.setAttribute("id",`${u[t].id}`),p.appendChild(this._container)}else"endMarkedContent"===u[t].type&&(this._container=this._container.parentNode)}_layoutText(u){const f=this._textDivProperties.get(u);let t="";if(0!==f.canvasWidth&&f.hasText){const{fontSize:i,fontFamily:p}=u.style;(i!==this._layoutTextLastFontSize||p!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${i} ${p}`,this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=p);const{width:g}=this._layoutTextCtx.measureText(u.textContent);if(g>0){const y=f.canvasWidth/g;this._enhanceTextSelection&&(f.scale=y),t=`scaleX(${y})`}}if(0!==f.angle&&(t=`rotate(${f.angle}deg) ${t}`),t.length>0&&(this._enhanceTextSelection&&(f.originalTransform=t),u.style.transform=t),f.hasText&&this._container.appendChild(u),f.hasEOL){const i=document.createElement("br");i.setAttribute("role","presentation"),this._container.appendChild(i)}}_render(u=0){const f=(0,b.createPromiseCapability)();let t=Object.create(null);const i=this._document.createElement("canvas");if(i.height=i.width=30,this._layoutTextCtx=i.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),f.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const p=()=>{this._reader.read().then(({value:g,done:y})=>{y?f.resolve():(Object.assign(t,g.styles),this._processItems(g.items,t),p())},f.reject)};this._reader=this._textContentStream.getReader(),p()}}f.promise.then(()=>{t=null,u?this._renderTimer=setTimeout(()=>{_(this),this._renderTimer=null},u):_(this)},this._capability.reject)}expandTextDivs(u=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function P(m){const u=m._bounds,f=m._viewport,t=function o(m,u,f){const t=f.map(function(p,g){return{x1:p.left,y1:p.top,x2:p.right,y2:p.bottom,index:g,x1New:void 0,x2New:void 0}});r(m,t);const i=new Array(f.length);for(const p of t)i[p.index]={left:p.x1New,top:0,right:p.x2New,bottom:0};f.map(function(p,g){const y=i[g],E=t[g];E.x1=p.top,E.y1=m-y.right,E.x2=p.bottom,E.y2=m-y.left,E.index=g,E.x1New=void 0,E.x2New=void 0}),r(u,t);for(const p of t){const g=p.index;i[g].top=p.x1New,i[g].bottom=p.x2New}return i}(f.width,f.height,u);for(let i=0;i<t.length;i++){const p=u[i].div,g=m._textDivProperties.get(p);if(0===g.angle){g.paddingLeft=u[i].left-t[i].left,g.paddingTop=u[i].top-t[i].top,g.paddingRight=t[i].right-u[i].right,g.paddingBottom=t[i].bottom-u[i].bottom,m._textDivProperties.set(p,g);continue}const y=t[i],E=u[i],L=E.m,F=L[0],N=L[1],U=[[0,0],[0,E.size[1]],[E.size[0],0],E.size],H=new Float64Array(64);for(let I=0,z=U.length;I<z;I++){const $=b.Util.applyTransform(U[I],L);H[I+0]=F&&(y.left-$[0])/F,H[I+4]=N&&(y.top-$[1])/N,H[I+8]=F&&(y.right-$[0])/F,H[I+12]=N&&(y.bottom-$[1])/N,H[I+16]=N&&(y.left-$[0])/-N,H[I+20]=F&&(y.top-$[1])/F,H[I+24]=N&&(y.right-$[0])/-N,H[I+28]=F&&(y.bottom-$[1])/F,H[I+32]=F&&(y.left-$[0])/-F,H[I+36]=N&&(y.top-$[1])/-N,H[I+40]=F&&(y.right-$[0])/-F,H[I+44]=N&&(y.bottom-$[1])/-N,H[I+48]=N&&(y.left-$[0])/N,H[I+52]=F&&(y.top-$[1])/-F,H[I+56]=N&&(y.right-$[0])/N,H[I+60]=F&&(y.bottom-$[1])/-F}const X=1+Math.min(Math.abs(F),Math.abs(N));g.paddingLeft=S(H,32,16)/X,g.paddingTop=S(H,48,16)/X,g.paddingRight=S(H,0,16)/X,g.paddingBottom=S(H,16,16)/X,m._textDivProperties.set(p,g)}}(this),this._bounds=null);const f=[],t=[];for(let i=0,p=this._textDivs.length;i<p;i++){const g=this._textDivs[i],y=this._textDivProperties.get(g);!y.hasText||(u?(f.length=0,t.length=0,y.originalTransform&&f.push(y.originalTransform),y.paddingTop>0?(t.push(`${y.paddingTop}px`),f.push(`translateY(${-y.paddingTop}px)`)):t.push(0),t.push(y.paddingRight>0?y.paddingRight/y.scale+"px":0),t.push(y.paddingBottom>0?`${y.paddingBottom}px`:0),y.paddingLeft>0?(t.push(y.paddingLeft/y.scale+"px"),f.push(`translateX(${-y.paddingLeft/y.scale}px)`)):t.push(0),g.style.padding=t.join(" "),f.length&&(g.style.transform=f.join(" "))):(g.style.padding=null,g.style.transform=y.originalTransform))}}}},(de,M,re)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.SVGGraphics=void 0;var b=re(1),he=re(5),ee=re(3);let Q=class{constructor(){(0,b.unreachable)("Not implemented: SVGGraphics")}};M.SVGGraphics=Q;{let r=function(t){let i=[];const p=[];for(const g of t)"save"!==g.fn?"restore"===g.fn?i=p.pop():i.push(g):(i.push({fnId:92,fn:"group",items:[]}),p.push(i),i=i[i.length-1].items);return i},e=function(t){if(Number.isInteger(t))return t.toString();const i=t.toFixed(10);let p=i.length-1;if("0"!==i[p])return i;do{p--}while("0"===i[p]);return i.substring(0,"."===i[p]?p:p+1)},s=function(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":`scale(${e(t[0])} ${e(t[3])})`;if(t[0]===t[3]&&t[1]===-t[2]){const i=180*Math.acos(t[0])/Math.PI;return`rotate(${e(i)})`}}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return`translate(${e(t[4])} ${e(t[5])})`;return`matrix(${e(t[0])} ${e(t[1])} ${e(t[2])} ${e(t[3])} ${e(t[4])} ${e(t[5])})`};const J={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},O="http://www.w3.org/XML/1998/namespace",c="http://www.w3.org/1999/xlink",w=["butt","round","square"],_=["miter","round","bevel"],S=function(t,i="",p=!1){if(URL.createObjectURL&&"undefined"!=typeof Blob&&!p)return URL.createObjectURL(new Blob([t],{type:i}));const g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let y=`data:${i};base64,`;for(let E=0,L=t.length;E<L;E+=3){const F=255&t[E],N=255&t[E+1],U=255&t[E+2];y+=g[F>>2]+g[(3&F)<<4|N>>4]+g[E+1<L?(15&N)<<2|U>>6:64]+g[E+2<L?63&U:64]}return y},P=function(){const t=new Uint8Array([137,80,78,71,13,10,26,10]),p=new Int32Array(256);for(let U=0;U<256;U++){let H=U;for(let X=0;X<8;X++)H=1&H?3988292384^H>>1&2147483647:H>>1&2147483647;p[U]=H}function y(U,H,X,I){let z=I;const $=H.length;X[z]=$>>24&255,X[z+1]=$>>16&255,X[z+2]=$>>8&255,X[z+3]=255&$,z+=4,X[z]=255&U.charCodeAt(0),X[z+1]=255&U.charCodeAt(1),X[z+2]=255&U.charCodeAt(2),X[z+3]=255&U.charCodeAt(3),z+=4,X.set(H,z),z+=H.length;const te=function g(U,H,X){let I=-1;for(let z=H;z<X;z++)I=I>>>8^p[255&(I^U[z])];return-1^I}(X,I+4,z);X[z]=te>>24&255,X[z+1]=te>>16&255,X[z+2]=te>>8&255,X[z+3]=255&te}function F(U){let H=U.length;const X=65535,I=Math.ceil(H/X),z=new Uint8Array(2+H+5*I+4);let $=0;z[$++]=120,z[$++]=156;let te=0;for(;H>X;)z[$++]=0,z[$++]=255,z[$++]=255,z[$++]=0,z[$++]=0,z.set(U.subarray(te,te+X),$),$+=X,te+=X,H-=X;z[$++]=1,z[$++]=255&H,z[$++]=H>>8&255,z[$++]=255&~H,z[$++]=(65535&~H)>>8&255,z.set(U.subarray(te),$),$+=U.length-te;const ae=function E(U,H,X){let I=1,z=0;for(let $=H;$<X;++$)I=(I+(255&U[$]))%65521,z=(z+I)%65521;return z<<16|I}(U,0,U.length);return z[$++]=ae>>24&255,z[$++]=ae>>16&255,z[$++]=ae>>8&255,z[$++]=255&ae,z}return function(H,X,I){return function N(U,H,X,I){const z=U.width,$=U.height;let te,ae,T;const a=U.data;switch(H){case b.ImageKind.GRAYSCALE_1BPP:ae=0,te=1,T=z+7>>3;break;case b.ImageKind.RGB_24BPP:ae=2,te=8,T=3*z;break;case b.ImageKind.RGBA_32BPP:ae=6,te=8,T=4*z;break;default:throw new Error("invalid format")}const h=new Uint8Array((1+T)*$);let n=0,l=0;for(let j=0;j<$;++j)h[n++]=0,h.set(a.subarray(l,l+T),n),l+=T,n+=T;if(H===b.ImageKind.GRAYSCALE_1BPP&&I){n=0;for(let j=0;j<$;j++){n++;for(let V=0;V<T;V++)h[n++]^=255}}const d=new Uint8Array([z>>24&255,z>>16&255,z>>8&255,255&z,$>>24&255,$>>16&255,$>>8&255,255&$,te,ae,0,0,0]),v=function L(U){if(!ee.isNodeJS)return F(U);try{let H;H=parseInt(process.versions.node)>=8?U:Buffer.from(U);const X=__webpack_require__(2258).deflateSync(H,{level:9});return X instanceof Uint8Array?X:new Uint8Array(X)}catch(H){(0,b.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+H)}return F(U)}(h),x=new Uint8Array(t.length+36+d.length+v.length);let B=0;return x.set(t,B),B+=t.length,y("IHDR",d,x,B),B+=12+d.length,y("IDATA",v,x,B),B+=12+v.length,y("IEND",new Uint8Array(0),x,B),S(x,"image/png",X)}(H,void 0===H.kind?b.ImageKind.GRAYSCALE_1BPP:H.kind,X,I)}}();class o{constructor(){this.fontSizeScale=1,this.fontWeight=J.fontWeight,this.fontSize=0,this.textMatrix=b.IDENTITY_MATRIX,this.fontMatrix=b.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=b.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=J.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(i,p){this.x=i,this.y=p}}let m=0,u=0,f=0;M.SVGGraphics=Q=class{constructor(t,i,p=!1){this.svgFactory=new he.DOMSVGFactory,this.current=new o,this.transformMatrix=b.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=i,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!p,this._operatorIdMapping=[];for(const g in b.OPS)this._operatorIdMapping[b.OPS[g]]=g}save(){this.transformStack.push(this.transformMatrix);const t=this.current;this.extraStack.push(t),this.current=t.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(t){this.save(),this.executeOpTree(t),this.restore()}loadDependencies(t){const i=t.fnArray,p=t.argsArray;for(let g=0,y=i.length;g<y;g++)if(i[g]===b.OPS.dependency)for(const E of p[g]){const L=E.startsWith("g_")?this.commonObjs:this.objs,F=new Promise(N=>{L.get(E,N)});this.current.dependencies.push(F)}return Promise.all(this.current.dependencies)}transform(t,i,p,g,y,E){this.transformMatrix=b.Util.transform(this.transformMatrix,[t,i,p,g,y,E]),this.tgrp=null}getSVG(t,i){this.viewport=i;const p=this._initialize(i);return this.loadDependencies(t).then(()=>(this.transformMatrix=b.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(t)),p))}convertOpList(t){const i=this._operatorIdMapping,p=t.argsArray,g=t.fnArray,y=[];for(let E=0,L=g.length;E<L;E++){const F=g[E];y.push({fnId:F,fn:i[F],args:p[E]})}return r(y)}executeOpTree(t){for(const i of t){const p=i.fn,y=i.args;switch(0|i.fnId){case b.OPS.beginText:this.beginText();break;case b.OPS.dependency:break;case b.OPS.setLeading:this.setLeading(y);break;case b.OPS.setLeadingMoveText:this.setLeadingMoveText(y[0],y[1]);break;case b.OPS.setFont:this.setFont(y);break;case b.OPS.showText:case b.OPS.showSpacedText:this.showText(y[0]);break;case b.OPS.endText:this.endText();break;case b.OPS.moveText:this.moveText(y[0],y[1]);break;case b.OPS.setCharSpacing:this.setCharSpacing(y[0]);break;case b.OPS.setWordSpacing:this.setWordSpacing(y[0]);break;case b.OPS.setHScale:this.setHScale(y[0]);break;case b.OPS.setTextMatrix:this.setTextMatrix(y[0],y[1],y[2],y[3],y[4],y[5]);break;case b.OPS.setTextRise:this.setTextRise(y[0]);break;case b.OPS.setTextRenderingMode:this.setTextRenderingMode(y[0]);break;case b.OPS.setLineWidth:this.setLineWidth(y[0]);break;case b.OPS.setLineJoin:this.setLineJoin(y[0]);break;case b.OPS.setLineCap:this.setLineCap(y[0]);break;case b.OPS.setMiterLimit:this.setMiterLimit(y[0]);break;case b.OPS.setFillRGBColor:this.setFillRGBColor(y[0],y[1],y[2]);break;case b.OPS.setStrokeRGBColor:this.setStrokeRGBColor(y[0],y[1],y[2]);break;case b.OPS.setStrokeColorN:this.setStrokeColorN(y);break;case b.OPS.setFillColorN:this.setFillColorN(y);break;case b.OPS.shadingFill:this.shadingFill(y[0]);break;case b.OPS.setDash:this.setDash(y[0],y[1]);break;case b.OPS.setRenderingIntent:this.setRenderingIntent(y[0]);break;case b.OPS.setFlatness:this.setFlatness(y[0]);break;case b.OPS.setGState:this.setGState(y[0]);break;case b.OPS.fill:this.fill();break;case b.OPS.eoFill:this.eoFill();break;case b.OPS.stroke:this.stroke();break;case b.OPS.fillStroke:this.fillStroke();break;case b.OPS.eoFillStroke:this.eoFillStroke();break;case b.OPS.clip:this.clip("nonzero");break;case b.OPS.eoClip:this.clip("evenodd");break;case b.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case b.OPS.paintImageXObject:this.paintImageXObject(y[0]);break;case b.OPS.paintInlineImageXObject:this.paintInlineImageXObject(y[0]);break;case b.OPS.paintImageMaskXObject:this.paintImageMaskXObject(y[0]);break;case b.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(y[0],y[1]);break;case b.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case b.OPS.closePath:this.closePath();break;case b.OPS.closeStroke:this.closeStroke();break;case b.OPS.closeFillStroke:this.closeFillStroke();break;case b.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case b.OPS.nextLine:this.nextLine();break;case b.OPS.transform:this.transform(y[0],y[1],y[2],y[3],y[4],y[5]);break;case b.OPS.constructPath:this.constructPath(y[0],y[1]);break;case b.OPS.endPath:this.endPath();break;case 92:this.group(i.items);break;default:(0,b.warn)(`Unimplemented operator ${p}`)}}}setWordSpacing(t){this.current.wordSpacing=t}setCharSpacing(t){this.current.charSpacing=t}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(t,i,p,g,y,E){const L=this.current;L.textMatrix=L.lineMatrix=[t,i,p,g,y,E],L.textMatrixScale=Math.hypot(t,i),L.x=L.lineX=0,L.y=L.lineY=0,L.xcoords=[],L.ycoords=[],L.tspan=this.svgFactory.createElement("svg:tspan"),L.tspan.setAttributeNS(null,"font-family",L.fontFamily),L.tspan.setAttributeNS(null,"font-size",`${e(L.fontSize)}px`),L.tspan.setAttributeNS(null,"y",e(-L.y)),L.txtElement=this.svgFactory.createElement("svg:text"),L.txtElement.appendChild(L.tspan)}beginText(){const t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=b.IDENTITY_MATRIX,t.lineMatrix=b.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[],t.ycoords=[]}moveText(t,i){const p=this.current;p.x=p.lineX+=t,p.y=p.lineY+=i,p.xcoords=[],p.ycoords=[],p.tspan=this.svgFactory.createElement("svg:tspan"),p.tspan.setAttributeNS(null,"font-family",p.fontFamily),p.tspan.setAttributeNS(null,"font-size",`${e(p.fontSize)}px`),p.tspan.setAttributeNS(null,"y",e(-p.y))}showText(t){const i=this.current,p=i.font,g=i.fontSize;if(0===g)return;const y=i.fontSizeScale,E=i.charSpacing,L=i.wordSpacing,F=i.fontDirection,N=i.textHScale*F,U=p.vertical,H=U?1:-1,X=p.defaultVMetrics,I=g*i.fontMatrix[0];let z=0;for(const ae of t){if(null===ae){z+=F*L;continue}if("number"==typeof ae){z+=H*ae*g/1e3;continue}const T=(ae.isSpace?L:0)+E,a=ae.fontChar;let h,n,d,l=ae.width;if(U){let v;const A=ae.vmetric||X;v=ae.vmetric?A[1]:.5*l,v=-v*I,l=A?-A[0]:l,h=v/y,n=(z+A[2]*I)/y}else h=z/y,n=0;(ae.isInFont||p.missingFile)&&(i.xcoords.push(i.x+h),U&&i.ycoords.push(-i.y+n),i.tspan.textContent+=a),d=U?l*I-T*F:l*I+T*F,z+=d}i.tspan.setAttributeNS(null,"x",i.xcoords.map(e).join(" ")),i.tspan.setAttributeNS(null,"y",U?i.ycoords.map(e).join(" "):e(-i.y)),U?i.y-=z:i.x+=z*N,i.tspan.setAttributeNS(null,"font-family",i.fontFamily),i.tspan.setAttributeNS(null,"font-size",`${e(i.fontSize)}px`),i.fontStyle!==J.fontStyle&&i.tspan.setAttributeNS(null,"font-style",i.fontStyle),i.fontWeight!==J.fontWeight&&i.tspan.setAttributeNS(null,"font-weight",i.fontWeight);const $=i.textRenderingMode&b.TextRenderingMode.FILL_STROKE_MASK;$===b.TextRenderingMode.FILL||$===b.TextRenderingMode.FILL_STROKE?(i.fillColor!==J.fillColor&&i.tspan.setAttributeNS(null,"fill",i.fillColor),i.fillAlpha<1&&i.tspan.setAttributeNS(null,"fill-opacity",i.fillAlpha)):i.tspan.setAttributeNS(null,"fill",i.textRenderingMode===b.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),($===b.TextRenderingMode.STROKE||$===b.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(i.tspan,1/(i.textMatrixScale||1));let te=i.textMatrix;0!==i.textRise&&(te=te.slice(),te[5]+=i.textRise),i.txtElement.setAttributeNS(null,"transform",`${s(te)} scale(${e(N)}, -1)`),i.txtElement.setAttributeNS(O,"xml:space","preserve"),i.txtElement.appendChild(i.tspan),i.txtgrp.appendChild(i.txtElement),this._ensureTransformGroup().appendChild(i.txtElement)}setLeadingMoveText(t,i){this.setLeading(-i),this.moveText(t,i)}addFontStyle(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const i=S(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${t.loadedName}"; src: url(${i}); }\n`}setFont(t){const i=this.current,p=this.commonObjs.get(t[0]);let g=t[1];i.font=p,this.embedFonts&&!p.missingFile&&!this.embeddedFonts[p.loadedName]&&(this.addFontStyle(p),this.embeddedFonts[p.loadedName]=p),i.fontMatrix=p.fontMatrix||b.FONT_IDENTITY_MATRIX;let y="normal";p.black?y="900":p.bold&&(y="bold");const E=p.italic?"italic":"normal";g<0?(g=-g,i.fontDirection=-1):i.fontDirection=1,i.fontSize=g,i.fontFamily=p.loadedName,i.fontWeight=y,i.fontStyle=E,i.tspan=this.svgFactory.createElement("svg:tspan"),i.tspan.setAttributeNS(null,"y",e(-i.y)),i.xcoords=[],i.ycoords=[]}endText(){var i;const t=this.current;t.textRenderingMode&b.TextRenderingMode.ADD_TO_PATH_FLAG&&(null==(i=t.txtElement)?void 0:i.hasChildNodes())&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(t){t>0&&(this.current.lineWidth=t)}setLineCap(t){this.current.lineCap=w[t]}setLineJoin(t){this.current.lineJoin=_[t]}setMiterLimit(t){this.current.miterLimit=t}setStrokeAlpha(t){this.current.strokeAlpha=t}setStrokeRGBColor(t,i,p){this.current.strokeColor=b.Util.makeHexColor(t,i,p)}setFillAlpha(t){this.current.fillAlpha=t}setFillRGBColor(t,i,p){this.current.fillColor=b.Util.makeHexColor(t,i,p),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(t){this.current.strokeColor=this._makeColorN_Pattern(t)}setFillColorN(t){this.current.fillColor=this._makeColorN_Pattern(t)}shadingFill(t){const i=this.viewport.width,p=this.viewport.height,g=b.Util.inverseTransform(this.transformMatrix),y=b.Util.applyTransform([0,0],g),E=b.Util.applyTransform([0,p],g),L=b.Util.applyTransform([i,0],g),F=b.Util.applyTransform([i,p],g),N=Math.min(y[0],E[0],L[0],F[0]),U=Math.min(y[1],E[1],L[1],F[1]),H=Math.max(y[0],E[0],L[0],F[0]),X=Math.max(y[1],E[1],L[1],F[1]),I=this.svgFactory.createElement("svg:rect");I.setAttributeNS(null,"x",N),I.setAttributeNS(null,"y",U),I.setAttributeNS(null,"width",H-N),I.setAttributeNS(null,"height",X-U),I.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this.current.fillAlpha<1&&I.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(I)}_makeColorN_Pattern(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}_makeTilingPattern(t){const i=t[1],p=t[2],g=t[3]||b.IDENTITY_MATRIX,[y,E,L,F]=t[4],N=t[5],U=t[6],H=t[7],X="shading"+f++,[I,z,$,te]=b.Util.normalizeRect([...b.Util.applyTransform([y,E],g),...b.Util.applyTransform([L,F],g)]),[ae,T]=b.Util.singularValueDecompose2dScale(g),a=N*ae,h=U*T,n=this.svgFactory.createElement("svg:pattern");n.setAttributeNS(null,"id",X),n.setAttributeNS(null,"patternUnits","userSpaceOnUse"),n.setAttributeNS(null,"width",a),n.setAttributeNS(null,"height",h),n.setAttributeNS(null,"x",`${I}`),n.setAttributeNS(null,"y",`${z}`);const l=this.svg,d=this.transformMatrix,v=this.current.fillColor,A=this.current.strokeColor,x=this.svgFactory.create($-I,te-z);if(this.svg=x,this.transformMatrix=g,2===H){const B=b.Util.makeHexColor(...i);this.current.fillColor=B,this.current.strokeColor=B}return this.executeOpTree(this.convertOpList(p)),this.svg=l,this.transformMatrix=d,this.current.fillColor=v,this.current.strokeColor=A,n.appendChild(x.childNodes[0]),this.defs.appendChild(n),`url(#${X})`}_makeShadingPattern(t){switch("string"==typeof t&&(t=this.objs.get(t)),t[0]){case"RadialAxial":const i="shading"+f++,p=t[3];let g;switch(t[1]){case"axial":const y=t[4],E=t[5];g=this.svgFactory.createElement("svg:linearGradient"),g.setAttributeNS(null,"id",i),g.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),g.setAttributeNS(null,"x1",y[0]),g.setAttributeNS(null,"y1",y[1]),g.setAttributeNS(null,"x2",E[0]),g.setAttributeNS(null,"y2",E[1]);break;case"radial":const L=t[4],F=t[5],N=t[6],U=t[7];g=this.svgFactory.createElement("svg:radialGradient"),g.setAttributeNS(null,"id",i),g.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),g.setAttributeNS(null,"cx",F[0]),g.setAttributeNS(null,"cy",F[1]),g.setAttributeNS(null,"r",U),g.setAttributeNS(null,"fx",L[0]),g.setAttributeNS(null,"fy",L[1]),g.setAttributeNS(null,"fr",N);break;default:throw new Error(`Unknown RadialAxial type: ${t[1]}`)}for(const y of p){const E=this.svgFactory.createElement("svg:stop");E.setAttributeNS(null,"offset",y[0]),E.setAttributeNS(null,"stop-color",y[1]),g.appendChild(E)}return this.defs.appendChild(g),`url(#${i})`;case"Mesh":return(0,b.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${t[0]}`)}}setDash(t,i){this.current.dashArray=t,this.current.dashPhase=i}constructPath(t,i){const p=this.current;let g=p.x,y=p.y,E=[],L=0;for(const F of t)switch(0|F){case b.OPS.rectangle:g=i[L++],y=i[L++];const H=g+i[L++],X=y+i[L++];E.push("M",e(g),e(y),"L",e(H),e(y),"L",e(H),e(X),"L",e(g),e(X),"Z");break;case b.OPS.moveTo:g=i[L++],y=i[L++],E.push("M",e(g),e(y));break;case b.OPS.lineTo:g=i[L++],y=i[L++],E.push("L",e(g),e(y));break;case b.OPS.curveTo:g=i[L+4],y=i[L+5],E.push("C",e(i[L]),e(i[L+1]),e(i[L+2]),e(i[L+3]),e(g),e(y)),L+=6;break;case b.OPS.curveTo2:E.push("C",e(g),e(y),e(i[L]),e(i[L+1]),e(i[L+2]),e(i[L+3])),g=i[L+2],y=i[L+3],L+=4;break;case b.OPS.curveTo3:g=i[L+2],y=i[L+3],E.push("C",e(i[L]),e(i[L+1]),e(g),e(y),e(g),e(y)),L+=4;break;case b.OPS.closePath:E.push("Z")}E=E.join(" "),p.path&&t.length>0&&t[0]!==b.OPS.rectangle&&t[0]!==b.OPS.moveTo?E=p.path.getAttributeNS(null,"d")+E:(p.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(p.path)),p.path.setAttributeNS(null,"d",E),p.path.setAttributeNS(null,"fill","none"),p.element=p.path,p.setCurrentPoint(g,y)}endPath(){const t=this.current;if(t.path=null,!this.pendingClip)return;if(!t.element)return void(this.pendingClip=null);const i="clippath"+m++,p=this.svgFactory.createElement("svg:clipPath");p.setAttributeNS(null,"id",i),p.setAttributeNS(null,"transform",s(this.transformMatrix));const g=t.element.cloneNode(!0);if(g.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,p.appendChild(g),this.defs.appendChild(p),t.activeClipUrl){t.clipGroup=null;for(const y of this.extraStack)y.clipGroup=null;p.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl=`url(#${i})`,this.tgrp=null}clip(t){this.pendingClip=t}closePath(){const t=this.current;if(t.path){const i=`${t.path.getAttributeNS(null,"d")}Z`;t.path.setAttributeNS(null,"d",i)}}setLeading(t){this.current.leading=-t}setTextRise(t){this.current.textRise=t}setTextRenderingMode(t){this.current.textRenderingMode=t}setHScale(t){this.current.textHScale=t/100}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[i,p]of t)switch(i){case"LW":this.setLineWidth(p);break;case"LC":this.setLineCap(p);break;case"LJ":this.setLineJoin(p);break;case"ML":this.setMiterLimit(p);break;case"D":this.setDash(p[0],p[1]);break;case"RI":this.setRenderingIntent(p);break;case"FL":this.setFlatness(p);break;case"Font":this.setFont(p);break;case"CA":this.setStrokeAlpha(p);break;case"ca":this.setFillAlpha(p);break;default:(0,b.warn)(`Unimplemented graphic state operator ${i}`)}}fill(){const t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}stroke(){const t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(t,i=1){const p=this.current;let g=p.dashArray;1!==i&&g.length>0&&(g=g.map(function(y){return i*y})),t.setAttributeNS(null,"stroke",p.strokeColor),t.setAttributeNS(null,"stroke-opacity",p.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",e(p.miterLimit)),t.setAttributeNS(null,"stroke-linecap",p.lineCap),t.setAttributeNS(null,"stroke-linejoin",p.lineJoin),t.setAttributeNS(null,"stroke-width",e(i*p.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",g.map(e).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",e(i*p.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(t)}paintImageXObject(t){const i=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);i?this.paintInlineImageXObject(i):(0,b.warn)(`Dependent image with object ID ${t} is not ready yet`)}paintInlineImageXObject(t,i){const p=t.width,g=t.height,y=P(t,this.forceDataSchema,!!i),E=this.svgFactory.createElement("svg:rect");E.setAttributeNS(null,"x","0"),E.setAttributeNS(null,"y","0"),E.setAttributeNS(null,"width",e(p)),E.setAttributeNS(null,"height",e(g)),this.current.element=E,this.clip("nonzero");const L=this.svgFactory.createElement("svg:image");L.setAttributeNS(c,"xlink:href",y),L.setAttributeNS(null,"x","0"),L.setAttributeNS(null,"y",e(-g)),L.setAttributeNS(null,"width",e(p)+"px"),L.setAttributeNS(null,"height",e(g)+"px"),L.setAttributeNS(null,"transform",`scale(${e(1/p)} ${e(-1/g)})`),i?i.appendChild(L):this._ensureTransformGroup().appendChild(L)}paintImageMaskXObject(t){const i=this.current,p=t.width,g=t.height,y=i.fillColor;i.maskId="mask"+u++;const E=this.svgFactory.createElement("svg:mask");E.setAttributeNS(null,"id",i.maskId);const L=this.svgFactory.createElement("svg:rect");L.setAttributeNS(null,"x","0"),L.setAttributeNS(null,"y","0"),L.setAttributeNS(null,"width",e(p)),L.setAttributeNS(null,"height",e(g)),L.setAttributeNS(null,"fill",y),L.setAttributeNS(null,"mask",`url(#${i.maskId})`),this.defs.appendChild(E),this._ensureTransformGroup().appendChild(L),this.paintInlineImageXObject(t,E)}paintFormXObjectBegin(t,i){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),i){const p=i[2]-i[0],g=i[3]-i[1],y=this.svgFactory.createElement("svg:rect");y.setAttributeNS(null,"x",i[0]),y.setAttributeNS(null,"y",i[1]),y.setAttributeNS(null,"width",e(p)),y.setAttributeNS(null,"height",e(g)),this.current.element=y,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(t){const i=this.svgFactory.create(t.width,t.height),p=this.svgFactory.createElement("svg:defs");i.appendChild(p),this.defs=p;const g=this.svgFactory.createElement("svg:g");return g.setAttributeNS(null,"transform",s(t.transform)),i.appendChild(g),this.svg=g,i}_ensureClipGroup(){if(!this.current.clipGroup){const t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(t),this.current.clipGroup=t}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",s(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(de,M,re)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFNodeStream=void 0;var b=re(1),he=re(26);const ee=__webpack_require__(172),Q=__webpack_require__(2001),J=__webpack_require__(3779),O=__webpack_require__(6558),c=/^file:\/\/\/[a-zA-Z]:\//;M.PDFNodeStream=class _{constructor(f){this.source=f,this.url=function w(u){const f=O.parse(u);return"file:"===f.protocol||f.host?f:/^[a-z]:[/\\]/i.test(u)?O.parse(`file:///${u}`):(f.host||(f.protocol="file:"),f)}(f.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&f.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var f,t;return null!=(t=null==(f=this._fullRequestReader)?void 0:f._loaded)?t:0}getFullReader(){return(0,b.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new s(this):new r(this),this._fullRequestReader}getRangeReader(f,t){if(t<=this._progressiveDataLength)return null;const i=this.isFsUrl?new m(this,f,t):new e(this,f,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(f){this._fullRequestReader&&this._fullRequestReader.cancel(f);for(const t of this._rangeRequestReaders.slice(0))t.cancel(f)}};class S{constructor(f){this._url=f.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=f.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=(0,b.createPromiseCapability)(),this._headersCapability=(0,b.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var f=this;return _asyncToGenerator(function*(){if(yield f._readCapability.promise,f._done)return{value:void 0,done:!0};if(f._storedError)throw f._storedError;const t=f._readableStream.read();return null===t?(f._readCapability=(0,b.createPromiseCapability)(),f.read()):(f._loaded+=t.length,f.onProgress&&f.onProgress({loaded:f._loaded,total:f._contentLength}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(f){this._readableStream?this._readableStream.destroy(f):this._error(f)}_error(f){this._storedError=f,this._readCapability.resolve()}_setReadableStream(f){this._readableStream=f,f.on("readable",()=>{this._readCapability.resolve()}),f.on("end",()=>{f.destroy(),this._done=!0,this._readCapability.resolve()}),f.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new b.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class P{constructor(f){this._url=f.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,b.createPromiseCapability)(),this._isStreamingSupported=!f.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var f=this;return _asyncToGenerator(function*(){if(yield f._readCapability.promise,f._done)return{value:void 0,done:!0};if(f._storedError)throw f._storedError;const t=f._readableStream.read();return null===t?(f._readCapability=(0,b.createPromiseCapability)(),f.read()):(f._loaded+=t.length,f.onProgress&&f.onProgress({loaded:f._loaded}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(f){this._readableStream?this._readableStream.destroy(f):this._error(f)}_error(f){this._storedError=f,this._readCapability.resolve()}_setReadableStream(f){this._readableStream=f,f.on("readable",()=>{this._readCapability.resolve()}),f.on("end",()=>{f.destroy(),this._done=!0,this._readCapability.resolve()}),f.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function o(u,f){return{protocol:u.protocol,auth:u.auth,host:u.hostname,port:u.port,path:u.path,method:"GET",headers:f}}class r extends S{constructor(f){super(f);const t=i=>{if(404===i.statusCode){const E=new b.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=E,void this._headersCapability.reject(E)}this._headersCapability.resolve(),this._setReadableStream(i);const p=E=>this._readableStream.headers[E.toLowerCase()],{allowRangeRequests:g,suggestedLength:y}=(0,he.validateRangeRequestCapabilities)({getResponseHeader:p,isHttp:f.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=g,this._contentLength=y||this._contentLength,this._filename=(0,he.extractFilenameFromHeader)(p)};this._request=null,this._request="http:"===this._url.protocol?Q.request(o(this._url,f.httpHeaders),t):J.request(o(this._url,f.httpHeaders),t),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class e extends P{constructor(f,t,i){super(f),this._httpHeaders={};for(const g in f.httpHeaders){const y=f.httpHeaders[g];void 0!==y&&(this._httpHeaders[g]=y)}this._httpHeaders.Range=`bytes=${t}-${i-1}`;const p=g=>{if(404!==g.statusCode)this._setReadableStream(g);else{const y=new b.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=y}};this._request=null,this._request="http:"===this._url.protocol?Q.request(o(this._url,this._httpHeaders),p):J.request(o(this._url,this._httpHeaders),p),this._request.on("error",g=>{this._storedError=g}),this._request.end()}}class s extends S{constructor(f){super(f);let t=decodeURIComponent(this._url.path);c.test(this._url.href)&&(t=t.replace(/^\//,"")),ee.lstat(t,(i,p)=>{if(i)return"ENOENT"===i.code&&(i=new b.MissingPDFException(`Missing PDF "${t}".`)),this._storedError=i,void this._headersCapability.reject(i);this._contentLength=p.size,this._setReadableStream(ee.createReadStream(t)),this._headersCapability.resolve()})}}class m extends P{constructor(f,t,i){super(f);let p=decodeURIComponent(this._url.path);c.test(this._url.href)&&(p=p.replace(/^\//,"")),this._setReadableStream(ee.createReadStream(p,{start:t,end:i-1}))}}},(de,M,re)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.createResponseStatusError=function O(w,_){return 404===w||0===w&&_.startsWith("file:")?new b.MissingPDFException('Missing PDF "'+_+'".'):new b.UnexpectedResponseException(`Unexpected server response (${w}) while retrieving PDF "${_}".`,w)},M.extractFilenameFromHeader=function J(w){const _=w("Content-Disposition");if(_){let S=(0,he.getFilenameFromContentDispositionHeader)(_);if(S.includes("%"))try{S=decodeURIComponent(S)}catch(P){}if((0,ee.isPdfFile)(S))return S}return null},M.validateRangeRequestCapabilities=function Q({getResponseHeader:w,isHttp:_,rangeChunkSize:S,disableRange:P}){const o={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(w("Content-Length"),10);return!Number.isInteger(r)||(o.suggestedLength=r,r<=2*S)||P||!_||"bytes"!==w("Accept-Ranges")||"identity"!==(w("Content-Encoding")||"identity")||(o.allowRangeRequests=!0),o},M.validateResponseStatus=function c(w){return 200===w||206===w};var b=re(1),he=re(27),ee=re(5)},(de,M,re)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.getFilenameFromContentDispositionHeader=function he(ee){let Q=!0,J=O("filename\\*","i").exec(ee);if(J){J=J[1];let r=S(J);return r=unescape(r),r=P(r),r=o(r),w(r)}if(J=function _(r){const e=[];let s;const m=O("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(s=m.exec(r));){let[,f,t,i]=s;if(f=parseInt(f,10),f in e){if(0===f)break}else e[f]=[t,i]}const u=[];for(let f=0;f<e.length&&f in e;++f){let[t,i]=e[f];i=S(i),t&&(i=unescape(i),0===f&&(i=P(i))),u.push(i)}return u.join("")}(ee),J)return w(o(J));if(J=O("filename","i").exec(ee),J){J=J[1];let r=S(J);return r=o(r),w(r)}function O(r,e){return new RegExp("(?:^|;)\\s*"+r+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',e)}function c(r,e){if(r){if(!/^[\x00-\xFF]+$/.test(e))return e;try{const s=new TextDecoder(r,{fatal:!0}),m=(0,b.stringToBytes)(e);e=s.decode(m),Q=!1}catch(s){}}return e}function w(r){return Q&&/[\x80-\xff]/.test(r)&&(r=c("utf-8",r),Q&&(r=c("iso-8859-1",r))),r}function S(r){if(r.startsWith('"')){const e=r.slice(1).split('\\"');for(let s=0;s<e.length;++s){const m=e[s].indexOf('"');-1!==m&&(e[s]=e[s].slice(0,m),e.length=s+1),e[s]=e[s].replace(/\\(.)/g,"$1")}r=e.join('"')}return r}function P(r){const e=r.indexOf("'");return-1===e?r:c(r.slice(0,e),r.slice(e+1).replace(/^[^']*'/,""))}function o(r){return!r.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(r)?r:r.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(e,s,m,u){if("q"===m||"Q"===m)return c(s,u=(u=u.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(f,t){return String.fromCharCode(parseInt(t,16))}));try{u=atob(u)}catch(f){}return c(s,u)})}return""};var b=re(1)},(de,M,re)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFNetworkStream=void 0;var b=re(1),he=re(26);class O{constructor(P,o={}){this.url=P,this.isHttp=/^https?:/i.test(P),this.httpHeaders=this.isHttp&&o.httpHeaders||Object.create(null),this.withCredentials=o.withCredentials||!1,this.getXhr=o.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(P,o,r){const e={begin:P,end:o};for(const s in r)e[s]=r[s];return this.request(e)}requestFull(P){return this.request(P)}request(P){const o=this.getXhr(),r=this.currXhrId++,e=this.pendingRequests[r]={xhr:o};o.open("GET",this.url),o.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const m=this.httpHeaders[s];void 0!==m&&o.setRequestHeader(s,m)}return this.isHttp&&"begin"in P&&"end"in P?(o.setRequestHeader("Range",`bytes=${P.begin}-${P.end-1}`),e.expectedStatus=206):e.expectedStatus=200,o.responseType="arraybuffer",P.onError&&(o.onerror=function(s){P.onError(o.status)}),o.onreadystatechange=this.onStateChange.bind(this,r),o.onprogress=this.onProgress.bind(this,r),e.onHeadersReceived=P.onHeadersReceived,e.onDone=P.onDone,e.onError=P.onError,e.onProgress=P.onProgress,o.send(null),r}onProgress(P,o){var e;const r=this.pendingRequests[P];!r||null==(e=r.onProgress)||e.call(r,o)}onStateChange(P,o){var f,t,i;const r=this.pendingRequests[P];if(!r)return;const e=r.xhr;if(e.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),4!==e.readyState||!(P in this.pendingRequests))return;if(delete this.pendingRequests[P],0===e.status&&this.isHttp)return void(null==(f=r.onError)||f.call(r,e.status));const s=e.status||200;if((200!==s||206!==r.expectedStatus)&&s!==r.expectedStatus)return void(null==(t=r.onError)||t.call(r,e.status));const u=function J(S){const P=S.response;return"string"!=typeof P?P:(0,b.stringToBytes)(P).buffer}(e);if(206===s){const p=e.getResponseHeader("Content-Range"),g=/bytes (\d+)-(\d+)\/(\d+)/.exec(p);r.onDone({begin:parseInt(g[1],10),chunk:u})}else u?r.onDone({begin:0,chunk:u}):null==(i=r.onError)||i.call(r,e.status)}getRequestXhr(P){return this.pendingRequests[P].xhr}isPendingRequest(P){return P in this.pendingRequests}abortRequest(P){const o=this.pendingRequests[P].xhr;delete this.pendingRequests[P],o.abort()}}M.PDFNetworkStream=class c{constructor(P){this._source=P,this._manager=new O(P.url,{httpHeaders:P.httpHeaders,withCredentials:P.withCredentials}),this._rangeChunkSize=P.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(P){const o=this._rangeRequestReaders.indexOf(P);o>=0&&this._rangeRequestReaders.splice(o,1)}getFullReader(){return(0,b.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new w(this._manager,this._source),this._fullRequestReader}getRangeReader(P,o){const r=new _(this._manager,P,o);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(P){var o;null==(o=this._fullRequestReader)||o.cancel(P);for(const r of this._rangeRequestReaders.slice(0))r.cancel(P)}};class w{constructor(P,o){this._manager=P;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=o.url,this._fullRequestId=P.requestFull(r),this._headersReceivedCapability=(0,b.createPromiseCapability)(),this._disableRange=o.disableRange||!1,this._contentLength=o.length,this._rangeChunkSize=o.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const P=this._fullRequestId,o=this._manager.getRequestXhr(P),r=m=>o.getResponseHeader(m),{allowRangeRequests:e,suggestedLength:s}=(0,he.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});e&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=(0,he.extractFilenameFromHeader)(r),this._isRangeSupported&&this._manager.abortRequest(P),this._headersReceivedCapability.resolve()}_onDone(P){if(P&&(this._requests.length>0?this._requests.shift().resolve({value:P.chunk,done:!1}):this._cachedChunks.push(P.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(P){this._storedError=(0,he.createResponseStatusError)(P,this._url),this._headersReceivedCapability.reject(this._storedError);for(const o of this._requests)o.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(P){var o;null==(o=this.onProgress)||o.call(this,{loaded:P.loaded,total:P.lengthComputable?P.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var P=this;return _asyncToGenerator(function*(){if(P._storedError)throw P._storedError;if(P._cachedChunks.length>0)return{value:P._cachedChunks.shift(),done:!1};if(P._done)return{value:void 0,done:!0};const o=(0,b.createPromiseCapability)();return P._requests.push(o),o.promise})()}cancel(P){this._done=!0,this._headersReceivedCapability.reject(P);for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class _{constructor(P,o,r){this._manager=P;const e={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=P.url,this._requestId=P.requestRange(o,r,e),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var P;null==(P=this.onClosed)||P.call(this,this)}_onDone(P){const o=P.chunk;this._requests.length>0?this._requests.shift().resolve({value:o,done:!1}):this._queuedChunk=o,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(P){this._storedError=(0,he.createResponseStatusError)(P,this._url);for(const o of this._requests)o.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(P){var o;this.isStreamingSupported||null==(o=this.onProgress)||o.call(this,{loaded:P.loaded})}get isStreamingSupported(){return!1}read(){var P=this;return _asyncToGenerator(function*(){if(P._storedError)throw P._storedError;if(null!==P._queuedChunk){const r=P._queuedChunk;return P._queuedChunk=null,{value:r,done:!1}}if(P._done)return{value:void 0,done:!0};const o=(0,b.createPromiseCapability)();return P._requests.push(o),o.promise})()}cancel(P){this._done=!0;for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(de,M,re)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFFetchStream=void 0;var b=re(1),he=re(26);function ee(w,_,S){return{method:"GET",headers:w,signal:null==S?void 0:S.signal,mode:"cors",credentials:_?"include":"same-origin",redirect:"follow"}}function Q(w){const _=new Headers;for(const S in w){const P=w[S];void 0!==P&&_.append(S,P)}return _}M.PDFFetchStream=class J{constructor(_){this.source=_,this.isHttp=/^https?:/i.test(_.url),this.httpHeaders=this.isHttp&&_.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var _,S;return null!=(S=null==(_=this._fullRequestReader)?void 0:_._loaded)?S:0}getFullReader(){return(0,b.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new O(this),this._fullRequestReader}getRangeReader(_,S){if(S<=this._progressiveDataLength)return null;const P=new c(this,_,S);return this._rangeRequestReaders.push(P),P}cancelAllRequests(_){this._fullRequestReader&&this._fullRequestReader.cancel(_);for(const S of this._rangeRequestReaders.slice(0))S.cancel(_)}};class O{constructor(_){this._stream=_,this._reader=null,this._loaded=0,this._filename=null;const S=_.source;this._withCredentials=S.withCredentials||!1,this._contentLength=S.length,this._headersCapability=(0,b.createPromiseCapability)(),this._disableRange=S.disableRange||!1,this._rangeChunkSize=S.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!S.disableStream,this._isRangeSupported=!S.disableRange,this._headers=Q(this._stream.httpHeaders);const P=S.url;fetch(P,ee(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!(0,he.validateResponseStatus)(o.status))throw(0,he.createResponseStatusError)(o.status,P);this._reader=o.body.getReader(),this._headersCapability.resolve();const r=m=>o.headers.get(m),{allowRangeRequests:e,suggestedLength:s}=(0,he.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=e,this._contentLength=s||this._contentLength,this._filename=(0,he.extractFilenameFromHeader)(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new b.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var _=this;return _asyncToGenerator(function*(){yield _._headersCapability.promise;const{value:S,done:P}=yield _._reader.read();return P?{value:S,done:P}:(_._loaded+=S.byteLength,_.onProgress&&_.onProgress({loaded:_._loaded,total:_._contentLength}),{value:new Uint8Array(S).buffer,done:!1})})()}cancel(_){this._reader&&this._reader.cancel(_),this._abortController&&this._abortController.abort()}}class c{constructor(_,S,P){this._stream=_,this._reader=null,this._loaded=0;const o=_.source;this._withCredentials=o.withCredentials||!1,this._readCapability=(0,b.createPromiseCapability)(),this._isStreamingSupported=!o.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=Q(this._stream.httpHeaders),this._headers.append("Range",`bytes=${S}-${P-1}`);const r=o.url;fetch(r,ee(this._headers,this._withCredentials,this._abortController)).then(e=>{if(!(0,he.validateResponseStatus)(e.status))throw(0,he.createResponseStatusError)(e.status,r);this._readCapability.resolve(),this._reader=e.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var _=this;return _asyncToGenerator(function*(){yield _._readCapability.promise;const{value:S,done:P}=yield _._reader.read();return P?{value:S,done:P}:(_._loaded+=S.byteLength,_.onProgress&&_.onProgress({loaded:_._loaded}),{value:new Uint8Array(S).buffer,done:!1})})()}cancel(_){this._reader&&this._reader.cancel(_),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(de){var M=__webpack_module_cache__[de];if(void 0!==M)return M.exports;var re=__webpack_module_cache__[de]={exports:{}};return __webpack_modules__[de](re,re.exports,__w_pdfjs_require__),re.exports}var __webpack_exports__={};return(()=>{var de=__webpack_exports__;Object.defineProperty(de,"__esModule",{value:!0}),Object.defineProperty(de,"AnnotationLayer",{enumerable:!0,get:function(){return he.AnnotationLayer}}),Object.defineProperty(de,"AnnotationMode",{enumerable:!0,get:function(){return M.AnnotationMode}}),Object.defineProperty(de,"CMapCompressionType",{enumerable:!0,get:function(){return M.CMapCompressionType}}),Object.defineProperty(de,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ee.GlobalWorkerOptions}}),Object.defineProperty(de,"InvalidPDFException",{enumerable:!0,get:function(){return M.InvalidPDFException}}),Object.defineProperty(de,"LoopbackPort",{enumerable:!0,get:function(){return re.LoopbackPort}}),Object.defineProperty(de,"MissingPDFException",{enumerable:!0,get:function(){return M.MissingPDFException}}),Object.defineProperty(de,"OPS",{enumerable:!0,get:function(){return M.OPS}}),Object.defineProperty(de,"PDFDataRangeTransport",{enumerable:!0,get:function(){return re.PDFDataRangeTransport}}),Object.defineProperty(de,"PDFDateString",{enumerable:!0,get:function(){return b.PDFDateString}}),Object.defineProperty(de,"PDFWorker",{enumerable:!0,get:function(){return re.PDFWorker}}),Object.defineProperty(de,"PasswordResponses",{enumerable:!0,get:function(){return M.PasswordResponses}}),Object.defineProperty(de,"PermissionFlag",{enumerable:!0,get:function(){return M.PermissionFlag}}),Object.defineProperty(de,"PixelsPerInch",{enumerable:!0,get:function(){return b.PixelsPerInch}}),Object.defineProperty(de,"RenderingCancelledException",{enumerable:!0,get:function(){return b.RenderingCancelledException}}),Object.defineProperty(de,"SVGGraphics",{enumerable:!0,get:function(){return O.SVGGraphics}}),Object.defineProperty(de,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return M.UNSUPPORTED_FEATURES}}),Object.defineProperty(de,"UnexpectedResponseException",{enumerable:!0,get:function(){return M.UnexpectedResponseException}}),Object.defineProperty(de,"Util",{enumerable:!0,get:function(){return M.Util}}),Object.defineProperty(de,"VerbosityLevel",{enumerable:!0,get:function(){return M.VerbosityLevel}}),Object.defineProperty(de,"XfaLayer",{enumerable:!0,get:function(){return c.XfaLayer}}),Object.defineProperty(de,"build",{enumerable:!0,get:function(){return re.build}}),Object.defineProperty(de,"createPromiseCapability",{enumerable:!0,get:function(){return M.createPromiseCapability}}),Object.defineProperty(de,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return M.createValidAbsoluteUrl}}),Object.defineProperty(de,"getDocument",{enumerable:!0,get:function(){return re.getDocument}}),Object.defineProperty(de,"getFilenameFromUrl",{enumerable:!0,get:function(){return b.getFilenameFromUrl}}),Object.defineProperty(de,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return b.getPdfFilenameFromUrl}}),Object.defineProperty(de,"getXfaPageViewport",{enumerable:!0,get:function(){return b.getXfaPageViewport}}),Object.defineProperty(de,"isPdfFile",{enumerable:!0,get:function(){return b.isPdfFile}}),Object.defineProperty(de,"loadScript",{enumerable:!0,get:function(){return b.loadScript}}),Object.defineProperty(de,"renderTextLayer",{enumerable:!0,get:function(){return J.renderTextLayer}}),Object.defineProperty(de,"shadow",{enumerable:!0,get:function(){return M.shadow}}),Object.defineProperty(de,"version",{enumerable:!0,get:function(){return re.version}});var M=__w_pdfjs_require__(1),re=__w_pdfjs_require__(4),b=__w_pdfjs_require__(5),he=__w_pdfjs_require__(20),ee=__w_pdfjs_require__(13),Q=__w_pdfjs_require__(3),J=__w_pdfjs_require__(23),O=__w_pdfjs_require__(24),c=__w_pdfjs_require__(22);if(Q.isNodeJS){const{PDFNodeStream:S}=__w_pdfjs_require__(25);(0,re.setPDFNetworkStreamFactory)(P=>new S(P))}else{const{PDFNetworkStream:S}=__w_pdfjs_require__(28),{PDFFetchStream:P}=__w_pdfjs_require__(29);(0,re.setPDFNetworkStreamFactory)(o=>(0,b.isValidFetchUrl)(o.url)?new P(o):new S(o))}})(),__webpack_exports__})(),module.exports=re()},2813:function(de,M,re){var Q,b=re(8926).default;Q=()=>(()=>{"use strict";var he=[,(O,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DefaultXfaLayerFactory=c.DefaultTextLayerFactory=c.DefaultStructTreeLayerFactory=c.DefaultAnnotationLayerFactory=void 0;var _=w(2),S=w(4),P=w(5),o=w(7),r=w(8),e=w(9);c.DefaultAnnotationLayerFactory=class s{createAnnotationLayerBuilder(i,p,g=null,y="",E=!0,L=S.NullL10n,F=!1,N=null,U=null,H=null,X=null){return new _.AnnotationLayerBuilder({pageDiv:i,pdfPage:p,imageResourcesPath:y,renderForms:E,linkService:new P.SimpleLinkService,l10n:L,annotationStorage:g,enableScripting:F,hasJSActionsPromise:N,fieldObjectsPromise:H,mouseState:U,annotationCanvasMap:X})}},c.DefaultStructTreeLayerFactory=class m{createStructTreeLayerBuilder(i){return new o.StructTreeLayerBuilder({pdfPage:i})}},c.DefaultTextLayerFactory=class u{createTextLayerBuilder(i,p,g,y=!1,E,L){return new r.TextLayerBuilder({textLayerDiv:i,pageIndex:p,viewport:g,enhanceTextSelection:y,eventBus:E,highlighter:L})}},c.DefaultXfaLayerFactory=class f{createXfaLayerBuilder(i,p,g=null,y=null){return new e.XfaLayerBuilder({pageDiv:i,pdfPage:p,annotationStorage:g,linkService:new P.SimpleLinkService,xfaHtml:y})}}},(O,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.AnnotationLayerBuilder=void 0;var _=w(3),S=w(4);c.AnnotationLayerBuilder=class P{constructor({pageDiv:r,pdfPage:e,linkService:s,downloadManager:m,annotationStorage:u=null,imageResourcesPath:f="",renderForms:t=!0,l10n:i=S.NullL10n,enableScripting:p=!1,hasJSActionsPromise:g=null,fieldObjectsPromise:y=null,mouseState:E=null,annotationCanvasMap:L=null}){this.pageDiv=r,this.pdfPage=e,this.linkService=s,this.downloadManager=m,this.imageResourcesPath=f,this.renderForms=t,this.l10n=i,this.annotationStorage=u,this.enableScripting=p,this._hasJSActionsPromise=g,this._fieldObjectsPromise=y,this._mouseState=E,this._annotationCanvasMap=L,this.div=null,this._cancelled=!1}render(r,e="display"){var s=this;return b(function*(){const[m,u=!1,f=null]=yield Promise.all([s.pdfPage.getAnnotations({intent:e}),s._hasJSActionsPromise,s._fieldObjectsPromise]);if(s._cancelled||0===m.length)return;const t={viewport:r.clone({dontFlip:!0}),div:s.div,annotations:m,page:s.pdfPage,imageResourcesPath:s.imageResourcesPath,renderForms:s.renderForms,linkService:s.linkService,downloadManager:s.downloadManager,annotationStorage:s.annotationStorage,enableScripting:s.enableScripting,hasJSActions:u,fieldObjects:f,mouseState:s._mouseState,annotationCanvasMap:s._annotationCanvasMap};s.div?_.AnnotationLayer.update(t):(s.div=document.createElement("div"),s.div.className="annotationLayer",s.pageDiv.appendChild(s.div),t.div=s.div,_.AnnotationLayer.render(t),s.l10n.translate(s.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},O=>{let c;c="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:re(6036),O.exports=c},(O,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.NullL10n=void 0,c.fixupLangCode=function P(e){return S[null==e?void 0:e.toLowerCase()]||e},c.getL10nFallback=_;const w={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function _(e,s){switch(e){case"find_match_count":e=`find_match_count[${1===s.total?"one":"other"}]`;break;case"find_match_count_limit":e=`find_match_count_limit[${1===s.limit?"one":"other"}]`}return w[e]||""}const S={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};c.NullL10n={getLanguage:()=>b(function*(){return"en-us"})(),getDirection:()=>b(function*(){return"ltr"})(),get:(e,s=null,m=_(e,s))=>b(function*(){return function o(e,s){return s?e.replace(/\{\{\s*(\w+)\s*\}\}/g,(m,u)=>u in s?s[u]:"{{"+u+"}}"):e}(m,s)})(),translate:e=>b(function*(){})()}},(O,c,w)=>{var s,m,rt,f,bt;Object.defineProperty(c,"__esModule",{value:!0}),c.SimpleLinkService=c.PDFLinkService=c.LinkTarget=void 0;var _=w(6);const P={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function o(p,{url:g,target:y,rel:E,enabled:L=!0}={}){if(!g||"string"!=typeof g)throw new Error('A valid "url" parameter must provided.');const F=(0,_.removeNullCharacters)(g);L?p.href=p.title=F:(p.href="",p.title=`Disabled: ${F}`,p.onclick=()=>!1);let N="";switch(y){case P.NONE:break;case P.SELF:N="_self";break;case P.BLANK:N="_blank";break;case P.PARENT:N="_parent";break;case P.TOP:N="_top"}p.target=N,p.rel="string"==typeof E?E:"noopener noreferrer nofollow"}c.LinkTarget=P;const i=class{constructor({eventBus:g,externalLinkTarget:y=null,externalLinkRel:E=null,ignoreDestinationZoom:L=!1}={}){ve(this,m),ve(this,s,new Map),this.eventBus=g,this.externalLinkTarget=y,this.externalLinkRel=E,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=L,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(g,y=null){this.baseUrl=y,this.pdfDocument=g,Ae(this,s).clear()}setViewer(g){this.pdfViewer=g}setHistory(g){this.pdfHistory=g}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(g){this.pdfViewer.currentPageNumber=g}get rotation(){return this.pdfViewer.pagesRotation}set rotation(g){this.pdfViewer.pagesRotation=g}goToDestination(g){var y=this;return b(function*(){var F;if(!y.pdfDocument)return;let E,L;"string"==typeof g?(E=g,L=yield y.pdfDocument.getDestination(g)):(E=null,L=yield g),Array.isArray(L)?ye(F=y,m,rt).call(F,g,E,L):console.error(`PDFLinkService.goToDestination: "${L}" is not a valid destination array, for dest="${g}".`)})()}goToPage(g){if(!this.pdfDocument)return;const y="string"==typeof g&&this.pdfViewer.pageLabelToPageNumber(g)||0|g;Number.isInteger(y)&&y>0&&y<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(y)),this.pdfViewer.scrollPageIntoView({pageNumber:y})):console.error(`PDFLinkService.goToPage: "${g}" is not a valid page.`)}addLinkAttributes(g,y,E=!1){o(g,{url:y,target:E?P.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(g){if("string"==typeof g){if(g.length>0)return this.getAnchorUrl("#"+escape(g))}else if(Array.isArray(g)){const y=JSON.stringify(g);if(y.length>0)return this.getAnchorUrl("#"+escape(y))}return this.getAnchorUrl("")}getAnchorUrl(g){return(this.baseUrl||"")+g}setHash(g){var L;if(!this.pdfDocument)return;let y,E;if(g.includes("=")){const F=(0,_.parseQueryString)(g);if(F.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:F.get("search").replace(/"/g,""),phraseSearch:"true"===F.get("phrase")}),F.has("page")&&(y=0|F.get("page")||1),F.has("zoom")){const N=F.get("zoom").split(","),U=N[0],H=parseFloat(U);U.includes("Fit")?"Fit"===U||"FitB"===U?E=[null,{name:U}]:"FitH"===U||"FitBH"===U||"FitV"===U||"FitBV"===U?E=[null,{name:U},N.length>1?0|N[1]:null]:"FitR"===U?5!==N.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):E=[null,{name:U},0|N[1],0|N[2],0|N[3],0|N[4]]:console.error(`PDFLinkService.setHash: "${U}" is not a valid zoom value.`):E=[null,{name:"XYZ"},N.length>1?0|N[1]:null,N.length>2?0|N[2]:null,H?H/100:U]}E?this.pdfViewer.scrollPageIntoView({pageNumber:y||this.page,destArray:E,allowNegativeOffset:!0}):y&&(this.page=y),F.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:F.get("pagemode")}),F.has("nameddest")&&this.goToDestination(F.get("nameddest"))}else{E=unescape(g);try{E=JSON.parse(E),Array.isArray(E)||(E=E.toString())}catch(F){}if("string"==typeof E||ye(L=i,f,bt).call(L,E))return void this.goToDestination(E);console.error(`PDFLinkService.setHash: "${unescape(g)}" is not a valid destination.`)}}executeNamedAction(g){var y,E;switch(g){case"GoBack":null==(y=this.pdfHistory)||y.back();break;case"GoForward":null==(E=this.pdfHistory)||E.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:g})}cachePageRef(g,y){if(!y)return;const E=0===y.gen?`${y.num}R`:`${y.num}R${y.gen}`;Ae(this,s).set(E,g)}_cachedPageNumber(g){if(!g)return null;const y=0===g.gen?`${g.num}R`:`${g.num}R${g.gen}`;return Ae(this,s).get(y)||null}isPageVisible(g){return this.pdfViewer.isPageVisible(g)}isPageCached(g){return this.pdfViewer.isPageCached(g)}};let r=i;s=new WeakMap,m=new WeakSet,rt=function(g,y=null,E){const L=E[0];let F;if("object"==typeof L&&null!==L){if(F=this._cachedPageNumber(L),!F)return void this.pdfDocument.getPageIndex(L).then(N=>{this.cachePageRef(N+1,L),ye(this,m,rt).call(this,g,y,E)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${L}" is not a valid page reference, for dest="${g}".`)})}else{if(!Number.isInteger(L))return void console.error(`PDFLinkService.#goToDestinationHelper: "${L}" is not a valid destination reference, for dest="${g}".`);F=L+1}!F||F<1||F>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${F}" is not a valid page number, for dest="${g}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:y,explicitDest:E,pageNumber:F})),this.pdfViewer.scrollPageIntoView({pageNumber:F,destArray:E,ignoreDestinationZoom:this._ignoreDestinationZoom}))},f=new WeakSet,bt=function(g){if(!Array.isArray(g))return!1;const y=g.length;if(y<2)return!1;const E=g[0];if(!("object"==typeof E&&Number.isInteger(E.num)&&Number.isInteger(E.gen)||Number.isInteger(E)&&E>=0))return!1;const L=g[1];if("object"!=typeof L||"string"!=typeof L.name)return!1;let F=!0;switch(L.name){case"XYZ":if(5!==y)return!1;break;case"Fit":case"FitB":return 2===y;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==y)return!1;break;case"FitR":if(6!==y)return!1;F=!1;break;default:return!1}for(let N=2;N<y;N++){const U=g[N];if(!("number"==typeof U||F&&null===U))return!1}return!0},ve(r,f),c.PDFLinkService=r,c.SimpleLinkService=class e{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(g){}get rotation(){return 0}set rotation(g){}goToDestination(g){return b(function*(){})()}goToPage(g){}addLinkAttributes(g,y,E=!1){o(g,{url:y,enabled:this.externalLinkEnabled})}getDestinationHash(g){return"#"}getAnchorUrl(g){return"#"}setHash(g){}executeNamedAction(g){}cachePageRef(g,y){}isPageVisible(g){return!0}isPageCached(g){return!0}}},(O,c)=>{var oe,At;Object.defineProperty(c,"__esModule",{value:!0}),c.animationStarted=c.VERTICAL_PADDING=c.UNKNOWN_SCALE=c.TextLayerMode=c.SpreadMode=c.SidebarView=c.ScrollMode=c.SCROLLBAR_PADDING=c.RenderingStates=c.RendererType=c.ProgressBar=c.PresentationModeState=c.OutputScale=c.MIN_SCALE=c.MAX_SCALE=c.MAX_AUTO_SCALE=c.DEFAULT_SCALE_VALUE=c.DEFAULT_SCALE_DELTA=c.DEFAULT_SCALE=c.AutoPrintRegExp=void 0,c.apiPageLayoutToViewerModes=function q(K){let ie=g.VERTICAL,ne=y.NONE;switch(K){case"SinglePage":ie=g.PAGE;break;case"OneColumn":break;case"TwoPageLeft":ie=g.PAGE;case"TwoColumnLeft":ne=y.ODD;break;case"TwoPageRight":ie=g.PAGE;case"TwoColumnRight":ne=y.EVEN}return{scrollMode:ie,spreadMode:ne}},c.apiPageModeToSidebarView=function Y(K){switch(K){case"UseNone":return t.NONE;case"UseThumbs":return t.THUMBS;case"UseOutlines":return t.OUTLINE;case"UseAttachments":return t.ATTACHMENTS;case"UseOC":return t.LAYERS}return t.NONE},c.approximateFraction=function $(K){if(Math.floor(K)===K)return[K,1];const ie=1/K;if(ie>8)return[1,8];if(Math.floor(ie)===ie)return[1,ie];const C=K>1?ie:K;let fe,D=0,G=1,ue=1,le=1;for(;;){const me=D+ue,be=G+le;if(be>8)break;C<=me/be?(ue=me,le=be):(D=me,G=be)}return fe=C-D/G<ue/le-C?C===K?[D,G]:[G,D]:C===K?[ue,le]:[le,ue],fe},c.backtrackBeforeAllVisibleElements=T,c.binarySearchFirstItem=z,c.getActiveOrFocusedElement=function W(){let K=document,ie=K.activeElement||K.querySelector(":focus");for(;null==ie?void 0:ie.shadowRoot;)K=ie.shadowRoot,ie=K.activeElement||K.querySelector(":focus");return ie},c.getPageSizeInches=function ae({view:K,userUnit:ie,rotate:ne}){const[C,D,G,ue]=K,le=ne%180!=0,fe=(G-C)/72*ie,me=(ue-D)/72*ie;return{width:le?me:fe,height:le?fe:me}},c.getVisibleElements=function a({scrollEl:K,views:ie,sortByVisibility:ne=!1,horizontal:C=!1,rtl:D=!1}){const G=K.scrollTop,ue=G+K.clientHeight,le=K.scrollLeft,fe=le+K.clientWidth,Se=[],Ce=new Set,Ee=ie.length;let Z=z(ie,C?function be(ce){const pe=ce.div,ge=pe.offsetLeft+pe.clientLeft;return D?ge<fe:ge+pe.clientWidth>le}:function me(ce){const pe=ce.div;return pe.offsetTop+pe.clientTop+pe.clientHeight>G});Z>0&&Z<Ee&&!C&&(Z=T(Z,ie,G));let k=C?fe:-1;for(let ce=Z;ce<Ee;ce++){const pe=ie[ce],ge=pe.div,Pe=ge.offsetLeft+ge.clientLeft,we=ge.offsetTop+ge.clientTop,Me=ge.clientWidth,xe=ge.clientHeight,Re=Pe+Me,Le=we+xe;if(-1===k)Le>=ue&&(k=Le);else if((C?Pe:we)>k)break;if(Le<=G||we>=ue||Re<=le||Pe>=fe)continue;const Ie=Math.max(0,G-we)+Math.max(0,Le-ue),Be=(Me-(Math.max(0,le-Pe)+Math.max(0,Re-fe)))/Me;Se.push({id:pe.id,x:Pe,y:we,view:pe,percent:(xe-Ie)/xe*Be*100|0,widthPercent:100*Be|0}),Ce.add(pe.id)}const R=Se[0],se=Se[Se.length-1];return ne&&Se.sort(function(ce,pe){const ge=ce.percent-pe.percent;return Math.abs(ge)>.001?-ge:ce.id-pe.id}),{first:R,last:se,views:Se,ids:Ce}},c.isPortraitOrientation=function x(K){return K.width<=K.height},c.isValidRotation=function d(K){return Number.isInteger(K)&&K%90==0},c.isValidScrollMode=function v(K){return Number.isInteger(K)&&Object.values(g).includes(K)&&K!==g.UNKNOWN},c.isValidSpreadMode=function A(K){return Number.isInteger(K)&&Object.values(y).includes(K)&&K!==y.UNKNOWN},c.noContextMenuHandler=function h(K){K.preventDefault()},c.normalizeWheelEventDelta=function l(K){let ie=n(K);return 0===K.deltaMode?ie/=900:1===K.deltaMode&&(ie/=30),ie},c.normalizeWheelEventDirection=n,c.parseQueryString=function U(K){const ie=new Map;for(const[ne,C]of new URLSearchParams(K))ie.set(ne.toLowerCase(),C);return ie},c.removeNullCharacters=function I(K,ie=!1){return"string"!=typeof K?(console.error("The argument must be a string."),K):(ie&&(K=K.replace(X," ")),K.replace(H,""))},c.roundToDivide=function te(K,ie){const ne=K%ie;return 0===ne?K:Math.round(K-ne+ie)},c.scrollIntoView=function F(K,ie,ne=!1){let C=K.offsetParent;if(!C)return void console.error("offsetParent is not set -- cannot scroll");let D=K.offsetTop+K.clientTop,G=K.offsetLeft+K.clientLeft;for(;C.clientHeight===C.scrollHeight&&C.clientWidth===C.scrollWidth||ne&&(C.classList.contains("markedContent")||"hidden"===getComputedStyle(C).overflow);)if(D+=C.offsetTop,G+=C.offsetLeft,C=C.offsetParent,!C)return;ie&&(void 0!==ie.top&&(D+=ie.top),void 0!==ie.left&&(G+=ie.left,C.scrollLeft=G)),C.scrollTop=D},c.watchScroll=function N(K,ie){const ne=function(G){D||(D=window.requestAnimationFrame(function(){D=null;const le=K.scrollLeft,fe=C.lastX;le!==fe&&(C.right=le>fe),C.lastX=le;const me=K.scrollTop,be=C.lastY;me!==be&&(C.down=me>be),C.lastY=me,ie(C)}))},C={right:!0,down:!0,lastX:K.scrollLeft,lastY:K.scrollTop,_eventHandler:ne};let D=null;return K.addEventListener("scroll",ne,!0),C},c.DEFAULT_SCALE_VALUE="auto",c.DEFAULT_SCALE=1,c.DEFAULT_SCALE_DELTA=1.1,c.MIN_SCALE=.1,c.MAX_SCALE=10,c.UNKNOWN_SCALE=0,c.MAX_AUTO_SCALE=1.25,c.SCROLLBAR_PADDING=40,c.VERTICAL_PADDING=5,c.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},c.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const t={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};c.SidebarView=t,c.RendererType={CANVAS:"canvas",SVG:"svg"},c.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const g={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};c.ScrollMode=g;const y={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};c.SpreadMode=y,c.AutoPrintRegExp=/\bprint\s*\(/,c.OutputScale=class L{constructor(){const ie=window.devicePixelRatio||1;this.sx=ie,this.sy=ie}get scaled(){return 1!==this.sx||1!==this.sy}};const H=/\x00/g,X=/[\x01-\x1F]/g;function z(K,ie,ne=0){let C=ne,D=K.length-1;if(D<0||!ie(K[D]))return K.length;if(ie(K[C]))return C;for(;C<D;){const G=C+D>>1;ie(K[G])?D=G:C=G+1}return C}function T(K,ie,ne){if(K<2)return K;let C=ie[K].div,D=C.offsetTop+C.clientTop;D>=ne&&(C=ie[K-1].div,D=C.offsetTop+C.clientTop);for(let G=K-2;G>=0&&(C=ie[G].div,!(C.offsetTop+C.clientTop+C.clientHeight<=D));--G)K=G;return K}function n(K){let ie=Math.hypot(K.deltaX,K.deltaY);const ne=Math.atan2(K.deltaY,K.deltaX);return-.25*Math.PI<ne&&ne<.75*Math.PI&&(ie=-ie),ie}const B=new Promise(function(K){window.requestAnimationFrame(K)});c.animationStarted=B,oe=new WeakSet,At=function(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))},c.ProgressBar=class V{constructor(ie){if(ve(this,oe),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(ie+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(ie){this._indeterminate=isNaN(ie),this._percent=function j(K,ie,ne){return Math.min(Math.max(K,ie),ne)}(ie,0,100),ye(this,oe,At).call(this)}setWidth(ie){if(!ie)return;const C=ie.parentNode.offsetWidth-ie.offsetWidth;C>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${C}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(O,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.StructTreeLayerBuilder=void 0;const w={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},_=/^H(\d+)$/;c.StructTreeLayerBuilder=class S{constructor({pdfPage:o}){this.pdfPage=o}render(o){return this._walk(o)}_setAttributes(o,r){void 0!==o.alt&&r.setAttribute("aria-label",o.alt),void 0!==o.id&&r.setAttribute("aria-owns",o.id),void 0!==o.lang&&r.setAttribute("lang",o.lang)}_walk(o){if(!o)return null;const r=document.createElement("span");if("role"in o){const{role:e}=o,s=e.match(_);s?(r.setAttribute("role","heading"),r.setAttribute("aria-level",s[1])):w[e]&&r.setAttribute("role",w[e])}if(this._setAttributes(o,r),o.children)if(1===o.children.length&&"id"in o.children[0])this._setAttributes(o.children[0],r);else for(const e of o.children)r.appendChild(this._walk(e));return r}}},(O,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TextLayerBuilder=void 0;var _=w(3);c.TextLayerBuilder=class P{constructor({textLayerDiv:r,eventBus:e,pageIndex:s,viewport:m,highlighter:u=null,enhanceTextSelection:f=!1}){this.textLayerDiv=r,this.eventBus=e,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=s+1,this.viewport=m,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=u,this.enhanceTextSelection=f,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const r=document.createElement("div");r.className="endOfContent",this.textLayerDiv.appendChild(r)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(r=0){var s;if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,null==(s=this.highlighter)||s.setTextMapping(this.textDivs,this.textContentItemsStr);const e=document.createDocumentFragment();this.textLayerRenderTask=(0,_.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:e,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:r,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{var m;this.textLayerDiv.appendChild(e),this._finishRendering(),null==(m=this.highlighter)||m.enable()},function(m){})}cancel(){var r;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),null==(r=this.highlighter)||r.disable()}setTextContentStream(r){this.cancel(),this.textContentStream=r}setTextContent(r){this.cancel(),this.textContent=r}_bindMouse(){const r=this.textLayerDiv;let e=null;r.addEventListener("mousedown",s=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(e&&(clearTimeout(e),e=null));const m=r.querySelector(".endOfContent");if(!m)return;let u=s.target!==r;if(u=u&&"none"!==window.getComputedStyle(m).getPropertyValue("-moz-user-select"),u){const f=r.getBoundingClientRect(),t=Math.max(0,(s.pageY-f.top)/f.height);m.style.top=(100*t).toFixed(2)+"%"}m.classList.add("active")}),r.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(e=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),e=null},300));const s=r.querySelector(".endOfContent");!s||(s.style.top="",s.classList.remove("active"))})}}},(O,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.XfaLayerBuilder=void 0;var _=w(3);c.XfaLayerBuilder=class S{constructor({pageDiv:o,pdfPage:r,annotationStorage:e=null,linkService:s,xfaHtml:m=null}){this.pageDiv=o,this.pdfPage=r,this.annotationStorage=e,this.linkService=s,this.xfaHtml=m,this.div=null,this._cancelled=!1}render(o,r="display"){if("print"===r){const e={viewport:o.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:r},s=document.createElement("div");this.pageDiv.appendChild(s),e.div=s;const m=_.XfaLayer.render(e);return Promise.resolve(m)}return this.pdfPage.getXfa().then(e=>{if(this._cancelled||!e)return{textDivs:[]};const s={viewport:o.clone({dontFlip:!0}),div:this.div,xfaHtml:e,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:r};return this.div?_.XfaLayer.update(s):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),s.div=this.div,_.XfaLayer.render(s))}).catch(e=>{console.error(e)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(O,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFViewer=c.PDFSinglePageViewer=void 0;var _=w(6),S=w(11);c.PDFViewer=class P extends S.BaseViewer{},c.PDFSinglePageViewer=class o extends S.BaseViewer{_resetView(){super._resetView(),this._scrollMode=_.ScrollMode.PAGE,this._spreadMode=_.SpreadMode.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}}},(O,c,w)=>{var L,F,N,st,H,X,I,z,$,te,ae,T,yt,h,vt,l,He,v,Ke,x,St,j,at,W,Pt,Y,Ct,_e,wt;Object.defineProperty(c,"__esModule",{value:!0}),c.PagesCountLimit=c.PDFPageViewBuffer=c.BaseViewer=void 0;var _=w(3),S=w(6),P=w(2),o=w(4),r=w(12),e=w(14),s=w(5),m=w(7),u=w(15),f=w(8),t=w(9);const p="enablePermissions",g={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};c.PagesCountLimit=g;class y{constructor(C){ve(this,N),ve(this,L,new Set),ve(this,F,0),Te(this,F,C)}push(C){const D=Ae(this,L);D.has(C)&&D.delete(C),D.add(C),D.size>Ae(this,F)&&ye(this,N,st).call(this)}resize(C,D=null){Te(this,F,C);const G=Ae(this,L);if(D){const ue=G.size;let le=1;for(const fe of G)if(D.has(fe.id)&&(G.delete(fe),G.add(fe)),++le>ue)break}for(;G.size>Ae(this,F);)ye(this,N,st).call(this)}has(C){return Ae(this,L).has(C)}[Symbol.iterator](){return Ae(this,L).keys()}}L=new WeakMap,F=new WeakMap,N=new WeakSet,st=function(){const C=Ae(this,L).keys().next().value;null==C||C.destroy(),Ae(this,L).delete(C)},c.PDFPageViewBuffer=y;const ie=class{constructor(C){var G,ue,le,fe;if(ve(this,T),ve(this,h),ve(this,l),ve(this,v),ve(this,x),ve(this,j),ve(this,W),ve(this,Y),ve(this,_e),ve(this,H,null),ve(this,X,_.AnnotationMode.ENABLE_FORMS),ve(this,I,null),ve(this,z,!1),ve(this,$,0),ve(this,te,null),ve(this,ae,null),this.constructor===ie)throw new Error("Cannot initialize BaseViewer.");const D="2.14.305";if(_.version!==D)throw new Error(`The API version "${_.version}" does not match the Viewer version "${D}".`);if(this.container=C.container,this.viewer=C.viewer||C.container.firstElementChild,"DIV"!==(null==(G=this.container)?void 0:G.tagName.toUpperCase())||"DIV"!==(null==(ue=this.viewer)?void 0:ue.tagName.toUpperCase()))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=C.eventBus,this.linkService=C.linkService||new s.SimpleLinkService,this.downloadManager=C.downloadManager||null,this.findController=C.findController||null,this._scriptingManager=C.scriptingManager||null,this.removePageBorders=C.removePageBorders||!1,this.textLayerMode=null!=(le=C.textLayerMode)?le:S.TextLayerMode.ENABLE,Te(this,X,null!=(fe=C.annotationMode)?fe:_.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=C.imageResourcesPath||"",this.enablePrintAutoRotate=C.enablePrintAutoRotate||!1,this.renderer=C.renderer||S.RendererType.CANVAS,this.useOnlyCssZoom=C.useOnlyCssZoom||!1,this.maxCanvasPixels=C.maxCanvasPixels,this.l10n=C.l10n||o.NullL10n,Te(this,z,C.enablePermissions||!1),this.pageColors=C.pageColors||null,C.pageColors&&(!CSS.supports("color",C.pageColors.background)||!CSS.supports("color",C.pageColors.foreground))&&((C.pageColors.background||C.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!C.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new e.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=C.renderingQueue,this._doc=document.documentElement,this.scroll=(0,S.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=S.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(C){return this._pages[C]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(C){return null==C?void 0:C.pdfPage})}get renderForms(){return Ae(this,X)===_.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(C){if(!Number.isInteger(C))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(C,!0)||console.error(`currentPageNumber: "${C}" is not a valid page.`)}_setCurrentPageNumber(C,D=!1){var ue,le;if(this._currentPageNumber===C)return D&&ye(this,j,at).call(this),!0;if(!(0<C&&C<=this.pagesCount))return!1;const G=this._currentPageNumber;return this._currentPageNumber=C,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:C,pageLabel:null!=(le=null==(ue=this._pageLabels)?void 0:ue[C-1])?le:null,previous:G}),D&&ye(this,j,at).call(this),!0}get currentPageLabel(){var C,D;return null!=(D=null==(C=this._pageLabels)?void 0:C[this._currentPageNumber-1])?D:null}set currentPageLabel(C){if(!this.pdfDocument)return;let D=0|C;if(this._pageLabels){const G=this._pageLabels.indexOf(C);G>=0&&(D=G+1)}this._setCurrentPageNumber(D,!0)||console.error(`currentPageLabel: "${C}" is not a valid page.`)}get currentScale(){return this._currentScale!==S.UNKNOWN_SCALE?this._currentScale:S.DEFAULT_SCALE}set currentScale(C){if(isNaN(C))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(C,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(C){!this.pdfDocument||this._setScale(C,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(C){if(!(0,S.isValidRotation)(C))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((C%=360)<0&&(C+=360),this._pagesRotation===C))return;this._pagesRotation=C;const D=this._currentPageNumber,G={rotation:C};for(const ue of this._pages)ue.update(G);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:C,pageNumber:D}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(C){var D=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=C,!C)return;const G=C.isPureXfa,ue=C.numPages,le=C.getPage(1),fe=C.getOptionalContentConfig(),me=Ae(this,z)?C.getPermissions():Promise.resolve();if(ue>g.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const be=this._scrollMode=S.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:be})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:ue})},()=>{}),this._onBeforeDraw=be=>{const Se=this._pages[be.pageNumber-1];!Se||Ae(this,H).push(Se)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=be=>{be.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:be.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,Ae(this,ae)&&(document.removeEventListener("visibilitychange",Ae(this,ae)),Te(this,ae,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([le,me]).then(([be,Se])=>{if(C!==this.pdfDocument)return;this._firstPageCapability.resolve(be),this._optionalContentConfigPromise=fe,ye(this,T,yt).call(this,Se);const Ce=this._scrollMode===S.ScrollMode.PAGE?null:this.viewer,Ee=this.currentScale,Z=be.getViewport({scale:Ee*_.PixelsPerInch.PDF_TO_CSS_UNITS}),k=this.textLayerMode===S.TextLayerMode.DISABLE||G?null:this,R=Ae(this,X)!==_.AnnotationMode.DISABLE?this:null,se=G?this:null;for(let pe=1;pe<=ue;++pe){const ge=new r.PDFPageView({container:Ce,eventBus:this.eventBus,id:pe,scale:Ee,defaultViewport:Z.clone(),optionalContentConfigPromise:fe,renderingQueue:this.renderingQueue,textLayerFactory:k,textLayerMode:this.textLayerMode,annotationLayerFactory:R,annotationMode:Ae(this,X),xfaLayerFactory:se,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(ge)}const ce=this._pages[0];ce&&(ce.setPdfPage(be),this.linkService.cachePageRef(1,be.ref)),this._scrollMode===S.ScrollMode.PAGE?ye(this,l,He).call(this):this._spreadMode!==S.SpreadMode.NONE&&this._updateSpreadMode(),ye(this,h,vt).call(this).then(b(function*(){if(D.findController&&D.findController.setDocument(C),D._scriptingManager&&D._scriptingManager.setDocument(C),C.loadingParams.disableAutoFetch||ue>g.FORCE_LAZY_PAGE_INIT)return void D._pagesCapability.resolve();let pe=ue-1;if(pe<=0)D._pagesCapability.resolve();else for(let ge=2;ge<=ue;++ge){const Pe=C.getPage(ge).then(we=>{const Me=D._pages[ge-1];Me.pdfPage||Me.setPdfPage(we),D.linkService.cachePageRef(ge,we.ref),0==--pe&&D._pagesCapability.resolve()},we=>{console.error(`Unable to get page ${ge} to initialize viewer`,we),0==--pe&&D._pagesCapability.resolve()});ge%g.PAUSE_EAGER_PAGE_INIT==0&&(yield Pe)}})),this.eventBus.dispatch("pagesinit",{source:this}),C.getMetadata().then(({info:pe})=>{C===this.pdfDocument&&pe.Language&&(this.viewer.lang=pe.Language)}),this.defaultRenderingQueue&&this.update()}).catch(be=>{console.error("Unable to initialize viewer",be),this._pagesCapability.reject(be)})}setPageLabels(C){var D,G;if(this.pdfDocument){C?Array.isArray(C)&&this.pdfDocument.numPages===C.length?this._pageLabels=C:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let ue=0,le=this._pages.length;ue<le;ue++)this._pages[ue].setPageLabel(null!=(G=null==(D=this._pageLabels)?void 0:D[ue])?G:null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=S.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,Te(this,H,new y(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,_.createPromiseCapability)(),this._onePageRenderedCapability=(0,_.createPromiseCapability)(),this._pagesCapability=(0,_.createPromiseCapability)(),this._scrollMode=S.ScrollMode.VERTICAL,this._previousScrollMode=S.ScrollMode.UNKNOWN,this._spreadMode=S.SpreadMode.NONE,Te(this,te,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),Ae(this,ae)&&(document.removeEventListener("visibilitychange",Ae(this,ae)),Te(this,ae,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(p),null!==Ae(this,I)&&(Te(this,X,Ae(this,I)),Te(this,I,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(C,D,G=!1,ue=!1){if(this._currentScaleValue=D.toString(),ye(this,x,St).call(this,C))return void(ue&&this.eventBus.dispatch("scalechanging",{source:this,scale:C,presetValue:D}));this._doc.style.setProperty("--zoom-factor",C);const le={scale:C};for(const fe of this._pages)fe.update(le);if(this._currentScale=C,!G){let me,fe=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(fe=this._location.pageNumber,me=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:fe,destArray:me,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:C,presetValue:ue?D:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==S.SpreadMode.NONE&&this._scrollMode!==S.ScrollMode.HORIZONTAL?2:1}_setScale(C,D=!1){let G=parseFloat(C);if(G>0)this._setScaleUpdatePages(G,C,D,!1);else{const ue=this._pages[this._currentPageNumber-1];if(!ue)return;let le=S.SCROLLBAR_PADDING,fe=S.VERTICAL_PADDING;this.isInPresentationMode?le=fe=4:this.removePageBorders?le=fe=0:this._scrollMode===S.ScrollMode.HORIZONTAL&&([le,fe]=[fe,le]);const me=(this.container.clientWidth-le)/ue.width*ue.scale/this._pageWidthScaleFactor,be=(this.container.clientHeight-fe)/ue.height*ue.scale;switch(C){case"page-actual":G=1;break;case"page-width":G=me;break;case"page-height":G=be;break;case"page-fit":G=Math.min(me,be);break;case"auto":const Se=(0,S.isPortraitOrientation)(ue)?me:Math.min(be,me);G=Math.min(S.MAX_AUTO_SCALE,Se);break;default:return void console.error(`_setScale: "${C}" is an unknown zoom value.`)}this._setScaleUpdatePages(G,C,D,!0)}}pageLabelToPageNumber(C){if(!this._pageLabels)return null;const D=this._pageLabels.indexOf(C);return D<0?null:D+1}scrollPageIntoView({pageNumber:C,destArray:D=null,allowNegativeOffset:G=!1,ignoreDestinationZoom:ue=!1}){if(!this.pdfDocument)return;const le=Number.isInteger(C)&&this._pages[C-1];if(!le)return void console.error(`scrollPageIntoView: "${C}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!D)return void this._setCurrentPageNumber(C,!0);let Ce,Ee,fe=0,me=0,be=0,Se=0;const Z=le.rotation%180!=0,k=(Z?le.height:le.width)/le.scale/_.PixelsPerInch.PDF_TO_CSS_UNITS,R=(Z?le.width:le.height)/le.scale/_.PixelsPerInch.PDF_TO_CSS_UNITS;let se=0;switch(D[1].name){case"XYZ":fe=D[2],me=D[3],se=D[4],fe=null!==fe?fe:0,me=null!==me?me:R;break;case"Fit":case"FitB":se="page-fit";break;case"FitH":case"FitBH":me=D[2],se="page-width",null===me&&this._location?(fe=this._location.left,me=this._location.top):("number"!=typeof me||me<0)&&(me=R);break;case"FitV":case"FitBV":fe=D[2],be=k,Se=R,se="page-height";break;case"FitR":fe=D[2],me=D[3],be=D[4]-fe,Se=D[5]-me,Ce=(this.container.clientWidth-(this.removePageBorders?0:S.SCROLLBAR_PADDING))/be/_.PixelsPerInch.PDF_TO_CSS_UNITS,Ee=(this.container.clientHeight-(this.removePageBorders?0:S.VERTICAL_PADDING))/Se/_.PixelsPerInch.PDF_TO_CSS_UNITS,se=Math.min(Math.abs(Ce),Math.abs(Ee));break;default:return void console.error(`scrollPageIntoView: "${D[1].name}" is not a valid destination type.`)}if(ue||(se&&se!==this._currentScale?this.currentScaleValue=se:this._currentScale===S.UNKNOWN_SCALE&&(this.currentScaleValue=S.DEFAULT_SCALE_VALUE)),"page-fit"===se&&!D[4])return void ye(this,v,Ke).call(this,le);const ce=[le.viewport.convertToViewportPoint(fe,me),le.viewport.convertToViewportPoint(fe+be,me+Se)];let pe=Math.min(ce[0][0],ce[1][0]),ge=Math.min(ce[0][1],ce[1][1]);G||(pe=Math.max(pe,0),ge=Math.max(ge,0)),ye(this,v,Ke).call(this,le,{left:pe,top:ge})}_updateLocation(C){const D=this._currentScale,G=this._currentScaleValue,ue=parseFloat(G)===D?Math.round(1e4*D)/100:G,le=C.id,me=this.container,be=this._pages[le-1].getPagePoint(me.scrollLeft-C.x,me.scrollTop-C.y),Se=Math.round(be[0]),Ce=Math.round(be[1]);let Ee=`#page=${le}`;this.isInPresentationMode||(Ee+=`&zoom=${ue},${Se},${Ce}`),this._location={pageNumber:le,scale:ue,top:Ce,left:Se,rotation:this._pagesRotation,pdfOpenParams:Ee}}update(){const C=this._getVisiblePages(),D=C.views,G=D.length;if(0===G)return;const ue=Math.max(10,2*G+1);Ae(this,H).resize(ue,C.ids),this.renderingQueue.renderHighestPriority(C);const le=this._spreadMode===S.SpreadMode.NONE&&(this._scrollMode===S.ScrollMode.PAGE||this._scrollMode===S.ScrollMode.VERTICAL),fe=this._currentPageNumber;let me=!1;for(const be of D){if(be.percent<100)break;if(be.id===fe&&le){me=!0;break}}this._setCurrentPageNumber(me?fe:D[0].id),this._updateLocation(C.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(C){return this.container.contains(C)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===S.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===S.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const C=this._scrollMode===S.ScrollMode.PAGE?Ae(this,te).pages:this._pages,D=this._scrollMode===S.ScrollMode.HORIZONTAL;return(0,S.getVisibleElements)({scrollEl:this.container,views:C,sortByVisibility:!0,horizontal:D,rtl:D&&this._isContainerRtl})}isPageVisible(C){return!!this.pdfDocument&&(Number.isInteger(C)&&C>0&&C<=this.pagesCount?this._getVisiblePages().ids.has(C):(console.error(`isPageVisible: "${C}" is not a valid page.`),!1))}isPageCached(C){if(!this.pdfDocument)return!1;if(!(Number.isInteger(C)&&C>0&&C<=this.pagesCount))return console.error(`isPageCached: "${C}" is not a valid page.`),!1;const D=this._pages[C-1];return Ae(this,H).has(D)}cleanup(){for(const C of this._pages)C.renderingState!==S.RenderingStates.FINISHED&&C.reset()}_cancelRendering(){for(const C of this._pages)C.cancelRendering()}forceRendering(C){const D=C||this._getVisiblePages(),G=ye(this,Y,Ct).call(this,D),le=this.renderingQueue.getHighestPriority(D,this._pages,G,this._spreadMode!==S.SpreadMode.NONE&&this._scrollMode!==S.ScrollMode.HORIZONTAL);return ye(this,_e,wt).call(this,D.ids),!!le&&(ye(this,W,Pt).call(this,le).then(()=>{this.renderingQueue.renderView(le)}),!0)}createTextLayerBuilder(C,D,G,ue=!1,le,fe){return new f.TextLayerBuilder({textLayerDiv:C,eventBus:le,pageIndex:D,viewport:G,enhanceTextSelection:!this.isInPresentationMode&&ue,highlighter:fe})}createTextHighlighter(C,D){return new u.TextHighlighter({eventBus:D,pageIndex:C,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(C,D,G=null,ue="",le=!0,fe=o.NullL10n,me=null,be=null,Se=null,Ce=null,Ee=null){var Z,k,R,se;return new P.AnnotationLayerBuilder({pageDiv:C,pdfPage:D,annotationStorage:G||(null==(Z=this.pdfDocument)?void 0:Z.annotationStorage),imageResourcesPath:ue,renderForms:le,linkService:this.linkService,downloadManager:this.downloadManager,l10n:fe,enableScripting:null!=me?me:this.enableScripting,hasJSActionsPromise:be||(null==(k=this.pdfDocument)?void 0:k.hasJSActions()),fieldObjectsPromise:Ce||(null==(R=this.pdfDocument)?void 0:R.getFieldObjects()),mouseState:Se||(null==(se=this._scriptingManager)?void 0:se.mouseState),annotationCanvasMap:Ee})}createXfaLayerBuilder(C,D,G=null){var ue;return new t.XfaLayerBuilder({pageDiv:C,pdfPage:D,annotationStorage:G||(null==(ue=this.pdfDocument)?void 0:ue.annotationStorage),linkService:this.linkService})}createStructTreeLayerBuilder(C){return new m.StructTreeLayerBuilder({pdfPage:C})}get hasEqualPageSizes(){const C=this._pages[0];for(let D=1,G=this._pages.length;D<G;++D){const ue=this._pages[D];if(ue.width!==C.width||ue.height!==C.height)return!1}return!0}getPagesOverview(){return this._pages.map(C=>{const D=C.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,S.isPortraitOrientation)(D)?{width:D.width,height:D.height,rotation:D.rotation}:{width:D.height,height:D.width,rotation:(D.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(C){if(!(C instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${C}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=C;const D={optionalContentConfigPromise:C};for(const G of this._pages)G.update(D);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:C})}get scrollMode(){return this._scrollMode}set scrollMode(C){if(this._scrollMode!==C){if(!(0,S.isValidScrollMode)(C))throw new Error(`Invalid scroll mode: ${C}`);this.pagesCount>g.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=C,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:C}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(C=null){const D=this._scrollMode,G=this.viewer;G.classList.toggle("scrollHorizontal",D===S.ScrollMode.HORIZONTAL),G.classList.toggle("scrollWrapped",D===S.ScrollMode.WRAPPED),this.pdfDocument&&C&&(D===S.ScrollMode.PAGE?ye(this,l,He).call(this):this._previousScrollMode===S.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(C,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(C){if(this._spreadMode!==C){if(!(0,S.isValidSpreadMode)(C))throw new Error(`Invalid spread mode: ${C}`);this._spreadMode=C,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:C}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(C=null){if(!this.pdfDocument)return;const D=this.viewer,G=this._pages;if(this._scrollMode===S.ScrollMode.PAGE)ye(this,l,He).call(this);else if(D.textContent="",this._spreadMode===S.SpreadMode.NONE)for(const ue of this._pages)D.appendChild(ue.div);else{const ue=this._spreadMode-1;let le=null;for(let fe=0,me=G.length;fe<me;++fe)null===le?(le=document.createElement("div"),le.className="spread",D.appendChild(le)):fe%2===ue&&(le=le.cloneNode(!1),D.appendChild(le)),le.appendChild(G[fe].div)}!C||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(C,!0),this.update())}_getPageAdvance(C,D=!1){switch(this._scrollMode){case S.ScrollMode.WRAPPED:{const{views:G}=this._getVisiblePages(),ue=new Map;for(const{id:le,y:fe,percent:me,widthPercent:be}of G){if(0===me||be<100)continue;let Se=ue.get(fe);Se||ue.set(fe,Se||(Se=[])),Se.push(le)}for(const le of ue.values()){const fe=le.indexOf(C);if(-1===fe)continue;const me=le.length;if(1===me)break;if(D)for(let be=fe-1,Se=0;be>=Se;be--){const Ee=le[be+1]-1;if(le[be]<Ee)return C-Ee}else for(let be=fe+1,Se=me;be<Se;be++){const Ee=le[be-1]+1;if(le[be]>Ee)return Ee-C}if(D){const be=le[0];if(be<C)return C-be+1}else{const be=le[me-1];if(be>C)return be-C+1}break}break}case S.ScrollMode.HORIZONTAL:break;case S.ScrollMode.PAGE:case S.ScrollMode.VERTICAL:{if(this._spreadMode===S.SpreadMode.NONE)break;const G=this._spreadMode-1;if(D&&C%2!==G)break;if(!D&&C%2===G)break;const{views:ue}=this._getVisiblePages(),le=D?C-1:C+1;for(const{id:fe,percent:me,widthPercent:be}of ue)if(fe===le){if(me>0&&100===be)return 2;break}break}}return 1}nextPage(){const C=this._currentPageNumber,D=this.pagesCount;if(C>=D)return!1;const G=this._getPageAdvance(C,!1)||1;return this.currentPageNumber=Math.min(C+G,D),!0}previousPage(){const C=this._currentPageNumber;if(C<=1)return!1;const D=this._getPageAdvance(C,!0)||1;return this.currentPageNumber=Math.max(C-D,1),!0}increaseScale(C=1){let D=this._currentScale;do{D=(D*S.DEFAULT_SCALE_DELTA).toFixed(2),D=Math.ceil(10*D)/10,D=Math.min(S.MAX_SCALE,D)}while(--C>0&&D<S.MAX_SCALE);this.currentScaleValue=D}decreaseScale(C=1){let D=this._currentScale;do{D=(D/S.DEFAULT_SCALE_DELTA).toFixed(2),D=Math.floor(10*D)/10,D=Math.max(S.MIN_SCALE,D)}while(--C>0&&D>S.MIN_SCALE);this.currentScaleValue=D}updateContainerHeightCss(){const C=this.container.clientHeight;C!==Ae(this,$)&&(Te(this,$,C),this._doc.style.setProperty("--viewer-container-height",`${C}px`))}};let E=ie;H=new WeakMap,X=new WeakMap,I=new WeakMap,z=new WeakMap,$=new WeakMap,te=new WeakMap,ae=new WeakMap,T=new WeakSet,yt=function(C){!C||(C.includes(_.PermissionFlag.COPY)||this.viewer.classList.add(p),!C.includes(_.PermissionFlag.MODIFY_ANNOTATIONS)&&!C.includes(_.PermissionFlag.FILL_INTERACTIVE_FORMS)&&Ae(this,X)===_.AnnotationMode.ENABLE_FORMS&&(Te(this,I,Ae(this,X)),Te(this,X,_.AnnotationMode.ENABLE)))},h=new WeakSet,vt=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const C=new Promise(D=>{Te(this,ae,()=>{"hidden"===document.visibilityState&&(D(),document.removeEventListener("visibilitychange",Ae(this,ae)),Te(this,ae,null))}),document.addEventListener("visibilitychange",Ae(this,ae))});return Promise.race([this._onePageRenderedCapability.promise,C])},l=new WeakSet,He=function(){if(this._scrollMode!==S.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const C=this._currentPageNumber,D=Ae(this,te),G=this.viewer;if(G.textContent="",D.pages.length=0,this._spreadMode!==S.SpreadMode.NONE||this.isInPresentationMode){const ue=new Set,le=this._spreadMode-1;-1===le?ue.add(C-1):C%2!==le?(ue.add(C-1),ue.add(C)):(ue.add(C-2),ue.add(C-1));const fe=document.createElement("div");if(fe.className="spread",this.isInPresentationMode){const me=document.createElement("div");me.className="dummyPage",fe.appendChild(me)}for(const me of ue){const be=this._pages[me];!be||(fe.appendChild(be.div),D.pages.push(be))}G.appendChild(fe)}else{const ue=this._pages[C-1];G.appendChild(ue.div),D.pages.push(ue)}D.scrollDown=C>=D.previousPageNumber,D.previousPageNumber=C},v=new WeakSet,Ke=function(C,D=null){const{div:G,id:ue}=C;if(this._scrollMode===S.ScrollMode.PAGE&&(this._setCurrentPageNumber(ue),ye(this,l,He).call(this),this.update()),!D&&!this.isInPresentationMode){const le=G.offsetLeft+G.clientLeft,fe=le+G.clientWidth,{scrollLeft:me,clientWidth:be}=this.container;(this._scrollMode===S.ScrollMode.HORIZONTAL||le<me||fe>me+be)&&(D={left:0,top:0})}(0,S.scrollIntoView)(G,D)},x=new WeakSet,St=function(C){return C===this._currentScale||Math.abs(C-this._currentScale)<1e-15},j=new WeakSet,at=function(){const C=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),ye(this,v,Ke).call(this,C)},W=new WeakSet,Pt=function(C){var D=this;return b(function*(){var G,ue;if(C.pdfPage)return C.pdfPage;try{const le=yield D.pdfDocument.getPage(C.id);return C.pdfPage||C.setPdfPage(le),(null==(ue=(G=D.linkService)._cachedPageNumber)?void 0:ue.call(G,le.ref))||D.linkService.cachePageRef(C.id,le.ref),le}catch(le){return console.error("Unable to get page for page view",le),null}})()},Y=new WeakSet,Ct=function(C){var D,G;if(1===(null==(D=C.first)?void 0:D.id))return!0;if((null==(G=C.last)?void 0:G.id)===this.pagesCount)return!1;switch(this._scrollMode){case S.ScrollMode.PAGE:return Ae(this,te).scrollDown;case S.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},_e=new WeakSet,wt=function(C){for(const D of C){const G=this._pages[D-1];null==G||G.toggleLoadingIconSpinner(!0)}for(const D of Ae(this,H))C.has(D.id)||D.toggleLoadingIconSpinner(!1)},c.BaseViewer=E},(O,c,w)=>{var s;Object.defineProperty(c,"__esModule",{value:!0}),c.PDFPageView=void 0;var _=w(3),S=w(6),P=w(13),o=w(4);const r=P.compatibilityParams.maxCanvasPixels||16777216;s=new WeakMap,c.PDFPageView=class e{constructor(u){var p,g,y,E;ve(this,s,_.AnnotationMode.ENABLE_FORMS);const f=u.container,t=u.defaultViewport;this.id=u.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=u.scale||S.DEFAULT_SCALE,this.viewport=t,this.pdfPageRotate=t.rotation,this._optionalContentConfigPromise=u.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=null!=(p=u.textLayerMode)?p:S.TextLayerMode.ENABLE,Te(this,s,null!=(g=u.annotationMode)?g:_.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=u.imageResourcesPath||"",this.useOnlyCssZoom=u.useOnlyCssZoom||!1,this.maxCanvasPixels=u.maxCanvasPixels||r,this.pageColors=u.pageColors||null,this.eventBus=u.eventBus,this.renderingQueue=u.renderingQueue,this.textLayerFactory=u.textLayerFactory,this.annotationLayerFactory=u.annotationLayerFactory,this.xfaLayerFactory=u.xfaLayerFactory,this.textHighlighter=null==(y=u.textHighlighterFactory)?void 0:y.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=u.structTreeLayerFactory,this.renderer=u.renderer||S.RendererType.CANVAS,this.l10n=u.l10n||o.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=S.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!(null==(E=this.renderingQueue)?void 0:E.hasViewer()),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const i=document.createElement("div");i.className="page",i.style.width=Math.floor(this.viewport.width)+"px",i.style.height=Math.floor(this.viewport.height)+"px",i.setAttribute("data-page-number",this.id),i.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(L=>{i.setAttribute("aria-label",L)}),this.div=i,null==f||f.appendChild(i)}setPdfPage(u){this.pdfPage=u,this.pdfPageRotate=u.rotate,this.viewport=u.getViewport({scale:this.scale*_.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var u=this;return b(function*(){let f=null;try{yield u.annotationLayer.render(u.viewport,"display")}catch(t){f=t}finally{u.eventBus.dispatch("annotationlayerrendered",{source:u,pageNumber:u.id,error:f})}})()}_renderXfaLayer(){var u=this;return b(function*(){let f=null;try{const t=yield u.xfaLayer.render(u.viewport,"display");u.textHighlighter&&u._buildXfaTextContentItems(t.textDivs)}catch(t){f=t}finally{u.eventBus.dispatch("xfalayerrendered",{source:u,pageNumber:u.id,error:f})}})()}_buildXfaTextContentItems(u){var f=this;return b(function*(){const t=yield f.pdfPage.getTextContent(),i=[];for(const p of t.items)i.push(p.str);f.textHighlighter.setTextMapping(u,i),f.textHighlighter.enable()})()}_resetZoomLayer(u=!1){if(!this.zoomLayer)return;const f=this.zoomLayer.firstChild;this.paintedViewportMap.delete(f),f.width=0,f.height=0,u&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:u=!1,keepAnnotationLayer:f=!1,keepXfaLayer:t=!1}={}){var L,F;this.cancelRendering({keepAnnotationLayer:f,keepXfaLayer:t}),this.renderingState=S.RenderingStates.INITIAL;const i=this.div;i.style.width=Math.floor(this.viewport.width)+"px",i.style.height=Math.floor(this.viewport.height)+"px";const p=i.childNodes,g=u&&this.zoomLayer||null,y=f&&(null==(L=this.annotationLayer)?void 0:L.div)||null,E=t&&(null==(F=this.xfaLayer)?void 0:F.div)||null;for(let N=p.length-1;N>=0;N--){const U=p[N];switch(U){case g:case y:case E:continue}U.remove()}i.removeAttribute("data-loaded"),y&&this.annotationLayer.hide(),E&&this.xfaLayer.hide(),g||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(N=>{var U;null==(U=this.loadingIconDiv)||U.setAttribute("aria-label",N)}),i.appendChild(this.loadingIconDiv)}update({scale:u=0,rotation:f=null,optionalContentConfigPromise:t=null}){if(this.scale=u||this.scale,"number"==typeof f&&(this.rotation=f),t instanceof Promise&&(this._optionalContentConfigPromise=t),this.viewport=this.viewport.clone({scale:this.scale*_.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:g}=document.documentElement;g.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let p=!1;if(this.canvas&&this.maxCanvasPixels>0){const g=this.outputScale;(Math.floor(this.viewport.width)*g.sx|0)*(Math.floor(this.viewport.height)*g.sy|0)>this.maxCanvasPixels&&(p=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&p)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:u=!1,keepXfaLayer:f=!1}={}){var t;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!u||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!f||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,null==(t=this.textHighlighter)||t.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:u,redrawAnnotationLayer:f=!1,redrawXfaLayer:t=!1}){const i=this.viewport.width,p=this.viewport.height,g=this.div;u.style.width=u.parentNode.style.width=g.style.width=Math.floor(i)+"px",u.style.height=u.parentNode.style.height=g.style.height=Math.floor(p)+"px";const y=this.viewport.rotation-this.paintedViewportMap.get(u).rotation,E=Math.abs(y);let L=1,F=1;if((90===E||270===E)&&(L=p/i,F=i/p),u.style.transform=`rotate(${y}deg) scale(${L}, ${F})`,this.textLayer){const N=this.textLayer.viewport,H=Math.abs(this.viewport.rotation-N.rotation);let X=i/N.width;(90===H||270===H)&&(X=i/N.height);const I=this.textLayer.textLayerDiv;let z,$;switch(H){case 0:z=$=0;break;case 90:z=0,$="-"+I.style.height;break;case 180:z="-"+I.style.width,$="-"+I.style.height;break;case 270:z="-"+I.style.width,$=0;break;default:console.error("Bad rotation value.")}I.style.transform=`rotate(${H}deg) scale(${X}) translate(${z}, ${$})`,I.style.transformOrigin="0% 0%"}f&&this.annotationLayer&&this._renderAnnotationLayer(),t&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(u,f){return this.viewport.convertToPdfPoint(u,f)}toggleLoadingIconSpinner(u=!1){var f;null==(f=this.loadingIconDiv)||f.classList.toggle("notVisible",!u)}draw(){var F,N,U,u=this;this.renderingState!==S.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:f,pdfPage:t}=this;if(!t)return this.renderingState=S.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=S.RenderingStates.RUNNING;const i=document.createElement("div");i.style.width=f.style.width,i.style.height=f.style.height,i.classList.add("canvasWrapper"),(null==(F=this.annotationLayer)?void 0:F.div)?f.insertBefore(i,this.annotationLayer.div):f.appendChild(i);let p=null;if(this.textLayerMode!==S.TextLayerMode.DISABLE&&this.textLayerFactory){const H=document.createElement("div");H.className="textLayer",H.style.width=i.style.width,H.style.height=i.style.height,(null==(N=this.annotationLayer)?void 0:N.div)?f.insertBefore(H,this.annotationLayer.div):f.appendChild(H),p=this.textLayerFactory.createTextLayerBuilder(H,this.id-1,this.viewport,this.textLayerMode===S.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=p,Ae(this,s)!==_.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(f,t,null,this.imageResourcesPath,Ae(this,s)===_.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),(null==(U=this.xfaLayer)?void 0:U.div)&&f.appendChild(this.xfaLayer.div);let g=null;this.renderingQueue&&(g=H=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=S.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=S.RenderingStates.RUNNING,H()});H()});const y=function(){var H=b(function*(X=null){if(E===u.paintTask&&(u.paintTask=null),X instanceof _.RenderingCancelledException)u._renderError=null;else if(u._renderError=X,u.renderingState=S.RenderingStates.FINISHED,u.loadingIconDiv&&(u.loadingIconDiv.remove(),delete u.loadingIconDiv),u._resetZoomLayer(!0),u.eventBus.dispatch("pagerendered",{source:u,pageNumber:u.id,cssTransform:!1,timestamp:performance.now(),error:u._renderError}),X)throw X});return function(){return H.apply(this,arguments)}}(),E=this.renderer===S.RendererType.SVG?this.paintOnSvg(i):this.paintOnCanvas(i);E.onRenderContinue=g,this.paintTask=E;const L=E.promise.then(()=>y(null).then(()=>{if(p){const H=t.streamTextContent({includeMarkedContent:!0});p.setTextContentStream(H),p.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(H){return y(H)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(f,t,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=H=>{H.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(X=>{if(!X||!this.canvas)return;const I=this.structTreeLayer.render(X);I.classList.add("structTree"),this.canvas.appendChild(I)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(t)),f.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),L}paintOnCanvas(u){const f=(0,_.createPromiseCapability)(),t={promise:f.promise,onRenderContinue(I){I()},cancel(){X.cancel()}},i=this.viewport,p=document.createElement("canvas");p.hidden=!0;let g=!0;const y=function(){g&&(p.hidden=!1,g=!1)};u.appendChild(p),this.canvas=p;const E=p.getContext("2d",{alpha:!1}),L=this.outputScale=new S.OutputScale;if(this.useOnlyCssZoom){const I=i.clone({scale:_.PixelsPerInch.PDF_TO_CSS_UNITS});L.sx*=I.width/i.width,L.sy*=I.height/i.height}if(this.maxCanvasPixels>0){const z=Math.sqrt(this.maxCanvasPixels/(i.width*i.height));L.sx>z||L.sy>z?(L.sx=z,L.sy=z,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const F=(0,S.approximateFraction)(L.sx),N=(0,S.approximateFraction)(L.sy);p.width=(0,S.roundToDivide)(i.width*L.sx,F[0]),p.height=(0,S.roundToDivide)(i.height*L.sy,N[0]),p.style.width=(0,S.roundToDivide)(i.width,F[1])+"px",p.style.height=(0,S.roundToDivide)(i.height,N[1])+"px",this.paintedViewportMap.set(p,i);const H={canvasContext:E,transform:L.scaled?[L.sx,0,0,L.sy,0,0]:null,viewport:this.viewport,annotationMode:Ae(this,s),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},X=this.pdfPage.render(H);return X.onContinue=function(I){y(),t.onRenderContinue?t.onRenderContinue(I):I()},X.promise.then(function(){y(),f.resolve()},function(I){y(),f.reject(I)}),t}paintOnSvg(u){let f=!1;const t=()=>{if(f)throw new _.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},i=this.pdfPage,p=this.viewport.clone({scale:_.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:i.getOperatorList({annotationMode:Ae(this,s)}).then(y=>(t(),new _.SVGGraphics(i.commonObjs,i.objs).getSVG(y,p).then(L=>{t(),this.svg=L,this.paintedViewportMap.set(L,p),L.style.width=u.style.width,L.style.height=u.style.height,this.renderingState=S.RenderingStates.FINISHED,u.appendChild(L)}))),onRenderContinue(y){y()},cancel(){f=!0}}}setPageLabel(u){this.pageLabel="string"==typeof u?u:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(O,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.compatibilityParams=c.OptionKind=c.AppOptions=void 0;const w=Object.create(null);c.compatibilityParams=w;{const r=navigator.userAgent||"",e=navigator.platform||"",s=navigator.maxTouchPoints||1,m=/Android/.test(r);(/\b(iPad|iPhone|iPod)(?=;)/.test(r)||"MacIntel"===e&&s>1||m)&&(w.maxCanvasPixels=5242880)}const _={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};c.OptionKind=_;const S={annotationMode:{value:2,kind:_.VIEWER+_.PREFERENCE},cursorToolOnLoad:{value:0,kind:_.VIEWER+_.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:_.VIEWER},defaultZoomValue:{value:"",kind:_.VIEWER+_.PREFERENCE},disableHistory:{value:!1,kind:_.VIEWER},disablePageLabels:{value:!1,kind:_.VIEWER+_.PREFERENCE},enablePermissions:{value:!1,kind:_.VIEWER+_.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:_.VIEWER+_.PREFERENCE},enableScripting:{value:!0,kind:_.VIEWER+_.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:_.VIEWER},externalLinkTarget:{value:0,kind:_.VIEWER+_.PREFERENCE},historyUpdateUrl:{value:!1,kind:_.VIEWER+_.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:_.VIEWER+_.PREFERENCE},imageResourcesPath:{value:"./images/",kind:_.VIEWER},maxCanvasPixels:{value:16777216,compatibility:w.maxCanvasPixels,kind:_.VIEWER},pageColorsBackground:{value:"Canvas",kind:_.VIEWER+_.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:_.VIEWER+_.PREFERENCE},pdfBugEnabled:{value:!1,kind:_.VIEWER+_.PREFERENCE},printResolution:{value:150,kind:_.VIEWER},renderer:{value:"canvas",kind:_.VIEWER},sidebarViewOnLoad:{value:-1,kind:_.VIEWER+_.PREFERENCE},scrollModeOnLoad:{value:-1,kind:_.VIEWER+_.PREFERENCE},spreadModeOnLoad:{value:-1,kind:_.VIEWER+_.PREFERENCE},textLayerMode:{value:1,kind:_.VIEWER+_.PREFERENCE},useOnlyCssZoom:{value:!1,kind:_.VIEWER+_.PREFERENCE},viewerCssTheme:{value:0,kind:_.VIEWER+_.PREFERENCE},viewOnLoad:{value:0,kind:_.VIEWER+_.PREFERENCE},cMapPacked:{value:!0,kind:_.API},cMapUrl:{value:"../web/cmaps/",kind:_.API},disableAutoFetch:{value:!1,kind:_.API+_.PREFERENCE},disableFontFace:{value:!1,kind:_.API+_.PREFERENCE},disableRange:{value:!1,kind:_.API+_.PREFERENCE},disableStream:{value:!1,kind:_.API+_.PREFERENCE},docBaseUrl:{value:"",kind:_.API},enableXfa:{value:!0,kind:_.API+_.PREFERENCE},fontExtraProperties:{value:!1,kind:_.API},isEvalSupported:{value:!0,kind:_.API},maxImageSize:{value:-1,kind:_.API},pdfBug:{value:!1,kind:_.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:_.API},verbosity:{value:1,kind:_.API},workerPort:{value:null,kind:_.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:_.WORKER}};S.disablePreferences={value:!1,kind:_.VIEWER},S.locale={value:navigator.language||"en-US",kind:_.VIEWER},S.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:_.VIEWER},S.renderer.kind+=_.PREFERENCE;const P=Object.create(null);c.AppOptions=class o{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(e){var u;const s=P[e];if(void 0!==s)return s;const m=S[e];return void 0!==m?null!=(u=m.compatibility)?u:m.value:void 0}static getAll(e=null){var m;const s=Object.create(null);for(const u in S){const f=S[u];if(e){if(0==(e&f.kind))continue;if(e===_.PREFERENCE){const i=f.value,p=typeof i;if("boolean"===p||"string"===p||"number"===p&&Number.isInteger(i)){s[u]=i;continue}throw new Error(`Invalid type for preference: ${u}`)}}const t=P[u];s[u]=void 0!==t?t:null!=(m=f.compatibility)?m:f.value}return s}static set(e,s){P[e]=s}static setAll(e){for(const s in e)P[s]=e[s]}static remove(e){delete P[e]}static _hasUserOptions(){return Object.keys(P).length>0}}},(O,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFRenderingQueue=void 0;var _=w(3),S=w(6);c.PDFRenderingQueue=class o{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(e){var s;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(e)&&(this.isThumbnailViewEnabled&&(null==(s=this.pdfThumbnailViewer)?void 0:s.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(e,s,m,u=!1){const f=e.views,t=f.length;if(0===t)return null;for(let E=0;E<t;E++){const L=f[E].view;if(!this.isViewFinished(L))return L}const i=e.first.id,p=e.last.id;if(p-i+1>t){const E=e.ids;for(let L=1,F=p-i;L<F;L++){const N=m?i+L:p-L;if(E.has(N))continue;const U=s[N-1];if(!this.isViewFinished(U))return U}}let g=m?p:i-2,y=s[g];return y&&!this.isViewFinished(y)||u&&(g+=m?1:-1,y=s[g],y&&!this.isViewFinished(y))?y:null}isViewFinished(e){return e.renderingState===S.RenderingStates.FINISHED}renderView(e){switch(e.renderingState){case S.RenderingStates.FINISHED:return!1;case S.RenderingStates.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case S.RenderingStates.RUNNING:this.highestPriorityPage=e.renderingId;break;case S.RenderingStates.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(()=>{this.renderHighestPriority()}).catch(s=>{s instanceof _.RenderingCancelledException||console.error(`renderView: "${s}"`)})}return!0}}},(O,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TextHighlighter=void 0,c.TextHighlighter=class w{constructor({findController:S,eventBus:P,pageIndex:o}){this.findController=S,this.matches=[],this.eventBus=P,this.pageIdx=o,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(S,P){this.textDivs=S,this.textContentItemsStr=P}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=S=>{(S.pageIndex===this.pageIdx||-1===S.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(S,P){if(!S)return[];const{textContentItemsStr:o}=this;let r=0,e=0;const s=o.length-1,m=[];for(let u=0,f=S.length;u<f;u++){let t=S[u];for(;r!==s&&t>=e+o[r].length;)e+=o[r].length,r++;r===o.length&&console.error("Could not find a matching mapping");const i={begin:{divIdx:r,offset:t-e}};for(t+=P[u];r!==s&&t>e+o[r].length;)e+=o[r].length,r++;i.end={divIdx:r,offset:t-e},m.push(i)}return m}_renderMatches(S){if(0===S.length)return;const{findController:P,pageIdx:o}=this,{textContentItemsStr:r,textDivs:e}=this,s=o===P.selected.pageIdx,m=P.selected.matchIdx;let f=null;function i(E,L){const F=E.divIdx;return e[F].textContent="",p(F,0,E.offset,L)}function p(E,L,F,N){let U=e[E];if(U.nodeType===Node.TEXT_NODE){const I=document.createElement("span");U.parentNode.insertBefore(I,U),I.appendChild(U),e[E]=I,U=I}const H=r[E].substring(L,F),X=document.createTextNode(H);if(N){const I=document.createElement("span");return I.className=`${N} appended`,I.appendChild(X),U.appendChild(I),N.includes("selected")?I.offsetLeft:0}return U.appendChild(X),0}let g=m,y=g+1;if(P.state.highlightAll)g=0,y=S.length;else if(!s)return;for(let E=g;E<y;E++){const L=S[E],F=L.begin,N=L.end,U=s&&E===m,H=U?" selected":"";let X=0;if(f&&F.divIdx===f.divIdx?p(f.divIdx,f.offset,F.offset):(null!==f&&p(f.divIdx,f.offset,undefined),i(F)),F.divIdx===N.divIdx)X=p(F.divIdx,F.offset,N.offset,"highlight"+H);else{X=p(F.divIdx,F.offset,undefined,"highlight begin"+H);for(let I=F.divIdx+1,z=N.divIdx;I<z;I++)e[I].className="highlight middle"+H;i(N,"highlight end"+H)}f=N,U&&P.scrollMatchIntoView({element:e[F.divIdx],selectedLeft:X,pageIndex:o,matchIndex:m})}f&&p(f.divIdx,f.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:S,matches:P,pageIdx:o}=this,{textContentItemsStr:r,textDivs:e}=this;let s=-1;for(let f=0,t=P.length;f<t;f++){const i=P[f];for(let g=Math.max(s,i.begin.divIdx),y=i.end.divIdx;g<=y;g++){const E=e[g];E.textContent=r[g],E.className=""}s=i.end.divIdx+1}(null==S?void 0:S.highlightMatches)&&(this.matches=this._convertMatches(S.pageMatches[o]||null,S.pageMatchesLength[o]||null),this._renderMatches(this.matches))}}},(O,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DownloadManager=void 0;var _=w(3);function S(o,r){const e=document.createElement("a");if(!e.click)throw new Error('DownloadManager: "a.click()" is not supported.');e.href=o,e.target="_parent","download"in e&&(e.download=r),(document.body||document.documentElement).appendChild(e),e.click(),e.remove()}c.DownloadManager=class P{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(r,e){(0,_.createValidAbsoluteUrl)(r,"http://example.com")?S(r+"#pdfjs.action=download",e):console.error(`downloadUrl - not a valid URL: ${r}`)}downloadData(r,e,s){S(URL.createObjectURL(new Blob([r],{type:s})),e)}openOrDownloadData(r,e,s){const m=(0,_.isPdfFile)(s),u=m?"application/pdf":"";if(m){let t,f=this._openBlobUrls.get(r);f||(f=URL.createObjectURL(new Blob([e],{type:u})),this._openBlobUrls.set(r,f)),t="?file="+encodeURIComponent(f+"#"+s);try{return window.open(t),!0}catch(i){console.error(`openOrDownloadData: ${i}`),URL.revokeObjectURL(f),this._openBlobUrls.delete(r)}}return this.downloadData(e,s,u),!1}download(r,e,s,m="download"){S(URL.createObjectURL(r),s)}}},(O,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.WaitOnType=c.EventBus=c.AutomationEventBus=void 0,c.waitOnEventOrTimeout=function _({target:o,name:r,delay:e=0}){return new Promise(function(s,m){if("object"!=typeof o||!r||"string"!=typeof r||!(Number.isInteger(e)&&e>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function u(p){o instanceof S?o._off(r,f):o.removeEventListener(r,f),i&&clearTimeout(i),s(p)}const f=u.bind(null,w.EVENT);o instanceof S?o._on(r,f):o.addEventListener(r,f);const t=u.bind(null,w.TIMEOUT),i=setTimeout(t,e)})};const w={EVENT:"event",TIMEOUT:"timeout"};c.WaitOnType=w;class S{constructor(){this._listeners=Object.create(null)}on(r,e,s=null){this._on(r,e,{external:!0,once:null==s?void 0:s.once})}off(r,e,s=null){this._off(r,e,{external:!0,once:null==s?void 0:s.once})}dispatch(r,e){const s=this._listeners[r];if(!s||0===s.length)return;let m;for(const{listener:u,external:f,once:t}of s.slice(0))t&&this._off(r,u),f?(m||(m=[])).push(u):u(e);if(m){for(const u of m)u(e);m=null}}_on(r,e,s=null){var u;((u=this._listeners)[r]||(u[r]=[])).push({listener:e,external:!0===(null==s?void 0:s.external),once:!0===(null==s?void 0:s.once)})}_off(r,e,s=null){const m=this._listeners[r];if(m)for(let u=0,f=m.length;u<f;u++)if(m[u].listener===e)return void m.splice(u,1)}}c.EventBus=S,c.AutomationEventBus=class P extends S{dispatch(r,e){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(O,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.GenericL10n=void 0,w(19);var _=w(4);const S=document.webL10n;c.GenericL10n=class P{constructor(r){this._lang=r,this._ready=new Promise((e,s)=>{S.setLanguage((0,_.fixupLangCode)(r),()=>{e(S)})})}getLanguage(){var r=this;return b(function*(){return(yield r._ready).getLanguage()})()}getDirection(){var r=this;return b(function*(){return(yield r._ready).getDirection()})()}get(r,e=null,s=(0,_.getL10nFallback)(r,e)){var m=this;return b(function*(){return(yield m._ready).get(r,e,s)})()}translate(r){var e=this;return b(function*(){return(yield e._ready).translate(r)})()}}},()=>{document.webL10n=function(O,c,w){var _={},S="",P="textContent",o="",r={},e="loading";function i(I,z,$){z=z||function(T){},$=$||function(){};var te=new XMLHttpRequest;te.open("GET",I,!0),te.overrideMimeType&&te.overrideMimeType("text/plain; charset=utf-8"),te.onreadystatechange=function(){4==te.readyState&&(200==te.status||0===te.status?z(te.responseText):$())},te.onerror=$,te.ontimeout=$;try{te.send(null)}catch(ae){$()}}function g(I,z){I&&(I=I.toLowerCase()),z=z||function(){},function y(){_={},S="",o=""}(),o=I;var $=function m(){return c.querySelectorAll('link[type="application/l10n"]')}(),te=$.length;if(0!==te){var h,n=0;h=function(){++n>=te&&(z(),e="complete")};for(var d=0;d<te;d++)new l($[d]).load(I,h)}else{var ae=function u(){var I=c.querySelector('script[type="application/l10n"]');return I?JSON.parse(I.innerHTML):null}();if(ae&&ae.locales&&ae.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(_=ae.locales[I])){var T=ae.default_locale.toLowerCase();for(var a in ae.locales){if((a=a.toLowerCase())===I){_=ae.locales[I];break}a===T&&(_=ae.locales[T])}}z()}else console.log("no resource to load, early way out");e="complete"}function l(A){var x=A.href;this.load=function(B,j){!function p(I,z,$,te){var ae=I.replace(/[^\/]*$/,"")||"./";function T(h){return h.lastIndexOf("\\")<0?h:h.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}i(I,function(h){S+=h,function a(h,n){var l={},d=/^\s*|\s*$/,v=/^\s*#|^\s*$/,A=/^\s*\[(.*)\]\s*$/,x=/^\s*@import\s+url\((.*)\)\s*$/i,B=/^([^=\s]*)\s*=\s*(.+)$/;function j(W,q,Y){var oe=W.replace(d,"").split(/[\r\n]+/),_e="*",K=z.split("-",1)[0],ie=!1,ne="";!function C(){for(;;){if(!oe.length)return void Y();var D=oe.shift();if(!v.test(D)){if(q){if(ne=A.exec(D)){_e=ne[1].toLowerCase(),ie="*"!==_e&&_e!==z&&_e!==K;continue}if(ie)continue;if(ne=x.exec(D))return void V(ae+ne[1],C)}var G=D.match(B);G&&3==G.length&&(l[G[1]]=T(G[2]))}}}()}function V(W,q){i(W,function(Y){j(Y,!1,q)},function(){console.warn(W+" not found."),q()})}j(h,!0,function(){n(l)})}(h,function(n){for(var l in n){var d,v,A=l.lastIndexOf(".");A>0?(d=l.substring(0,A),v=l.substring(A+1)):(d=l,v=P),_[d]||(_[d]={}),_[d][v]=n[l]}$&&$()})},te)}(x,B,j,function(){console.warn(x+" not found."),console.warn('"'+B+'" resource not found'),o="",j()})}}}function L(I,z,$){var te=_[I];if(!te){if(console.warn("#"+I+" is undefined."),!$)return null;te=$}var ae={};for(var T in te){var a=te[T];a=N(a=F(a,z,I,T),z,I),ae[T]=a}return ae}function F(I,z,$,te){var T=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(I);if(!T||!T.length)return I;var n,a=T[1],h=T[2];return z&&h in z?n=z[h]:h in _&&(n=_[h]),a in r&&(I=(0,r[a])(I,n,$,te)),I}function N(I,z,$){return I.replace(/\{\{\s*(.+?)\s*\}\}/g,function(ae,T){return z&&T in z?z[T]:T in _?_[T]:(console.log("argument {{"+T+"}} for #"+$+" is undefined."),ae)})}function U(I){var z=function t(I){if(!I)return{};var z=I.getAttribute("data-l10n-id"),$=I.getAttribute("data-l10n-args"),te={};if($)try{te=JSON.parse($)}catch(ae){console.warn("could not parse arguments for #"+z)}return{id:z,args:te}}(I);if(z.id){var $=L(z.id,z.args);if(!$)return void console.warn("#"+z.id+" is undefined.");if($[P]){if(0===function H(I){if(I.children)return I.children.length;if(void 0!==I.childElementCount)return I.childElementCount;for(var z=0,$=0;$<I.childNodes.length;$++)z+=1===I.nodeType?1:0;return z}(I))I[P]=$[P];else{for(var te=I.childNodes,ae=!1,T=0,a=te.length;T<a;T++)3===te[T].nodeType&&/\S/.test(te[T].nodeValue)&&(ae?te[T].nodeValue="":(te[T].nodeValue=$[P],ae=!0));if(!ae){var h=c.createTextNode($[P]);I.insertBefore(h,I.firstChild)}}delete $[P]}for(var n in $)I[n]=$[n]}}return r.plural=function(I,z,$,te){var ae=parseFloat(z);if(isNaN(ae)||te!=P)return I;r._pluralRules||(r._pluralRules=function E(I){function $(a,h){return-1!==h.indexOf(a)}function te(a,h,n){return h<=a&&a<=n}var ae={0:function(a){return"other"},1:function(a){return te(a%100,3,10)?"few":0===a?"zero":te(a%100,11,99)?"many":2==a?"two":1==a?"one":"other"},2:function(a){return 0!==a&&a%10==0?"many":2==a?"two":1==a?"one":"other"},3:function(a){return 1==a?"one":"other"},4:function(a){return te(a,0,1)?"one":"other"},5:function(a){return te(a,0,2)&&2!=a?"one":"other"},6:function(a){return 0===a?"zero":a%10==1&&a%100!=11?"one":"other"},7:function(a){return 2==a?"two":1==a?"one":"other"},8:function(a){return te(a,3,6)?"few":te(a,7,10)?"many":2==a?"two":1==a?"one":"other"},9:function(a){return 0===a||1!=a&&te(a%100,1,19)?"few":1==a?"one":"other"},10:function(a){return te(a%10,2,9)&&!te(a%100,11,19)?"few":a%10!=1||te(a%100,11,19)?"other":"one"},11:function(a){return te(a%10,2,4)&&!te(a%100,12,14)?"few":a%10==0||te(a%10,5,9)||te(a%100,11,14)?"many":a%10==1&&a%100!=11?"one":"other"},12:function(a){return te(a,2,4)?"few":1==a?"one":"other"},13:function(a){return te(a%10,2,4)&&!te(a%100,12,14)?"few":1!=a&&te(a%10,0,1)||te(a%10,5,9)||te(a%100,12,14)?"many":1==a?"one":"other"},14:function(a){return te(a%100,3,4)?"few":a%100==2?"two":a%100==1?"one":"other"},15:function(a){return 0===a||te(a%100,2,10)?"few":te(a%100,11,19)?"many":1==a?"one":"other"},16:function(a){return a%10==1&&11!=a?"one":"other"},17:function(a){return 3==a?"few":0===a?"zero":6==a?"many":2==a?"two":1==a?"one":"other"},18:function(a){return 0===a?"zero":te(a,0,2)&&0!==a&&2!=a?"one":"other"},19:function(a){return te(a,2,10)?"few":te(a,0,1)?"one":"other"},20:function(a){return!te(a%10,3,4)&&a%10!=9||te(a%100,10,19)||te(a%100,70,79)||te(a%100,90,99)?a%1e6==0&&0!==a?"many":a%10!=2||$(a%100,[12,72,92])?a%10!=1||$(a%100,[11,71,91])?"other":"one":"two":"few"},21:function(a){return 0===a?"zero":1==a?"one":"other"},22:function(a){return te(a,0,1)||te(a,11,99)?"one":"other"},23:function(a){return te(a%10,1,2)||a%20==0?"one":"other"},24:function(a){return te(a,3,10)||te(a,13,19)?"few":$(a,[2,12])?"two":$(a,[1,11])?"one":"other"}},T={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[I.replace(/-.*$/,"")];return T in ae?ae[T]:(console.warn("plural form unknown for ["+I+"]"),function(){return"other"})}(o));var T="["+r._pluralRules(ae)+"]";return 0===ae&&$+"[zero]"in _?I=_[$+"[zero]"][te]:1==ae&&$+"[one]"in _?I=_[$+"[one]"][te]:2==ae&&$+"[two]"in _?I=_[$+"[two]"][te]:$+T in _?I=_[$+T][te]:$+"[other]"in _&&(I=_[$+"[other]"][te]),I},{get:function(I,z,$){var T,te=I.lastIndexOf("."),ae=P;te>0&&(ae=I.substring(te+1),I=I.substring(0,te)),$&&((T={})[ae]=$);var a=L(I,z,T);return a&&ae in a?a[ae]:"{{"+I+"}}"},getData:function(){return _},getText:function(){return S},getLanguage:function(){return o},setLanguage:function(I,z){g(I,function(){z&&z()})},getDirection:function(){var z=o.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(z)>=0?"rtl":"ltr"},translate:function X(I){for(var z=function f(I){return I?I.querySelectorAll("*[data-l10n-id]"):[]}(I=I||c.documentElement),$=z.length,te=0;te<$;te++)U(z[te]);U(I)},getReadyState:function(){return e},ready:function(I){I&&("complete"==e||"interactive"==e?O.setTimeout(function(){I()}):c.addEventListener&&c.addEventListener("localized",function z(){c.removeEventListener("localized",z),I()}))}}}(window,document)},(O,c,w)=>{var N,xt,H,ot,I,lt,$,Et,ae,Tt,a,Mt,n,ct,d,kt,A,Lt,B,Je,V,Ge,q,je,oe,Rt,K,ht,ne,ut,D,Ze,ue,Ft,fe,dt,be,Ot,Ce,ze;Object.defineProperty(c,"__esModule",{value:!0}),c.PDFFindController=c.FindState=void 0;var _=w(6),S=w(3),P=w(21);const o={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};c.FindState=o;const m={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},u=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),f=[...u.values()].map(Z=>String.fromCharCode(Z)).join(""),t=/\p{M}+/gu,i=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,p=/([^\p{M}])\p{M}*$/u,g=/^\p{M}*([^\p{M}])/u;let y=null;function E(Z){if(!y){const xe=Object.keys(m).join("");y=new RegExp(`([${xe}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const k=[];let R;for(;null!==(R=t.exec(Z));)k.push([R[0].length,R.index]);let se=Z.normalize("NFD");const ce=[[0,0]];let pe=0,ge=0,Pe=0,we=0,Me=!1;return se=se.replace(y,(xe,Re,Le,Ie,ke,Oe)=>{var Be;if(Oe-=Pe,Re){const Ne=m[xe],Ve=Ne.length;for(let De=1;De<Ve;De++)ce.push([Oe-ge+De,ge-De]);return ge-=Ve-1,Ne}if(Le){const Ne=Le.endsWith("\n"),Ve=Ne?Le.length-2:Le.length;Me=!0;let De=Ve;Oe+we===(null==(Be=k[pe])?void 0:Be[1])&&(De-=k[pe][0],++pe);for(let Fe=1;Fe<De+1;Fe++)ce.push([Oe-1-ge+Fe,ge-Fe]);return ge-=De,Pe+=De,Ne?(ce.push([(Oe+=Ve-1)-ge+1,1+ge]),ge+=1,Pe+=1,we+=1,Le.slice(0,Ve)):Le}return Ie?(ce.push([Oe-ge+1,1+ge]),ge+=1,Pe+=1,we+=1,Ie.charAt(0)):(ce.push([Oe-ge+1,ge-1]),ge-=1,Pe+=1,we+=1," ")}),ce.push([se.length,ge]),[se,ce,Me]}function L(Z,k,R){if(!Z)return[k,R];const se=k,ce=k+R;let pe=(0,_.binarySearchFirstItem)(Z,Pe=>Pe[0]>=se);Z[pe][0]>se&&--pe;let ge=(0,_.binarySearchFirstItem)(Z,Pe=>Pe[0]>=ce,pe);return Z[ge][0]>ce&&--ge,[se+Z[pe][1],R+Z[ge][1]-Z[pe][1]]}N=new WeakSet,xt=function(k){if(!k)return;const R=this._pdfDocument,{type:se}=k;(null===this._state||ye(this,$,Et).call(this,k))&&(this._dirtyMatch=!0),this._state=k,"highlightallchange"!==se&&ye(this,Ce,ze).call(this,o.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||R&&this._pdfDocument!==R)return;ye(this,A,Lt).call(this);const ce=!this._highlightMatches,pe=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),se?this._dirtyMatch?ye(this,q,je).call(this):"again"===se?(ye(this,q,je).call(this),ce&&this._state.highlightAll&&ye(this,V,Ge).call(this)):"highlightallchange"===se?(pe?ye(this,q,je).call(this):this._highlightMatches=!0,ye(this,V,Ge).call(this)):ye(this,q,je).call(this):this._findTimeout=setTimeout(()=>{ye(this,q,je).call(this),this._findTimeout=null},250)})},H=new WeakSet,ot=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,S.createPromiseCapability)()},I=new WeakSet,lt=function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=E(this._state.query)),this._normalizedQuery},$=new WeakSet,Et=function(k){if(k.query!==this._state.query)return!0;switch(k.type){case"again":const R=this._selected.pageIdx+1,se=this._linkService;return R>=1&&R<=se.pagesCount&&R!==se.page&&!se.isPageVisible(R);case"highlightallchange":return!1}return!0},ae=new WeakSet,Tt=function(k,R,se){let ce=k.slice(0,R).match(p);if(ce){const pe=k.charCodeAt(R),ge=ce[1].charCodeAt(0);if((0,P.getCharacterType)(pe)===(0,P.getCharacterType)(ge))return!1}if(ce=k.slice(R+se).match(g),ce){const pe=k.charCodeAt(R+se-1),ge=ce[1].charCodeAt(0);if((0,P.getCharacterType)(pe)===(0,P.getCharacterType)(ge))return!1}return!0},a=new WeakSet,Mt=function(k,R,se,ce){const pe=[],ge=[],Pe=this._pageDiffs[se];let we;for(;null!==(we=k.exec(ce));){if(R&&!ye(this,ae,Tt).call(this,ce,we.index,we[0].length))continue;const[Me,xe]=L(Pe,we.index,we[0].length);xe&&(pe.push(Me),ge.push(xe))}this._pageMatches[se]=pe,this._pageMatchesLength[se]=ge},n=new WeakSet,ct=function(k,R){const{matchDiacritics:se}=this._state;let ce=!1;return(k=k.replace(i,(ge,Pe,we,Me,xe,Re)=>Pe?`[ ]*\\${Pe}[ ]*`:we?`[ ]*${we}[ ]*`:Me?"[ ]+":se?xe||Re:xe?u.has(xe.charCodeAt(0))?xe:"":R?(ce=!0,`${Re}\\p{M}*`):Re)).endsWith("[ ]*")&&(k=k.slice(0,k.length-"[ ]*".length)),se&&R&&(ce=!0,k=`${k}(?=[${f}]|[^\\p{M}]|$)`),[ce,k]},d=new WeakSet,kt=function(k){let R=Ae(this,I,lt);if(0===R.length)return;const{caseSensitive:se,entireWord:ce,phraseSearch:pe}=this._state,ge=this._pageContents[k],Pe=this._hasDiacritics[k];let we=!1;if(pe)[we,R]=ye(this,n,ct).call(this,R,Pe);else{const Re=R.match(/\S+/g);Re&&(R=Re.sort().reverse().map(Le=>{const[Ie,ke]=ye(this,n,ct).call(this,Le,Pe);return we||(we=Ie),`(${ke})`}).join("|"))}R=new RegExp(R,`g${we?"u":""}${se?"":"i"}`),ye(this,a,Mt).call(this,R,ce,k,ge),this._state.highlightAll&&ye(this,B,Je).call(this,k),this._resumePageIdx===k&&(this._resumePageIdx=null,ye(this,K,ht).call(this));const xe=this._pageMatches[k].length;xe>0&&(this._matchesCountTotal+=xe,ye(this,be,Ot).call(this))},A=new WeakSet,Lt=function(){if(this._extractTextPromises.length>0)return;let k=Promise.resolve();for(let R=0,se=this._linkService.pagesCount;R<se;R++){const ce=(0,S.createPromiseCapability)();this._extractTextPromises[R]=ce.promise,k=k.then(()=>this._pdfDocument.getPage(R+1).then(pe=>pe.getTextContent()).then(pe=>{const ge=[];for(const Pe of pe.items)ge.push(Pe.str),Pe.hasEOL&&ge.push("\n");[this._pageContents[R],this._pageDiffs[R],this._hasDiacritics[R]]=E(ge.join("")),ce.resolve()},pe=>{console.error(`Unable to get text content for page ${R+1}`,pe),this._pageContents[R]="",this._pageDiffs[R]=null,this._hasDiacritics[R]=!1,ce.resolve()}))}},B=new WeakSet,Je=function(k){this._scrollMatches&&this._selected.pageIdx===k&&(this._linkService.page=k+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:k})},V=new WeakSet,Ge=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},q=new WeakSet,je=function(){const k=this._state.findPrevious,R=this._linkService.page-1,se=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=R,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,ye(this,V,Ge).call(this);for(let pe=0;pe<se;pe++)this._pendingFindMatches.has(pe)||(this._pendingFindMatches.add(pe),this._extractTextPromises[pe].then(()=>{this._pendingFindMatches.delete(pe),ye(this,d,kt).call(this,pe)}))}if(""===Ae(this,I,lt))return void ye(this,Ce,ze).call(this,o.FOUND);if(this._resumePageIdx)return;const ce=this._offset;if(this._pagesToSearch=se,null!==ce.matchIdx){const pe=this._pageMatches[ce.pageIdx].length;if(!k&&ce.matchIdx+1<pe||k&&ce.matchIdx>0)return ce.matchIdx=k?ce.matchIdx-1:ce.matchIdx+1,void ye(this,D,Ze).call(this,!0);ye(this,ne,ut).call(this,k)}ye(this,K,ht).call(this)},oe=new WeakSet,Rt=function(k){const R=this._offset,se=k.length,ce=this._state.findPrevious;return se?(R.matchIdx=ce?se-1:0,ye(this,D,Ze).call(this,!0),!0):(ye(this,ne,ut).call(this,ce),!!(R.wrapped&&(R.matchIdx=null,this._pagesToSearch<0))&&(ye(this,D,Ze).call(this,!1),!0))},K=new WeakSet,ht=function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let k=null;do{const R=this._offset.pageIdx;if(k=this._pageMatches[R],!k){this._resumePageIdx=R;break}}while(!ye(this,oe,Rt).call(this,k))},ne=new WeakSet,ut=function(k){const R=this._offset,se=this._linkService.pagesCount;R.pageIdx=k?R.pageIdx-1:R.pageIdx+1,R.matchIdx=null,this._pagesToSearch--,(R.pageIdx>=se||R.pageIdx<0)&&(R.pageIdx=k?se-1:0,R.wrapped=!0)},D=new WeakSet,Ze=function(k=!1){let R=o.NOT_FOUND;const se=this._offset.wrapped;if(this._offset.wrapped=!1,k){const ce=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,R=se?o.WRAPPED:o.FOUND,-1!==ce&&ce!==this._selected.pageIdx&&ye(this,B,Je).call(this,ce)}ye(this,Ce,ze).call(this,R,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,ye(this,B,Je).call(this,this._selected.pageIdx))},ue=new WeakSet,Ft=function(k){const R=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||R&&this._pdfDocument!==R||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),ye(this,Ce,ze).call(this,o.FOUND),this._highlightMatches=!1,ye(this,V,Ge).call(this))})},fe=new WeakSet,dt=function(){var pe;const{pageIdx:k,matchIdx:R}=this._selected;let se=0,ce=this._matchesCountTotal;if(-1!==R){for(let ge=0;ge<k;ge++)se+=(null==(pe=this._pageMatches[ge])?void 0:pe.length)||0;se+=R+1}return(se<1||se>ce)&&(se=ce=0),{current:se,total:ce}},be=new WeakSet,Ot=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:ye(this,fe,dt).call(this)})},Ce=new WeakSet,ze=function(k,R=!1){var se,ce;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:k,previous:R,matchesCount:ye(this,fe,dt).call(this),rawQuery:null!=(ce=null==(se=this._state)?void 0:se.query)?ce:null})},c.PDFFindController=class F{constructor({linkService:k,eventBus:R}){ve(this,N),ve(this,H),ve(this,I),ve(this,$),ve(this,ae),ve(this,a),ve(this,n),ve(this,d),ve(this,A),ve(this,B),ve(this,V),ve(this,q),ve(this,oe),ve(this,K),ve(this,ne),ve(this,D),ve(this,ue),ve(this,fe),ve(this,be),ve(this,Ce),this._linkService=k,this._eventBus=R,ye(this,H,ot).call(this),R._on("find",ye(this,N,xt).bind(this)),R._on("findbarclose",ye(this,ue,Ft).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(k){this._pdfDocument&&ye(this,H,ot).call(this),k&&(this._pdfDocument=k,this._firstPageCapability.resolve())}scrollMatchIntoView({element:k=null,selectedLeft:R=0,pageIndex:se=-1,matchIndex:ce=-1}){this._scrollMatches&&k&&-1!==ce&&ce===this._selected.matchIdx&&-1!==se&&se===this._selected.pageIdx&&(this._scrollMatches=!1,(0,_.scrollIntoView)(k,{top:-50,left:R+-400},!0))}}},(O,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CharacterType=void 0,c.getCharacterType=function t(i){return function _(i){return i<11904}(i)?function S(i){return 0==(65408&i)}(i)?function r(i){return 32===i||9===i||13===i||10===i}(i)?w.SPACE:function P(i){return i>=97&&i<=122||i>=65&&i<=90}(i)||function o(i){return i>=48&&i<=57}(i)||95===i?w.ALPHA_LETTER:w.PUNCT:function f(i){return 3584==(65408&i)}(i)?w.THAI_LETTER:160===i?w.SPACE:w.ALPHA_LETTER:function e(i){return i>=13312&&i<=40959||i>=63744&&i<=64255}(i)?w.HAN_LETTER:function s(i){return i>=12448&&i<=12543}(i)?w.KATAKANA_LETTER:function m(i){return i>=12352&&i<=12447}(i)?w.HIRAGANA_LETTER:function u(i){return i>=65376&&i<=65439}(i)?w.HALFWIDTH_KATAKANA_LETTER:w.ALPHA_LETTER};const w={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};c.CharacterType=w},(O,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFHistory=void 0,c.isDestArraysEqual=u,c.isDestHashesEqual=m;var _=w(6),S=w(17);function e(){return document.location.hash}function m(f,t){return"string"==typeof f&&"string"==typeof t&&(f===t||(0,_.parseQueryString)(f).get("nameddest")===t)}function u(f,t){function i(p,g){if(typeof p!=typeof g||Array.isArray(p)||Array.isArray(g))return!1;if(null!==p&&"object"==typeof p&&null!==g){if(Object.keys(p).length!==Object.keys(g).length)return!1;for(const y in p)if(!i(p[y],g[y]))return!1;return!0}return p===g||Number.isNaN(p)&&Number.isNaN(g)}if(!Array.isArray(f)||!Array.isArray(t)||f.length!==t.length)return!1;for(let p=0,g=f.length;p<g;p++)if(!i(f[p],t[p]))return!1;return!0}c.PDFHistory=class s{constructor({linkService:t,eventBus:i}){this.linkService=t,this.eventBus=i,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",p=>{this._isPagesLoaded=!!p.pagesCount},{once:!0})})}initialize({fingerprint:t,resetHistory:i=!1,updateUrl:p=!1}){if(!t||"string"!=typeof t)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const g=""!==this._fingerprint&&this._fingerprint!==t;this._fingerprint=t,this._updateUrl=!0===p,this._initialized=!0,this._bindEvents();const y=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=e(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(y,!0)||i){const{hash:L,page:F,rotation:N}=this._parseCurrentHash(!0);return!L||g||i?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:L,page:F,rotation:N},!0)}const E=y.destination;this._updateInternalState(E,y.uid,!0),void 0!==E.rotation&&(this._initialRotation=E.rotation),E.dest?(this._initialBookmark=JSON.stringify(E.dest),this._destination.page=null):E.hash?this._initialBookmark=E.hash:E.page&&(this._initialBookmark=`page=${E.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:t=null,explicitDest:i,pageNumber:p}){if(!this._initialized)return;if(t&&"string"!=typeof t)return void console.error(`PDFHistory.push: "${t}" is not a valid namedDest parameter.`);if(!Array.isArray(i))return void console.error(`PDFHistory.push: "${i}" is not a valid explicitDest parameter.`);if(!this._isValidPage(p)&&(null!==p||this._destination))return void console.error(`PDFHistory.push: "${p}" is not a valid pageNumber parameter.`);const g=t||JSON.stringify(i);if(!g)return;let y=!1;if(this._destination&&(m(this._destination.hash,g)||u(this._destination.dest,i))){if(this._destination.page)return;y=!0}this._popStateInProgress&&!y||(this._pushOrReplaceState({dest:i,hash:g,page:p,rotation:this.linkService.rotation},y),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(t){var i;if(this._initialized){if(!this._isValidPage(t))return void console.error(`PDFHistory.pushPage: "${t}" is not a valid page number.`);(null==(i=this._destination)?void 0:i.page)!==t&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${t}`,page:t,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const t=window.history.state;this._isValidState(t)&&t.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const t=window.history.state;this._isValidState(t)&&t.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(t,i=!1){const p=i||!this._destination,g={fingerprint:this._fingerprint,uid:p?this._uid:this._uid+1,destination:t};let y;if(this._updateInternalState(t,g.uid),this._updateUrl&&(null==t?void 0:t.hash)){const E=document.location.href.split("#")[0];E.startsWith("file://")||(y=`${E}#${t.hash}`)}p?window.history.replaceState(g,"",y):window.history.pushState(g,"",y)}_tryPushCurrentPosition(t=!1){if(!this._position)return;let i=this._position;if(t&&(i=Object.assign(Object.create(null),this._position),i.temporary=!0),!this._destination)return void this._pushOrReplaceState(i);if(this._destination.temporary)return void this._pushOrReplaceState(i,!0);if(this._destination.hash===i.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let p=!1;if(this._destination.page>=i.first&&this._destination.page<=i.page){if(void 0!==this._destination.dest||!this._destination.first)return;p=!0}this._pushOrReplaceState(i,p)}_isValidPage(t){return Number.isInteger(t)&&t>0&&t<=this.linkService.pagesCount}_isValidState(t,i=!1){if(!t)return!1;if(t.fingerprint!==this._fingerprint){if(!i)return!1;{if("string"!=typeof t.fingerprint||t.fingerprint.length!==this._fingerprint.length)return!1;const[p]=performance.getEntriesByType("navigation");if("reload"!==(null==p?void 0:p.type))return!1}}return!(!Number.isInteger(t.uid)||t.uid<0||null===t.destination||"object"!=typeof t.destination)}_updateInternalState(t,i,p=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),p&&(null==t?void 0:t.temporary)&&delete t.temporary,this._destination=t,this._uid=i,this._maxUid=Math.max(this._maxUid,i),this._numPositionUpdates=0}_parseCurrentHash(t=!1){const i=unescape(e()).substring(1),p=(0,_.parseQueryString)(i),g=p.get("nameddest")||"";let y=0|p.get("page");return(!this._isValidPage(y)||t&&g.length>0)&&(y=null),{hash:i,page:y,rotation:this.linkService.rotation}}_updateViewarea({location:t}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:t.pdfOpenParams.substring(1),page:this.linkService.page,first:t.pageNumber,rotation:t.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:t}){const i=e(),p=this._currentHash!==i;if(this._currentHash=i,!t){this._uid++;const{hash:y,page:E,rotation:L}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:y,page:E,rotation:L},!0)}if(!this._isValidState(t))return;this._popStateInProgress=!0,p&&(this._blockHashChange++,(0,S.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const g=t.destination;this._updateInternalState(g,t.uid,!0),(0,_.isValidRotation)(g.rotation)&&(this.linkService.rotation=g.rotation),g.dest?this.linkService.goToDestination(g.dest):g.hash?this.linkService.setHash(g.hash):g.page&&(this.linkService.page=g.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(O,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFScriptingManager=void 0;var _=w(6),S=w(3);c.PDFScriptingManager=class P{constructor({eventBus:r,sandboxBundleSrc:e=null,scriptingFactory:s=null,docPropertiesLookup:m=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=r,this._sandboxBundleSrc=e,this._scriptingFactory=s,this._docPropertiesLookup=m,this._scriptingFactory||window.addEventListener("updatefromsandbox",u=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:u.detail})})}setViewer(r){this._pdfViewer=r}setDocument(r){var e=this;return b(function*(){var f;if(e._pdfDocument&&(yield e._destroyScripting()),e._pdfDocument=r,!r)return;const[s,m,u]=yield Promise.all([r.getFieldObjects(),r.getCalculationOrderIds(),r.getJSActions()]);if(s||u){if(r===e._pdfDocument){try{e._scripting=e._createScripting()}catch(t){return console.error(`PDFScriptingManager.setDocument: "${null==t?void 0:t.message}".`),void(yield e._destroyScripting())}e._internalEvents.set("updatefromsandbox",t=>{(null==t?void 0:t.source)===window&&e._updateFromSandbox(t.detail)}),e._internalEvents.set("dispatcheventinsandbox",t=>{var i;null==(i=e._scripting)||i.dispatchEventInSandbox(t.detail)}),e._internalEvents.set("pagechanging",({pageNumber:t,previous:i})=>{t!==i&&(e._dispatchPageClose(i),e._dispatchPageOpen(t))}),e._internalEvents.set("pagerendered",({pageNumber:t})=>{!e._pageOpenPending.has(t)||t===e._pdfViewer.currentPageNumber&&e._dispatchPageOpen(t)}),e._internalEvents.set("pagesdestroy",function(){var t=b(function*(i){var p,g;yield e._dispatchPageClose(e._pdfViewer.currentPageNumber),yield null==(p=e._scripting)?void 0:p.dispatchEventInSandbox({id:"doc",name:"WillClose"}),null==(g=e._closeCapability)||g.resolve()});return function(i){return t.apply(this,arguments)}}()),e._domEvents.set("mousedown",t=>{e._mouseState.isDown=!0}),e._domEvents.set("mouseup",t=>{e._mouseState.isDown=!1});for(const[t,i]of e._internalEvents)e._eventBus._on(t,i);for(const[t,i]of e._domEvents)window.addEventListener(t,i,!0);try{const t=yield e._getDocProperties();if(r!==e._pdfDocument)return;yield e._scripting.createSandbox({objects:s,calculationOrder:m,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:Ye($e({},t),{actions:u})}),e._eventBus.dispatch("sandboxcreated",{source:e})}catch(t){return console.error(`PDFScriptingManager.setDocument: "${null==t?void 0:t.message}".`),void(yield e._destroyScripting())}yield null==(f=e._scripting)?void 0:f.dispatchEventInSandbox({id:"doc",name:"Open"}),yield e._dispatchPageOpen(e._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{r===e._pdfDocument&&(e._ready=!0)})}}else yield e._destroyScripting()})()}dispatchWillSave(r){var e=this;return b(function*(){var s;return null==(s=e._scripting)?void 0:s.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(r){var e=this;return b(function*(){var s;return null==(s=e._scripting)?void 0:s.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(r){var e=this;return b(function*(){var s;return null==(s=e._scripting)?void 0:s.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(r){var e=this;return b(function*(){var s;return null==(s=e._scripting)?void 0:s.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){var r;return(null==(r=this._destroyCapability)?void 0:r.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,S.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,S.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,S.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,S.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(r){var e=this;return b(function*(){var p;const s=e._pdfViewer.isInPresentationMode||e._pdfViewer.isChangingPresentationMode,{id:m,siblings:u,command:f,value:t}=r;if(!m){switch(f){case"clear":console.clear();break;case"error":console.error(t);break;case"layout":if(s)return;const g=(0,_.apiPageLayoutToViewerModes)(t);e._pdfViewer.spreadMode=g.spreadMode;break;case"page-num":e._pdfViewer.currentPageNumber=t+1;break;case"print":yield e._pdfViewer.pagesPromise,e._eventBus.dispatch("print",{source:e});break;case"println":console.log(t);break;case"zoom":if(s)return;e._pdfViewer.currentScaleValue=t;break;case"SaveAs":e._eventBus.dispatch("save",{source:e});break;case"FirstPage":e._pdfViewer.currentPageNumber=1;break;case"LastPage":e._pdfViewer.currentPageNumber=e._pdfViewer.pagesCount;break;case"NextPage":e._pdfViewer.nextPage();break;case"PrevPage":e._pdfViewer.previousPage();break;case"ZoomViewIn":if(s)return;e._pdfViewer.increaseScale();break;case"ZoomViewOut":if(s)return;e._pdfViewer.decreaseScale()}return}if(s&&r.focus)return;delete r.id,delete r.siblings;const i=u?[m,...u]:[m];for(const g of i){const y=document.getElementById(g);y?y.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:r})):null==(p=e._pdfDocument)||p.annotationStorage.setValue(g,r)}})()}_dispatchPageOpen(r,e=!1){var s=this;return b(function*(){const m=s._pdfDocument,u=s._visitedPages;if(e&&(s._closeCapability=(0,S.createPromiseCapability)()),!s._closeCapability)return;const f=s._pdfViewer.getPageView(r-1);if((null==f?void 0:f.renderingState)!==_.RenderingStates.FINISHED)return void s._pageOpenPending.add(r);s._pageOpenPending.delete(r);const t=b(function*(){var p,g;const i=yield u.has(r)?null:null==(p=f.pdfPage)?void 0:p.getJSActions();m===s._pdfDocument&&(yield null==(g=s._scripting)?void 0:g.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:r,actions:i}))})();u.set(r,t)})()}_dispatchPageClose(r){var e=this;return b(function*(){var f;const s=e._pdfDocument,m=e._visitedPages;if(!e._closeCapability||e._pageOpenPending.has(r))return;const u=m.get(r);!u||(m.set(r,null),yield u,s===e._pdfDocument&&(yield null==(f=e._scripting)?void 0:f.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:r})))})()}_getDocProperties(){var r=this;return b(function*(){if(r._docPropertiesLookup)return r._docPropertiesLookup(r._pdfDocument);const{docPropertiesLookup:e}=w(24);return e(r._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,S.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:r}=w(24);return new r(this._sandboxBundleSrc)}_destroyScripting(){var r=this;return b(function*(){var e,s;if(!r._scripting)return r._pdfDocument=null,void(null==(e=r._destroyCapability)||e.resolve());r._closeCapability&&(yield Promise.race([r._closeCapability.promise,new Promise(m=>{setTimeout(m,1e3)})]).catch(m=>{}),r._closeCapability=null),r._pdfDocument=null;try{yield r._scripting.destroySandbox()}catch(m){}for(const[m,u]of r._internalEvents)r._eventBus._off(m,u);r._internalEvents.clear();for(const[m,u]of r._domEvents)window.removeEventListener(m,u,!0);r._domEvents.clear(),r._pageOpenPending.clear(),r._visitedPages.clear(),r._scripting=null,delete r._mouseState.isDown,r._ready=!1,null==(s=r._destroyCapability)||s.resolve()})()}}},(O,c,w)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.GenericScripting=void 0,c.docPropertiesLookup=function S(r){return P.apply(this,arguments)};var _=w(3);function P(){return(P=b(function*(r){const s="".split("#")[0];let{info:m,metadata:u,contentDispositionFilename:f,contentLength:t}=yield r.getMetadata();if(!t){const{length:i}=yield r.getDownloadInfo();t=i}return Ye($e({},m),{baseURL:s,filesize:t,filename:f||(0,_.getPdfFilenameFromUrl)(""),metadata:null==u?void 0:u.getRaw(),authors:null==u?void 0:u.get("dc:creator"),numPages:r.numPages,URL:""})})).apply(this,arguments)}c.GenericScripting=class o{constructor(e){this._ready=(0,_.loadScript)(e,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(e){var s=this;return b(function*(){(yield s._ready).create(e)})()}dispatchEventInSandbox(e){var s=this;return b(function*(){const m=yield s._ready;setTimeout(()=>m.dispatchEvent(e),0)})()}destroySandbox(){var e=this;return b(function*(){(yield e._ready).nukeSandbox()})()}}}],ee={};function Q(O){var c=ee[O];if(void 0!==c)return c.exports;var w=ee[O]={exports:{}};return he[O](w,w.exports,Q),w.exports}var J={};return(()=>{var O=J;Object.defineProperty(O,"__esModule",{value:!0}),Object.defineProperty(O,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return P.AnnotationLayerBuilder}}),Object.defineProperty(O,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return c.DefaultAnnotationLayerFactory}}),Object.defineProperty(O,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return c.DefaultStructTreeLayerFactory}}),Object.defineProperty(O,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return c.DefaultTextLayerFactory}}),Object.defineProperty(O,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return c.DefaultXfaLayerFactory}}),Object.defineProperty(O,"DownloadManager",{enumerable:!0,get:function(){return o.DownloadManager}}),Object.defineProperty(O,"EventBus",{enumerable:!0,get:function(){return r.EventBus}}),Object.defineProperty(O,"GenericL10n",{enumerable:!0,get:function(){return e.GenericL10n}}),Object.defineProperty(O,"LinkTarget",{enumerable:!0,get:function(){return w.LinkTarget}}),Object.defineProperty(O,"NullL10n",{enumerable:!0,get:function(){return s.NullL10n}}),Object.defineProperty(O,"PDFFindController",{enumerable:!0,get:function(){return m.PDFFindController}}),Object.defineProperty(O,"PDFHistory",{enumerable:!0,get:function(){return u.PDFHistory}}),Object.defineProperty(O,"PDFLinkService",{enumerable:!0,get:function(){return w.PDFLinkService}}),Object.defineProperty(O,"PDFPageView",{enumerable:!0,get:function(){return f.PDFPageView}}),Object.defineProperty(O,"PDFScriptingManager",{enumerable:!0,get:function(){return t.PDFScriptingManager}}),Object.defineProperty(O,"PDFSinglePageViewer",{enumerable:!0,get:function(){return S.PDFSinglePageViewer}}),Object.defineProperty(O,"PDFViewer",{enumerable:!0,get:function(){return S.PDFViewer}}),Object.defineProperty(O,"ProgressBar",{enumerable:!0,get:function(){return _.ProgressBar}}),Object.defineProperty(O,"SimpleLinkService",{enumerable:!0,get:function(){return w.SimpleLinkService}}),Object.defineProperty(O,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return i.StructTreeLayerBuilder}}),Object.defineProperty(O,"TextLayerBuilder",{enumerable:!0,get:function(){return p.TextLayerBuilder}}),Object.defineProperty(O,"XfaLayerBuilder",{enumerable:!0,get:function(){return g.XfaLayerBuilder}}),Object.defineProperty(O,"parseQueryString",{enumerable:!0,get:function(){return _.parseQueryString}});var c=Q(1),w=Q(5),_=Q(6),S=Q(10),P=Q(2),o=Q(16),r=Q(17),e=Q(18),s=Q(4),m=Q(20),u=Q(22),f=Q(12),t=Q(23),i=Q(7),p=Q(8),g=Q(9)})(),J})(),de.exports=Q()},8926:de=>{function M(b,he,ee,Q,J,O,c){try{var w=b[O](c),_=w.value}catch(S){return void ee(S)}w.done?he(_):Promise.resolve(_).then(Q,J)}de.exports=function re(b){return function(){var he=this,ee=arguments;return new Promise(function(Q,J){var O=b.apply(he,ee);function c(_){M(O,Q,J,c,w,"next",_)}function w(_){M(O,Q,J,c,w,"throw",_)}c(void 0)})}},de.exports.__esModule=!0,de.exports.default=de.exports},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},2490:(de,M,re)=>{"use strict";var b;re.d(M,{xC:()=>o});var he=re(5e3),ee=re(6036);re(2813),function _(){return"undefined"==typeof window}()||function w(r,e,s){r[e]=s}(b||(b=re.t(ee,2)),"verbosity",ee.VerbosityLevel.INFOS);let o=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=he.oAB({type:r}),r.\u0275inj=he.cJS({}),r})()}}]);