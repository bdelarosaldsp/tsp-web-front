"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[909],{5909:(tt,p,s)=>{s.d(p,{w:()=>z});var i=s(3075);class f{static MatchPassword(r){var o,n,a;(null===(o=r.get("password"))||void 0===o?void 0:o.value)!==(null===(n=r.get("password_confirmation"))||void 0===n?void 0:n.value)&&(null===(a=r.get("password_confirmation"))||void 0===a||a.setErrors({ConfirmPassword:!0}))}}var v=s(7556),_=s(9648),h=s(5325),t=s(5e3),x=s(946);let T=(()=>{class e extends h.b{constructor(o,n){let a;a=n.getConfig().apiUrl,super(a+_.s.Endpoints.IDENTIFICATION_TYPES.BASE,o)}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(t.zs3),t.LFG(x.E))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var b=s(6996),u=s(4521),C=s(2290),d=s(9808);function F(e,r){if(1&e&&(t.ynx(0),t.TgZ(1,"div",10)(2,"div",11),t._uU(3),t.qZA()(),t.BQk()),2&e){const o=t.oxw();t.xp6(3),t.Oqu(o.errorState.message)}}function Z(e,r){if(1&e&&(t.ynx(0),t.TgZ(1,"div",12)(2,"div",13),t._uU(3),t.qZA()(),t.BQk()),2&e){const o=t.oxw();t.xp6(3),t.Oqu(o.errorState.message)}}function q(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"div",14)(1,"h3",15),t._uU(2,"Sus datos han sido registrados satisfactoriamente, hemos enviado un mensaje a su correo electronico con un enlace de activacion para su cuenta"),t.qZA(),t.TgZ(3,"button",16),t.NdJ("click",function(){return t.CHM(o),t.oxw().goToBack()}),t.TgZ(4,"span",17),t._uU(5,"Ir Al Inicio"),t.qZA()()()}}function w(e,r){if(1&e&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&e){const o=r.$implicit;t.Q6J("value",o.id),t.xp6(1),t.hij(" ",o.name," ")}}const l=function(e,r){return{"is-invalid":e,"is-valid":r}},I=function(e){return{validation:"required",message:"identificationtype_id is required",control:e}};function O(e,r){if(1&e&&(t.TgZ(0,"div",18)(1,"label",19),t._uU(2,"Tipo de documento"),t.qZA(),t.TgZ(3,"select",33),t.YNc(4,w,2,2,"option",34),t.qZA(),t.GkF(5,21),t.qZA()),2&e){const o=t.oxw(2),n=t.MAs(16);t.xp6(3),t.Q6J("ngClass",t.WLB(4,l,o.registrationForm.controls.identificationtype_id.invalid,o.registrationForm.controls.identificationtype_id.valid)),t.xp6(1),t.Q6J("ngForOf",o.identificationTypes),t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(7,I,o.registrationForm.controls.identificationtype_id))}}function y(e,r){1&e&&(t.ynx(0),t.TgZ(1,"div",36)(2,"div",37),t._uU(3," Las contrase\xf1as ingresadas no coinciden "),t.qZA()(),t.BQk())}function k(e,r){1&e&&(t.TgZ(0,"span",17),t._uU(1,"Registrarme"),t.qZA())}function A(e,r){1&e&&(t.ynx(0),t.TgZ(1,"span",38),t._uU(2," Por favor espera "),t._UZ(3,"span",39),t.qZA(),t.BQk()),2&e&&(t.xp6(1),t.Udp("display","block"))}const J=function(e){return{validation:"required",message:"firstname is required",control:e}},Q=function(e){return{validation:"minlength",message:"firstname should have at least 3 symbols",control:e}},N=function(e){return{validation:"maxLength",message:"firstname should have maximum 100 symbols",control:e}},L=function(e){return{validation:"required",message:"lastname is required",control:e}},U=function(e){return{validation:"minlength",message:"lastname should have at least 3 symbols",control:e}},S=function(e){return{validation:"maxLength",message:"lastname should have maximum 100 symbols",control:e}},E=function(e){return{validation:"required",message:"identification_number is required",control:e}},Y=function(e){return{validation:"required",message:"Email is required",control:e}},P=function(e){return{validation:"email",message:"Email is invalid",control:e}},R=function(e){return{validation:"minlength",message:"Email should have at least 3 symbols",control:e}},K=function(e){return{validation:"maxLength",message:"Email should have maximum 360 symbols",control:e}},V=function(e){return{validation:"required",message:"Password is required",control:e}},B=function(e){return{validation:"minlength",message:"Password should have at least 3 symbols",control:e}},M=function(e){return{validation:"maxLength",message:"Password should have maximum 100 symbols",control:e}},G=function(e){return{validation:"required",message:"Confirm Password is required",control:e}},W=function(e){return{validation:"minlength",message:"Confirm Password should have at least 3 symbols",control:e}},H=function(e){return{validation:"maxLength",message:"Confirm Password should have maximum 100 symbols",control:e}};function D(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"div")(1,"div",18)(2,"label",19),t._uU(3,"Nombres"),t.qZA(),t._UZ(4,"input",20),t.GkF(5,21)(6,21)(7,21),t.qZA(),t.TgZ(8,"div",18)(9,"label",19),t._uU(10,"Apellidos"),t.qZA(),t._UZ(11,"input",22),t.GkF(12,21)(13,21)(14,21),t.qZA(),t.YNc(15,O,6,9,"div",23),t.TgZ(16,"div",18)(17,"label",19),t._uU(18,"No Identificacion"),t.qZA(),t._UZ(19,"input",24),t.GkF(20,21),t.qZA(),t.TgZ(21,"div",25)(22,"label",19),t._uU(23,"Email"),t.qZA(),t._UZ(24,"input",26),t.GkF(25,21)(26,21)(27,21)(28,21),t.qZA(),t.TgZ(29,"div",27)(30,"label",19),t._uU(31,"Contrase\xf1a"),t.qZA(),t._UZ(32,"input",28),t.GkF(33,21)(34,21)(35,21),t.qZA(),t.TgZ(36,"div",25)(37,"label",19),t._uU(38,"Confirma tu contrase\xf1a"),t.qZA(),t._UZ(39,"input",29),t.GkF(40,21)(41,21)(42,21),t.YNc(43,y,4,0,"ng-container",7),t.qZA(),t.TgZ(44,"div",14)(45,"button",30),t.NdJ("click",function(){return t.CHM(o),t.oxw().submit()}),t.YNc(46,k,2,0,"span",31),t.ALo(47,"async"),t.YNc(48,A,4,2,"ng-container",7),t.ALo(49,"async"),t.qZA(),t.TgZ(50,"a",32),t._uU(51," Cancelar "),t.qZA()()()}if(2&e){const o=t.oxw(),n=t.MAs(16);t.xp6(4),t.Q6J("ngClass",t.WLB(49,l,o.registrationForm.controls.firstname.invalid,o.registrationForm.controls.firstname.valid)),t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(52,J,o.registrationForm.controls.firstname)),t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(54,Q,o.registrationForm.controls.firstname)),t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(56,N,o.registrationForm.controls.firstname)),t.xp6(4),t.Q6J("ngClass",t.WLB(58,l,o.registrationForm.controls.lastname.invalid,o.registrationForm.controls.lastname.valid)),t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(61,L,o.registrationForm.controls.lastname)),t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(63,U,o.registrationForm.controls.lastname)),t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(65,S,o.registrationForm.controls.lastname)),t.xp6(1),t.Q6J("ngIf",o.registrationForm.controls.firstname.valid&&o.registrationForm.controls.lastname.valid),t.xp6(4),t.Q6J("ngClass",t.WLB(67,l,o.registrationForm.controls.identification_number.invalid,o.registrationForm.controls.identification_number.valid)),t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(70,E,o.registrationForm.controls.identification_number)),t.xp6(4),t.Q6J("ngClass",t.WLB(72,l,o.registrationForm.controls.email.invalid,o.registrationForm.controls.email.valid)),t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(75,Y,o.registrationForm.controls.email)),t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(77,P,o.registrationForm.controls.email)),t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(79,R,o.registrationForm.controls.email)),t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(81,K,o.registrationForm.controls.email)),t.xp6(4),t.Q6J("ngClass",t.WLB(83,l,o.registrationForm.controls.password.invalid,o.registrationForm.controls.password.valid)),t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(86,V,o.registrationForm.controls.password)),t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(88,B,o.registrationForm.controls.password)),t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(90,M,o.registrationForm.controls.password)),t.xp6(4),t.Q6J("ngClass",t.WLB(92,l,o.registrationForm.controls.password_confirmation.invalid,o.registrationForm.controls.password_confirmation.valid)),t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(95,G,o.registrationForm.controls.password_confirmation)),t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(97,W,o.registrationForm.controls.password_confirmation)),t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(99,H,o.registrationForm.controls.password_confirmation)),t.xp6(1),t.Q6J("ngIf",o.registrationForm.controls.password_confirmation.errors&&o.registrationForm.controls.password_confirmation.errors.ConfirmPassword),t.xp6(2),t.Q6J("disabled",o.registrationForm.invalid),t.xp6(1),t.Q6J("ngIf",!t.lcZ(47,45,o.isLoading$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(49,47,o.isLoading$))}}function $(e,r){if(1&e&&(t.ynx(0),t.TgZ(1,"div",36)(2,"div",37)(3,"span",40),t._uU(4),t.qZA()()(),t.BQk()),2&e){const o=t.oxw().message;t.xp6(4),t.hij(" ",o," ")}}function j(e,r){if(1&e&&t.YNc(0,$,5,1,"ng-container",7),2&e){const o=r.control;t.Q6J("ngIf",o.hasError(r.validation)&&(o.dirty||o.touched))}}var m=(()=>{return(e=m||(m={}))[e.NotSubmitted=0]="NotSubmitted",e[e.HasError=1]="HasError",e[e.NoError=2]="NoError",m;var e})();let z=(()=>{class e{constructor(o,n,a,c,g,X){this.fb=o,this.authService=n,this.helper=a,this.router=c,this.toastr=g,this.identificationTypeService=X,this.Steep=1,this.errorState={state:m.NotSubmitted,message:""},this.errorStates=m,this.unsubscribe=[],this.isLoading$=this.authService.isLoading$,this.authService.isLoggedIn()&&this.router.navigate(["/"])}ngOnInit(){this.getIdentificationTypes(),this.initForm()}get f(){return this.registrationForm.controls}getIdentificationTypes(){this.identificationTypeService.getActives().subscribe(o=>{this.identificationTypes=o.data})}initForm(){this.registrationForm=this.fb.group({firstname:["",i.kI.compose([i.kI.required,i.kI.minLength(3),i.kI.maxLength(100)])],lastname:["",i.kI.compose([i.kI.required,i.kI.minLength(3),i.kI.maxLength(100)])],email:["".toUpperCase(),i.kI.compose([i.kI.required,i.kI.email,i.kI.minLength(3),i.kI.maxLength(320)])],password:["",i.kI.compose([i.kI.required,i.kI.minLength(3),i.kI.maxLength(15)])],password_confirmation:["",i.kI.compose([i.kI.required,i.kI.minLength(3),i.kI.maxLength(100)])],identification_number:["",i.kI.compose([i.kI.required])],identificationtype_id:["",i.kI.compose([i.kI.required])]},{validator:f.MatchPassword})}submit(){this.registrationForm.value.email=this.registrationForm.value.email.toUpperCase(),this.hasError=!1,this.authService.singUp(this.registrationForm.value).subscribe(o=>{o.data.user&&(this.errorState={state:m.NoError,message:o.data.message},this.Steep=2,this.helper.onSuccess(o.data.message))},o=>{var n,a,c,g;console.log(o),this.toastr.warning(o.errors[0]?o.errors[0]:"Hubo un error al intentar registrarse",o.code?o.code:"Datos invalidos"),this.errorState={state:m.HasError,message:(null===(a=null===(n=o.error)||void 0===n?void 0:n.data)||void 0===a?void 0:a.message)?null===(g=null===(c=o.error)||void 0===c?void 0:c.data)||void 0===g?void 0:g.message:"Hubo un error al intentar registrarse"},this.hasError=!0})}ngOnDestroy(){this.unsubscribe.forEach(o=>o.unsubscribe())}goToBack(){console.log("back"),this.router.navigate(["/"])}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(i.qu),t.Y36(v.e),t.Y36(b.W),t.Y36(u.F0),t.Y36(C._W),t.Y36(T))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-registration"]],decls:17,vars:7,consts:[["novalidate","novalidate","id","kt_login_signup_form",1,"form","w-100","fv-plugins-bootstrap5","fv-plugins-framework",3,"formGroup"],[1,"text-center","mb-3"],[1,"text-dark","mb-2"],[1,"text-gray-400","fw-bold","fs-4"],["routerLink","/auth/login",1,"link-primary","fw-bolder"],[1,"d-flex","align-items-center","mb-5"],[1,"border-bottom","border-gray-300","mw-50","w-100"],[4,"ngIf"],["class","text-center",4,"ngIf"],["formError",""],[1,"mb-lg-15","alert","alert-danger"],[1,"alert-text","font-weight-bold"],[1,"mb-10","bg-light-info","p-8","rounded"],[1,"text-info"],[1,"text-center"],[1,"mb-5"],[1,"btn","btn-lg","btn-primary","w-100","mb-5",3,"click"],[1,"indicator-label"],[1,"row","fv-row","mb-4"],[1,"form-label","fw-bolder","text-dark","fs-6"],["type","text","name","firstname","formControlName","firstname","placeholder","Nombres","autocomplete","off",1,"form-control","form-control-lg","form-control-solid",2,"text-transform","uppercase",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","text","name","lastname","formControlName","lastname","placeholder","Apellidos","autocomplete","off",1,"form-control","form-control-lg","form-control-solid",2,"text-transform","uppercase",3,"ngClass"],["class","row fv-row mb-4",4,"ngIf"],["type","text","name","identification_number","formControlName","identification_number","placeholder","NO IDENTIFICACION","autocomplete","off",1,"form-control","form-control-lg","form-control-solid",3,"ngClass"],[1,"fv-row","mb-4"],["type","email","placeholder","Email","name","email","formControlName","email","autocomplete","off",1,"form-control","form-control-lg","form-control-solid",2,"text-transform","uppercase",3,"ngClass"],[1,"mb-4","fv-row"],["type","password","placeholder","CONTRASE\xd1A","name","password","formControlName","password","autocomplete","off",1,"form-control","form-control-lg","form-control-solid",3,"ngClass"],["type","password","placeholder","CONFIRMA TU CONTRASE\xd1A","name","password_confirmation","autocomplete","off","formControlName","password_confirmation",1,"form-control","form-control-lg","form-control-solid",3,"ngClass"],["id","kt_sign_up_submit",1,"btn","btn-lg","btn-primary","w-100","mb-5",3,"disabled","click"],["class","indicator-label",4,"ngIf"],["routerLink","/auth/login","type","button","id","kt_login_signup_form_cancel_button",1,"btn","btn-lg","btn-light-primary","w-100","mb-5"],["name","model.header.left","formControlName","identificationtype_id",1,"form-control","form-control-lg","form-control-solid",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"fv-plugins-message-container"],[1,"fv-help-block"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],["role","alert"]],template:function(o,n){1&o&&(t.TgZ(0,"form",0)(1,"div",1)(2,"h1",2),t._uU(3,"Crear una cuenta"),t.qZA(),t.TgZ(4,"div",3),t._uU(5," \xbfYa tienes una cuenta? "),t.TgZ(6,"a",4),t._uU(7,"Inicia session"),t.qZA()()(),t.TgZ(8,"div",5),t._UZ(9,"div",6)(10,"div",6),t.qZA(),t.YNc(11,F,4,1,"ng-container",7),t.YNc(12,Z,4,1,"ng-container",7),t.YNc(13,q,6,0,"div",8),t.YNc(14,D,52,101,"div",7),t.qZA(),t.YNc(15,j,1,1,"ng-template",null,9,t.W1O)),2&o&&(t.Q6J("formGroup",n.registrationForm),t.xp6(6),t.Udp("margin-left","5px"),t.xp6(5),t.Q6J("ngIf",n.errorState.state===n.errorStates.HasError),t.xp6(1),t.Q6J("ngIf",n.errorState.state===n.errorStates.NoError),t.xp6(1),t.Q6J("ngIf",2==n.Steep),t.xp6(1),t.Q6J("ngIf",1==n.Steep))},directives:[i._Y,i.JL,i.sg,u.yS,d.O5,i.Fj,i.JJ,i.u,d.mk,d.tP,i.EJ,d.sg,i.YN,i.Kr],pipes:[d.Ov],styles:["[_nghost-%COMP%]{width:100%}@media (min-width: 992px){[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:450px}[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}}"]}),e})()}}]);