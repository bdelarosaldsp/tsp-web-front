"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[756],{8756:(Eo,Y,c)=>{c.r(Y),c.d(Y,{RndcModule:()=>Ao});var Z=c(9808),N=c(4521),_=c(3075),g=c(4004),M=c(9012),F=c(6199),$=c(4614),u=c(9648),t=c(5e3),d=c(8966),U=c(2290),f=c(9224),q=c(4834),T=c(7322),A=c(7531),O=c(1079),S=c(508),E=c(9814),x=c(7423),h=c(1125);function J(e,n){if(1&e&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o),t.xp6(1),t.Oqu(o.cliente_cod)}}function P(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",22)(1,"button",23),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).onSearch()}),t.TgZ(2,"span",2),t._uU(3," search "),t.qZA(),t._uU(4," Consultar "),t.qZA()()}if(2&e){const o=t.oxw(2);t.xp6(1),t.Q6J("disabled",o.progressbar)}}function j(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",5)(1,"button",24),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).onClear()}),t.TgZ(2,"span",2),t._uU(3," cached "),t.qZA(),t._uU(4," Limpiar panel "),t.qZA()()}}function L(e,n){if(1&e&&(t.TgZ(0,"div",5)(1,"div",14)(2,"mat-form-field",15)(3,"mat-label"),t._uU(4,"Documento:"),t.qZA(),t._UZ(5,"input",16),t.qZA()(),t.TgZ(6,"div",14)(7,"label",17),t._uU(8,"Elija una opci\xf3n:"),t.qZA(),t._UZ(9,"br"),t.TgZ(10,"mat-radio-group",18)(11,"mat-radio-button",19),t._uU(12,"Planilla"),t.qZA(),t.TgZ(13,"mat-radio-button",20),t._uU(14,"Remesa"),t.qZA()()(),t.TgZ(15,"div",14),t.YNc(16,P,5,1,"div",21),t.YNc(17,j,5,0,"div",11),t.qZA()()),2&e){const o=t.oxw();t.xp6(5),t.Q6J("formControl",o.controlDoc),t.xp6(5),t.Q6J("formControl",o.controlType)("disabled",o.datosrndc.length>0),t.xp6(6),t.Q6J("ngIf",o.control.valid&&o.controlDoc.valid&&o.controlType.valid&&0==o.datosrndc.length),t.xp6(1),t.Q6J("ngIf",o.control.valid&&o.controlDoc.valid&&o.controlType.valid&&o.datosrndc.length>0)}}function H(e,n){1&e&&(t.TgZ(0,"mat-panel-title"),t._uU(1," Detalles de planilla "),t.qZA())}function z(e,n){1&e&&(t.TgZ(0,"mat-panel-title"),t._uU(1," Detalles de remesa "),t.qZA())}function W(e,n){1&e&&(t.TgZ(0,"mat-panel-description"),t._uU(1," Informaci\xf3n acerca de la planilla "),t.qZA())}function G(e,n){1&e&&(t.TgZ(0,"mat-panel-description"),t._uU(1," Informaci\xf3n acerca de la remesa "),t.qZA())}function V(e,n){1&e&&(t.TgZ(0,"table",29)(1,"tr")(2,"td",30)(3,"strong"),t._uU(4,"Factura"),t.qZA(),t._uU(5,": "),t.qZA(),t.TgZ(6,"td",31)(7,"strong"),t._uU(8,"Estado"),t.qZA(),t._uU(9,": "),t.qZA(),t.TgZ(10,"td",31)(11,"strong"),t._uU(12,"Custodia"),t.qZA(),t._uU(13,": "),t.qZA()(),t.TgZ(14,"tr")(15,"td",31)(16,"strong"),t._uU(17,"Aliado"),t.qZA(),t._uU(18,": "),t.qZA(),t.TgZ(19,"td",31)(20,"strong"),t._uU(21,"Ingresada en agencia"),t.qZA(),t._uU(22,": \xa0"),t.qZA(),t.TgZ(23,"td",31)(24,"strong"),t._uU(25,"Destinatario"),t.qZA(),t._uU(26,": "),t.qZA()(),t.TgZ(27,"tr")(28,"td",31)(29,"strong"),t._uU(30,"Doc. referencia"),t.qZA(),t._uU(31,": "),t.qZA(),t.TgZ(32,"td",31)(33,"strong"),t._uU(34,"Fecha Doctura"),t.qZA(),t._uU(35,": "),t.qZA(),t.TgZ(36,"td",31)(37,"strong"),t._uU(38,"Fecha Recibo en Bodega"),t.qZA(),t._uU(39,": "),t.qZA()(),t.TgZ(40,"tr")(41,"td",31)(42,"strong"),t._uU(43,"Manifiesto [\xfaltimo generado]"),t.qZA(),t._uU(44,": "),t.qZA(),t.TgZ(45,"td",31)(46,"strong"),t._uU(47,"Estado actual del manifiesto"),t.qZA(),t._uU(48,": "),t.qZA(),t.TgZ(49,"td",31)(50,"strong"),t._uU(51,"Fecha de entrega[]"),t.qZA(),t._uU(52,":"),t.qZA()()())}function X(e,n){if(1&e&&(t.TgZ(0,"div",5),t.YNc(1,V,53,0,"table",28),t.qZA()),2&e){const o=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",o.datosrndc)}}function K(e,n){if(1&e&&(t.TgZ(0,"div",25)(1,"mat-accordion",26)(2,"mat-expansion-panel")(3,"mat-expansion-panel-header"),t.YNc(4,H,2,0,"mat-panel-title",27),t.YNc(5,z,2,0,"mat-panel-title",27),t.YNc(6,W,2,0,"mat-panel-description",27),t.YNc(7,G,2,0,"mat-panel-description",27),t.qZA(),t.YNc(8,X,2,1,"div",11),t.qZA()()()),2&e){const o=t.oxw();t.xp6(4),t.Q6J("ngIf","1"===o.controlType.value),t.xp6(1),t.Q6J("ngIf","2"===o.controlType.value),t.xp6(1),t.Q6J("ngIf","1"===o.controlType.value),t.xp6(1),t.Q6J("ngIf","2"===o.controlType.value),t.xp6(1),t.Q6J("ngIf",o.datosrndc.length>0)}}let Q=(()=>{class e{constructor(o,i,a,r,s,m,p){var C;this.clientService=o,this.dialog=i,this.toastr=a,this.cdr=r,this.traza=s,this.router=m,this.imgservice=p,this.control=new _.NI("",[_.kI.required]),this.controlDoc=new _.NI("",[_.kI.required]),this.controlType=new _.NI("",[_.kI.required]),this.progressbar=!1,this.datosrndc=[],this.label="",this.user=null===(C=u.s.AUTH.getUser())||void 0===C?void 0:C.email,this.FacturaCabeza=[],this.MasivoFac=[{origen:"",ossm:"",salida:"",placa:"",tipo_vehiculo:"",conductor:""}],this.PedidosFac=[{orden_carga:"",pedido:"",documento_ref:"",fecha_pedido:"",cajas:"",peso:"",vol:"",cod_bodega:"",fecha_ent_cliente:"",programado:"",usuario_prog:"",anulado:"",OD_anulado:"",usuario_anula:""}],this.OrdenesDes=[{cod_manifi:"",OC:"",fechaOC:"",OD:"",fechaOD:"",remesa:"",placa:"",destino:"",cajas:"",usuario:"",despachador:"",anula:""}],this.Novedades=[{cod_manifi:"",oc:"",codnov:"",novedad:"",fecnov:"",fecha_cierre:"",tipo_novedad:"",cajas_ajus:"",cierre_solucion:""}],this.NovedadesConf=[{cod_manifi:"",usuario_confirma:"",observacion_confirma:"",fecnov:"",fecha_cierre:"",cajas_confirma:"",unidades_confirma:"",cierre_solucion:"",SOLUCION_TRATAMIENTO:""}],this.Cumplidos=[{cod_manifi:"",feccumldsp:"",usuario:"",fecsistema:"",fecha:"",comentario:"",factura:""}],this.Images=[],this.getClients()}ngOnInit(){var o;void 0===(null===(o=u.s.AUTH.getAgency())||void 0===o?void 0:o.vus_codage)&&(this.toastr.warning("Debe seleccionar una agencia"),this.router.navigate(["/"])),this.filteredOptions=this.control.valueChanges.pipe((0,g.U)(i=>{const a="string"==typeof i?i.toLowerCase():null==i?void 0:i.cliente_cod.toLowerCase();return this.options.filter(r=>r.cliente_cod.toLowerCase().includes(a))}))}getClients(){this.clientService.getClients(this.user).subscribe(o=>{this.options=o.data})}displayFn(o){return o&&o.cliente_cod?o.cliente_cod:""}onSearch(){}onClear(){this.Images.length=0,this.FacturaCabeza.length=0,this.cdr.detectChanges(),this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/rndc"])})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(M.a),t.Y36(d.uw),t.Y36(U._W),t.Y36(t.sBO),t.Y36($.s),t.Y36(N.F0),t.Y36(F.B))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-search"]],decls:23,vars:8,consts:[[1,"container","text-center"],["mat-card-avatar",""],[1,"material-icons"],[2,"margin-top","30px"],[1,"row","text-center"],[1,"row"],["appearance","legacy"],["type","text","placeholder","Nombre del cliente","aria-label","Cliente","matInput","",3,"formControl","matAutocomplete"],[3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],["class","container",4,"ngIf"],[3,"value"],[1,"col"],["appearance","outline"],["matInput","","placeholder","Documento",3,"formControl"],[2,"padding-right","5px"],[3,"formControl","disabled"],["value","1"],["value","2"],["style","height:50px ;","class","row",4,"ngIf"],[1,"row",2,"height","50px"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","color","warn",2,"height","50px",3,"click"],[1,"container"],["multi","",1,"headers-align"],[4,"ngIf"],["text_align","Center","width","100%",4,"ngFor","ngForOf"],["text_align","Center","width","100%"],["text_align","left","width","35%"],["text_align","left"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"div",1)(4,"span",2),t._uU(5," search "),t.qZA()(),t.TgZ(6,"mat-card-title"),t._uU(7,"Consulta de planilla y remesa rndc"),t.qZA()(),t._UZ(8,"mat-divider"),t.TgZ(9,"mat-card-content",3)(10,"div",4)(11,"div",5)(12,"mat-form-field",6)(13,"mat-label"),t._uU(14,"Cliente"),t.qZA(),t._UZ(15,"input",7),t.TgZ(16,"mat-autocomplete",8,9),t.YNc(18,J,2,2,"mat-option",10),t.ALo(19,"async"),t.qZA()()(),t.YNc(20,L,18,5,"div",11),t.qZA()()()(),t._UZ(21,"br"),t.YNc(22,K,9,5,"div",12)),2&o){const a=t.MAs(17);t.xp6(15),t.Q6J("formControl",i.control)("matAutocomplete",a),t.xp6(1),t.Q6J("displayWith",i.displayFn),t.xp6(2),t.Q6J("ngForOf",t.lcZ(19,6,i.filteredOptions)),t.xp6(2),t.Q6J("ngIf",i.control.valid),t.xp6(2),t.Q6J("ngIf",i.datosrndc.length>0)}},directives:[f.a8,f.dk,f.kc,f.n5,q.d,f.dn,T.KE,T.hX,A.Nt,_.Fj,O.ZL,_.JJ,_.oH,O.XC,Z.sg,S.ey,Z.O5,E.VQ,E.U0,x.lW,h.pp,h.ib,h.yz,h.yK,h.u4],pipes:[Z.Ov],styles:[".mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:16px}"]}),e})();var D=c(6087),l=c(8279),tt=c(5325),et=c(946);let y=(()=>{class e extends tt.b{constructor(o,i){let a;a=i.getConfig().apiUrl,super(a+u.s.Endpoints.RNDC.BASE,o)}getErrores(o,i,a,r,s,m,p){return this.globalService.get(`${this.urlBase}${u.s.Endpoints.RNDC.GET_ERRORES}/${o}/${i}/${a}/${r}/${s}/${m}/${p}`).pipe((0,g.U)(C=>C))}getDetalle(o){return this.globalService.get(`${this.urlBase}${u.s.Endpoints.RNDC.GET_DETALLE}/${o}`).pipe((0,g.U)(i=>i))}getDetalleError(o){return this.globalService.get(`${this.urlBase}${u.s.Endpoints.RNDC.GET_DETALLE_ERR}/${o}`).pipe((0,g.U)(i=>i))}getCabeza(o){return this.globalService.get(`${this.urlBase}${u.s.Endpoints.RNDC.GET_CABEZA}/${o}`).pipe((0,g.U)(i=>i))}getDestinatarios(o){return this.globalService.get(`${this.urlBase}${u.s.Endpoints.RNDC.GET_DESTINATARIOS}/${o}`).pipe((0,g.U)(i=>i))}getPropietarios(){return this.globalService.get(`${this.urlBase}${u.s.Endpoints.RNDC.GET_PROPIETARIOS}`).pipe((0,g.U)(o=>o))}SetDestinatario(o){return this.globalService.get(`${this.urlBase}${u.s.Endpoints.RNDC.SET_DESTINATARIO}/${o}`).pipe((0,g.U)(i=>i))}saveRegister(o){return this.globalService.post(this.urlBase+u.s.Endpoints.RNDC.SAVE_REGISTER,o).pipe((0,g.U)(i=>i))}reSend(o){return this.globalService.get(`${this.urlBase}${u.s.Endpoints.RNDC.RESEND}/${o}`).pipe((0,g.U)(i=>i))}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(t.zs3),t.LFG(et.E))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ot=c(5226),I=c.n(ot),R=c(5899),w=c(6266),b=c(5245);function nt(e,n){1&e&&t._UZ(0,"mat-progress-bar",21)}function it(e,n){1&e&&(t.TgZ(0,"th",22),t._uU(1,"COD_PTO"),t.qZA())}function at(e,n){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.cod_pto," ")}}function rt(e,n){1&e&&(t.TgZ(0,"th",22),t._uU(1,"NOMBRE"),t.qZA())}function ct(e,n){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.nombre_destinatario," ")}}function lt(e,n){1&e&&(t.TgZ(0,"th",22),t._uU(1,"OTM"),t.qZA())}function st(e,n){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.otm," ")}}function mt(e,n){1&e&&(t.TgZ(0,"th",22),t._uU(1," INSTALACION"),t.qZA())}function _t(e,n){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.instalacion," ")}}function dt(e,n){1&e&&(t.TgZ(0,"th",22),t._uU(1," SELECCIONAR "),t.qZA())}function pt(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"td",23)(1,"button",24),t.NdJ("click",function(){const r=t.CHM(o).$implicit;return t.oxw(2).selectValue(r)}),t.TgZ(2,"mat-icon"),t._uU(3,"check"),t.qZA()()()}}function ut(e,n){1&e&&t._UZ(0,"tr",25)}function ft(e,n){1&e&&t._UZ(0,"tr",26)}const k=function(){return[5,10,25]};function ht(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"mat-form-field",5)(3,"mat-label"),t._uU(4,"Filtrar"),t.qZA(),t.TgZ(5,"input",6,7),t.NdJ("keyup",function(a){return t.CHM(o),t.oxw().applyFilter(a)}),t.qZA()()(),t.TgZ(7,"div",4),t.YNc(8,nt,1,0,"mat-progress-bar",8),t.TgZ(9,"table",9,10),t.ynx(12,11),t.YNc(13,it,2,0,"th",12),t.YNc(14,at,2,1,"td",13),t.BQk(),t.ynx(15,14),t.YNc(16,rt,2,0,"th",12),t.YNc(17,ct,2,1,"td",13),t.BQk(),t.ynx(18,15),t.YNc(19,lt,2,0,"th",12),t.YNc(20,st,2,1,"td",13),t.BQk(),t.ynx(21,16),t.YNc(22,mt,2,0,"th",12),t.YNc(23,_t,2,1,"td",13),t.BQk(),t.ynx(24,17),t.YNc(25,dt,2,0,"th",12),t.YNc(26,pt,4,0,"td",13),t.BQk(),t.YNc(27,ut,1,0,"tr",18),t.YNc(28,ft,1,0,"tr",19),t.qZA(),t._UZ(29,"mat-paginator",20),t.qZA()()}if(2&e){const o=t.oxw();t.xp6(8),t.Q6J("ngIf",o.progressbar),t.xp6(1),t.Q6J("dataSource",o.datasource),t.xp6(18),t.Q6J("matHeaderRowDef",o.displayedColumnsDest),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumnsDest),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(5,k))}}function gt(e,n){1&e&&t._UZ(0,"mat-progress-bar",21)}function Tt(e,n){1&e&&(t.TgZ(0,"th",22),t._uU(1,"OTM"),t.qZA())}function Ct(e,n){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.otm," ")}}function Zt(e,n){1&e&&(t.TgZ(0,"th",22),t._uU(1,"MINTR"),t.qZA())}function xt(e,n){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.mintr," ")}}function vt(e,n){1&e&&(t.TgZ(0,"th",22),t._uU(1,"SEDE_MINTR"),t.qZA())}function At(e,n){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.sede_mintr," ")}}function Et(e,n){1&e&&(t.TgZ(0,"th",22),t._uU(1," TIPO_DOC"),t.qZA())}function Dt(e,n){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.tipodoc_mintr," ")}}function Nt(e,n){1&e&&(t.TgZ(0,"th",22),t._uU(1," SELECCIONAR "),t.qZA())}function Ut(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"td",23)(1,"button",24),t.NdJ("click",function(){const r=t.CHM(o).$implicit;return t.oxw(2).selectValue(r)}),t.TgZ(2,"mat-icon"),t._uU(3,"check"),t.qZA()()()}}function It(e,n){1&e&&t._UZ(0,"tr",25)}function bt(e,n){1&e&&t._UZ(0,"tr",26)}function qt(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"mat-form-field",5)(3,"mat-label"),t._uU(4,"Filtrar"),t.qZA(),t.TgZ(5,"input",27,7),t.NdJ("keyup",function(a){return t.CHM(o),t.oxw().applyFilter(a)}),t.qZA()()(),t.TgZ(7,"div",4),t.YNc(8,gt,1,0,"mat-progress-bar",8),t.TgZ(9,"table",9,10),t.ynx(12,15),t.YNc(13,Tt,2,0,"th",12),t.YNc(14,Ct,2,1,"td",13),t.BQk(),t.ynx(15,28),t.YNc(16,Zt,2,0,"th",12),t.YNc(17,xt,2,1,"td",13),t.BQk(),t.ynx(18,29),t.YNc(19,vt,2,0,"th",12),t.YNc(20,At,2,1,"td",13),t.BQk(),t.ynx(21,30),t.YNc(22,Et,2,0,"th",12),t.YNc(23,Dt,2,1,"td",13),t.BQk(),t.ynx(24,17),t.YNc(25,Nt,2,0,"th",12),t.YNc(26,Ut,4,0,"td",13),t.BQk(),t.YNc(27,It,1,0,"tr",18),t.YNc(28,bt,1,0,"tr",19),t.qZA(),t._UZ(29,"mat-paginator",20),t.qZA()()}if(2&e){const o=t.oxw();t.xp6(8),t.Q6J("ngIf",o.progressbar),t.xp6(1),t.Q6J("dataSource",o.datasource),t.xp6(18),t.Q6J("matHeaderRowDef",o.displayedColumnsProp),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumnsProp),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(5,k))}}const Ot=[];let St=(()=>{class e{constructor(o,i,a,r,s){this.dialogRef=o,this.cdr=i,this.rndcService=a,this.toastr=r,this.data=s,this.progressbar=!1,this.datareturn=[],this.datasource=new l.by(Ot),this.displayedColumnsDest=["cod_pto","nombre_destinatario","otm","instalacion","seleccionar"],this.displayedColumnsProp=["otm","mintr","sede_mintr","tipodoc_mintr","seleccionar"],o.beforeClosed().subscribe(()=>o.close(this.datareturn))}ngOnInit(){console.log(this.data.nom_campo),"NUMIDDESTINATARIO"===this.data.nom_campo?(this.progressbar=!0,this.rndcService.getDestinatarios(this.data.sucursal).subscribe({next:o=>{this.datasource.data=o.data.dest,this.datasource.paginator=this.paginator},error:o=>{console.log(o)},complete:()=>{this.progressbar=!1}})):"NUMIDPROPIETARIO"===this.data.nom_campo&&(this.progressbar=!0,this.rndcService.getPropietarios().subscribe({next:o=>{this.datasource.data=o.data.prop,this.datasource.paginator=this.paginator},error:o=>{console.log(o)},complete:()=>{this.progressbar=!1}}))}applyFilter(o){this.datasource.filter=o.target.value.trim().toLowerCase(),this.datasource.paginator&&this.datasource.paginator.firstPage()}selectValue(o){"NUMIDDESTINATARIO"===this.data.nom_campo?this.rndcService.SetDestinatario(o.otm).subscribe({next:i=>{this.datareturn=i.data.analog[0],this.dialogRef.close(this.datareturn)},error:i=>{console.log(i)}}):"NUMIDPROPIETARIO"===this.data.nom_campo&&(this.datareturn=o,this.dialogRef.close(this.datareturn))}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(d.so),t.Y36(t.sBO),t.Y36(y),t.Y36(U._W),t.Y36(d.WI))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-data-search"]],viewQuery:function(o,i){if(1&o&&t.Gf(D.NW,5),2&o){let a;t.iGM(a=t.CRH())&&(i.paginator=a.first)}},decls:6,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["class","col",4,"ngIf"],[1,"col"],[1,"row"],[1,"mat-mdc-form-field"],["matInput","","placeholder","Nombre, cod_pto",3,"keyup"],["input",""],["mode","query",4,"ngIf"],["mat-table","","matTableExporter","",3,"dataSource"],["table","matTable","exporter","matTableExporter"],["matColumnDef","cod_pto"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre_destinatario"],["matColumnDef","otm"],["matColumnDef","instalacion"],["matColumnDef","seleccionar"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Seleccione p\xe1gina",3,"pageSizeOptions"],["mode","query"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],["matInput","","placeholder","Otm, Mintr",3,"keyup"],["matColumnDef","mintr"],["matColumnDef","sede_mintr"],["matColumnDef","tipodoc_mintr"]],template:function(o,i){1&o&&(t.TgZ(0,"h1",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1),t._UZ(3,"p"),t.YNc(4,ht,30,6,"div",2),t.YNc(5,qt,30,6,"div",2),t.qZA()),2&o&&(t.xp6(1),t.hij("Buscar ",i.data.nom_campo.replace("NUMID",""),""),t.xp6(3),t.Q6J("ngIf","NUMIDDESTINATARIO"===i.data.nom_campo),t.xp6(1),t.Q6J("ngIf","NUMIDPROPIETARIO"===i.data.nom_campo))},directives:[d.uh,d.xY,Z.O5,T.KE,T.hX,A.Nt,R.pW,l.BZ,w.jt,l.w1,l.fO,l.ge,l.Dz,l.ev,x.lW,b.Hw,l.as,l.XQ,l.nj,l.Gk,D.NW],styles:["table[_ngcontent-%COMP%]{width:100%;margin:1rem auto}.mat-row[_ngcontent-%COMP%]{height:auto}.mat-cell[_ngcontent-%COMP%]{text-align:center;font-size:12px}.mat-header-cell[_ngcontent-%COMP%]{background-color:#4682b4;color:#f5f5f5;text-align:center;min-width:120px;min-height:45px;font-size:12px}"]}),e})();function yt(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(o);const a=t.oxw().$implicit;return t.oxw().searchData(a.nom_rndc)}),t.TgZ(1,"span",13),t._uU(2," search "),t.qZA()()}}function Rt(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",7)(1,"div",8)(2,"mat-form-field",9)(3,"mat-label"),t._uU(4),t.qZA(),t.TgZ(5,"input",10),t.NdJ("change",function(a){return t.CHM(o),t.oxw().editValue(a)}),t.qZA(),t.YNc(6,yt,3,0,"button",11),t.qZA()()()}if(2&e){const o=n.$implicit;t.xp6(4),t.hij(" ",o.nom_pantalla,""),t.xp6(1),t.s9C("id",o.nom_rndc),t.Q6J("placeholder",o.alt)("readonly","1"!==o.editable),t.xp6(1),t.Q6J("ngIf","NUMIDDESTINATARIO"===o.nom_rndc||"NUMIDREMITENTE"===o.nom_rndc||"NUMIDPROPIETARIO"===o.nom_rndc)}}function Yt(e,n){1&e&&(t.TgZ(0,"button",14),t._uU(1,"Anular"),t.qZA()),2&e&&t.Q6J("mat-dialog-close",!1)}let Qt=(()=>{class e{constructor(o,i,a,r,s,m){this.dialogRef=o,this.dialog=i,this.cdr=a,this.rndcService=r,this.toastr=s,this.data=m,this.detsave=[],this.proceso="",this.proceso=m.cabecera[0].proceso}ngOnInit(){}ngAfterViewInit(){setTimeout(()=>{this.data.detalle.forEach(o=>{document.getElementById(o.campo).value=o.valor})},0)}setValue(o){console.log(o.srcElement.id);var i=this.data.detalle.find(a=>a.campo==o.srcElement.id);document.getElementById(o.srcElement.id).value=void 0===i?"Sin Valor":i.valor}editValue(o){var i=this.data.detalle.find(a=>a.campo===o.srcElement.id);i.valor=o.srcElement.value,this.detsave.push(i),console.log(this.detsave)}searchData(o){this.dialog.open(St,{width:"700px",data:{nom_campo:o,sucursal:this.data.sucursal}}).afterClosed().subscribe({next:a=>{if(void 0!==a.mintr)if("NUMIDDESTINATARIO"===o)document.getElementById("NUMIDDESTINATARIO").value=a.mintr,document.getElementById("CODTIPOIDDESTINATARIO").value=a.tipodoc_mintr,document.getElementById("CODSEDEDESTINATARIO").value=a.sede_mintr,(r=this.data.detalle.find(s=>s.campo===o)).valor=a.mintr,this.detsave.push(r),(r=this.data.detalle.find(s=>"CODTIPOIDDESTINATARIO"===s.campo)).valor=a.tipodoc_mintr,this.detsave.push(r),(r=this.data.detalle.find(s=>"CODSEDEDESTINATARIO"===s.campo)).valor=a.sede_mintr,this.detsave.push(r),console.log(this.detsave);else if("NUMIDREMITENTE"===o)document.getElementById("NUMIDREMITENTE").value=a.mintr,document.getElementById("CODTIPOIDREMITENTE").value=a.tipodoc_mintr,document.getElementById("CODSEDEREMITENTE").value=a.sede_mintr;else if("NUMIDPROPIETARIO"===o){var r;document.getElementById("NUMIDPROPIETARIO").value=a.mintr,document.getElementById("CODTIPOIDPROPIETARIO").value=a.tipodoc_mintr,document.getElementById("CODSEDEPROPIETARIO").value=a.sede_mintr,(r=this.data.detalle.find(m=>m.campo===o)).valor=a.mintr,this.detsave.push(r),(r=this.data.detalle.find(m=>"CODTIPOIDPROPIETARIO"===m.campo)).valor=a.response.tipodoc_mintr,this.detsave.push(r),(r=this.data.detalle.find(m=>"CODSEDEPROPIETARIO"===m.campo)).valor=a.sede_mintr,this.detsave.push(r),console.log(this.detsave)}},error:a=>{},complete:()=>{}})}onSave(){0==this.detsave.length?I().fire({icon:"warning",title:"Registros sin cambios...",text:"No se realizaron cambios. Desea reprocesar el registro?",confirmButtonText:"SI",showCancelButton:!0,cancelButtonText:"NO"}).then(o=>{o.isConfirmed?this.rndcService.reSend(this.data.proceso_id).subscribe({next:()=>{this.toastr.success("Registro reprocesado")},error:i=>{this.toastr.error("Error:"+i.message)}}):(I().fire({text:"No se reproces\xf3",icon:"info"}),this.onClear())}):this.rndcService.saveRegister({registro:this.detsave,id:this.data.proceso_id}).subscribe({next:i=>{console.log(i),"S"===i.data.save&&(this.toastr.success(i.data.mensaje),I().fire({title:"Registro actualizado!",text:"\xbfDesea reprocesar?",confirmButtonText:"SI",showCancelButton:!0,cancelButtonText:"NO"}).then(a=>{a.isConfirmed?this.rndcService.reSend(this.data.proceso_id).subscribe({next:()=>{this.toastr.success("Registro reprocesado")},error:r=>{this.toastr.error("Error:"+r.data.error)}}):(I().fire({text:"No se reproces\xf3",icon:"info"}),this.onClear())}))},error:i=>{console.log(i)},complete:()=>{}})}onClear(){this.data.cabecera=[],this.data.detalle=[],this.data.proceso_id="",this.detsave=[]}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(d.so),t.Y36(d.uw),t.Y36(t.sBO),t.Y36(y),t.Y36(U._W),t.Y36(d.WI))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-editreg"]],decls:11,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["class","col",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close","click"],["mat-raised-button","","color","warn",3,"mat-dialog-close",4,"ngIf"],[1,"col"],[1,"row"],["appearance","outline"],["matInput","",3,"id","placeholder","readonly","change"],["class","ok","mat-button","",3,"click",4,"ngIf"],["mat-button","",1,"ok",3,"click"],[1,"material-icons"],["mat-raised-button","","color","warn",3,"mat-dialog-close"]],template:function(o,i){1&o&&(t.TgZ(0,"h1",0),t._uU(1,"Editar registro"),t.qZA(),t.TgZ(2,"div",1),t._UZ(3,"p"),t.YNc(4,Rt,7,5,"div",2),t.TgZ(5,"div",3)(6,"button",4),t._uU(7,"Cancelar"),t.qZA(),t.TgZ(8,"button",5),t.NdJ("click",function(){return i.onSave()}),t._uU(9,"Guardar"),t.qZA(),t.YNc(10,Yt,2,1,"button",6),t.qZA()()),2&o&&(t.xp6(4),t.Q6J("ngForOf",i.data.cabecera),t.xp6(2),t.Q6J("mat-dialog-close",!1),t.xp6(2),t.Q6J("mat-dialog-close",!0),t.xp6(2),t.Q6J("ngIf","3"===i.proceso||"38"===i.proceso||"83"===i.proceso))},directives:[d.uh,d.xY,Z.sg,T.KE,T.hX,A.Nt,Z.O5,x.lW,d.H8,d.ZT],styles:[".ok.mat-button[_ngcontent-%COMP%]{position:absolute;background-color:#7bff00b6;top:0;right:0;padding:5px;line-height:14px;min-width:auto}"]}),e})();function wt(e,n){1&e&&(t.TgZ(0,"th",13),t._uU(1," ID ERROR "),t.qZA())}function kt(e,n){if(1&e&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.id_error," ")}}function Bt(e,n){1&e&&(t.TgZ(0,"th",13),t._uU(1," CODIGO ERROR "),t.qZA())}function Mt(e,n){if(1&e&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.codigo_error," ")}}function Ft(e,n){1&e&&(t.TgZ(0,"th",13),t._uU(1," DESCRIPCION "),t.qZA())}function $t(e,n){if(1&e&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.mensaje_error," ")}}function Jt(e,n){1&e&&(t.TgZ(0,"th",13),t._uU(1," FECHA "),t.qZA())}function Pt(e,n){if(1&e&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.creation_date," ")}}function jt(e,n){1&e&&t._UZ(0,"tr",15)}function Lt(e,n){1&e&&t._UZ(0,"tr",16)}let Ht=(()=>{class e{constructor(o,i){this.dialogRef=o,this.data=i,this.displayedColumns=["iderr","coderr","descripcion","creation_date"],this.dataSource=i}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(d.so),t.Y36(d.WI))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-deterr"]],decls:20,vars:4,consts:[["mat-dialog-content",""],[1,"row"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","iderr"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","coderr"],["matColumnDef","descripcion"],["matColumnDef","creation_date"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-dialog-actions",""],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"table",2),t.ynx(3,3),t.YNc(4,wt,2,0,"th",4),t.YNc(5,kt,2,1,"td",5),t.BQk(),t.ynx(6,6),t.YNc(7,Bt,2,0,"th",4),t.YNc(8,Mt,2,1,"td",5),t.BQk(),t.ynx(9,7),t.YNc(10,Ft,2,0,"th",4),t.YNc(11,$t,2,1,"td",5),t.BQk(),t.ynx(12,8),t.YNc(13,Jt,2,0,"th",4),t.YNc(14,Pt,2,1,"td",5),t.BQk(),t.YNc(15,jt,1,0,"tr",9),t.YNc(16,Lt,1,0,"tr",10),t.qZA()(),t.TgZ(17,"div",11)(18,"button",12),t._uU(19,"Ok"),t.qZA()()()),2&o&&(t.xp6(2),t.Q6J("dataSource",i.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(2),t.Q6J("mat-dialog-close",!0))},directives:[d.xY,l.BZ,l.w1,l.fO,l.ge,l.Dz,l.ev,l.as,l.XQ,l.nj,l.Gk,d.H8,x.lW,d.ZT],styles:[""]}),e})();var B=c(4107),v=c(6856);function zt(e,n){1&e&&(t.TgZ(0,"mat-panel-description"),t._uU(1," Consulta de Registros de RNDC "),t.qZA())}function Wt(e,n){if(1&e&&(t.TgZ(0,"mat-option",77),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o),t.xp6(1),t.Oqu(o.vus_insden)}}function Gt(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",78)(1,"button",79),t.NdJ("click",function(){return t.CHM(o),t.oxw().onClear()}),t.TgZ(2,"span",4),t._uU(3," cached "),t.qZA(),t._uU(4," Limpiar panel "),t.qZA()()}}function Vt(e,n){1&e&&t._UZ(0,"mat-progress-bar",80)}function Xt(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1,"CLASIFICACION"),t.qZA())}function Kt(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.clasificacion," ")}}function te(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1,"TIPO"),t.qZA())}function ee(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.tipo," ")}}function oe(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," PLANILLA"),t.qZA())}function ne(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.cod_manifi," ")}}function ie(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1,"REMESA"),t.qZA())}function ae(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.remesa," ")}}function re(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," COD_CLI "),t.qZA())}function ce(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.cod_cli," ")}}function le(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," NOM_CLI "),t.qZA())}function se(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.nom_cli," ")}}function me(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," COD_ANALOGIA "),t.qZA())}function _e(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.cod_analogia," ")}}function de(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," COD_PTO "),t.qZA())}function pe(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.cod_pto," ")}}function ue(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," NOM_PTO "),t.qZA())}function fe(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.nom_pto," ")}}function he(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," COD_SUC "),t.qZA())}function ge(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.cod_suc," ")}}function Te(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," NOM_SUC "),t.qZA())}function Ce(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.nom_suc," ")}}function Ze(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," ENVIADO "),t.qZA())}function xe(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.enviado," ")}}function ve(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," COD_ERROR "),t.qZA())}function Ae(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.cod_error," ")}}function Ee(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," DESCRIPCION_DEL_ERROR "),t.qZA())}function De(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"button",84),t.NdJ("click",function(){t.CHM(o);const a=t.oxw().$implicit;return t.oxw().detalleError(a.id_otm)}),t._uU(1,"Ver detalle de errores "),t.qZA()}}function Ne(e,n){if(1&e&&(t.TgZ(0,"td",82),t.YNc(1,De,2,0,"button",83),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Q6J("ngIf","S"===o.codigo_error)}}function Ue(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," FEC_MANIFIESTO "),t.qZA())}function Ie(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.fecha_manifiesto," ")}}function be(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," FECHA_RESPUESTA_RNDC "),t.qZA())}function qe(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.fecha_registro_radicado," ")}}function Oe(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," FEC_REPORTE "),t.qZA())}function Se(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.fecha_reporte," ")}}function ye(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," LOC_ORI_PLA "),t.qZA())}function Re(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.loc_ori_pla," ")}}function Ye(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," lOC_DEST_PLA "),t.qZA())}function Qe(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.loc_dest_pla," ")}}function we(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," LOC_ORI_REM "),t.qZA())}function ke(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.loc_ori_rem," ")}}function Be(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," LOC_DEST_REM "),t.qZA())}function Me(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.loc_dest_rem," ")}}function Fe(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," NIT_ANALOGIA "),t.qZA())}function $e(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.nit_analogia," ")}}function Je(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," NIT_CONDUCTOR "),t.qZA())}function Pe(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.nit_conductor," ")}}function je(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," NOMBRE_CONDUCTOR "),t.qZA())}function Le(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.nombre_conductor," ")}}function He(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," NIT_PROPIETARIO "),t.qZA())}function ze(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.nit_propietario," ")}}function We(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," PROPIETARIO "),t.qZA())}function Ge(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.propietario," ")}}function Ve(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," NUM_DOC "),t.qZA())}function Xe(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.num_doc," ")}}function Ke(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," PESO_REMESA "),t.qZA())}function to(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.peso_remesa," ")}}function eo(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," PESO_MANIFIESTO "),t.qZA())}function oo(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.peso_manifiesto," ")}}function no(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," PLACA "),t.qZA())}function io(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.placa," ")}}function ao(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," PLACA_TRAILER "),t.qZA())}function ro(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.placa_trailer," ")}}function co(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," NUM_RADICADO "),t.qZA())}function lo(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.radicado," ")}}function so(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," SOURCE_LOCATION_GID "),t.qZA())}function mo(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.source_location_gid," ")}}function _o(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," TIPO_VIAJE "),t.qZA())}function po(e,n){if(1&e&&(t.TgZ(0,"td",82),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.tipo_viaje," ")}}function uo(e,n){1&e&&(t.TgZ(0,"th",81),t._uU(1," EDITAR "),t.qZA())}function fo(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"td",82)(1,"button",85),t.NdJ("click",function(){const r=t.CHM(o).$implicit;return t.oxw().editReg(r)}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()()()}}function ho(e,n){1&e&&t._UZ(0,"tr",86)}function go(e,n){1&e&&t._UZ(0,"tr",87)}const To=function(){return[5,10,25]},Co=[],Zo=[{path:"",component:Q},{path:"search",component:Q},{path:"errorlist",component:(()=>{class e{constructor(o,i,a,r,s){var m;this.rndcService=o,this.cdr=i,this.router=a,this.dialog=r,this.toastr=s,this.fecha=new Date,this.controlMan=new _.NI(""),this.controlRem=new _.NI(""),this.controlEst=new _.NI(""),this.controlFecIni=new _.NI(`${this.fecha.getFullYear()}-${("0"+(this.fecha.getMonth()+1)).slice(-2)}-${("0"+(this.fecha.getDay()+0)).slice(-2)}`),this.controlFecFin=new _.NI(`${this.fecha.getFullYear()}-${("0"+(this.fecha.getMonth()+1)).slice(-2)}-${("0"+(this.fecha.getDay()+7)).slice(-2)}`),this.controlSuc=new _.NI(""),this.controlType=new _.NI("3",[_.kI.required]),this.label="",this.progressbar=!1,this.datasource=new l.by(Co),this.agencies=null===(m=u.s.AUTH.getUser())||void 0===m?void 0:m.agencies,this.datos=[],this.Errores=[],this.displayedColumnsErr=["clasificacion","tipo","planilla","remesa","cod_cli","nom_cli","cod_analogia","cod_pto","nom_pto","cod_suc","nom_suc","enviado","cod_error","descripcion_del_error","fec_manifiesto","fec_reg_radicado","fec_reporte","loc_ori_pla","loc_dest_pla","loc_ori_rem","loc_dest_rem","nit_analogia","nit_conductor","nombre_conductor","nit_propietario","propietario","num_doc","peso_remesa","peso_manifiesto","placa","placa_trailer","num_radicado","source_location_gid","tipo_viaje","editar"],this.myFilter=p=>{const C=(p||new Date).getDay();return 0!==C&&6!==C}}ngAfterViewInit(){this.datasource.paginator=this.paginator,this.cdr.detectChanges()}ngOnInit(){}onSearch(){let o,i;this.label="Obteniendo resultados de la consulta",this.progressbar=!0,o="string"==typeof this.controlFecIni.value&&this.controlFecIni.value.includes("-")?this.controlFecIni.value:this.convertDate(this.controlFecIni.value),i="string"==typeof this.controlFecFin.value&&this.controlFecFin.value.includes("-")?this.controlFecFin.value:this.convertDate(this.controlFecFin.value),this.rndcService.getErrores(""===this.controlMan.value?null:this.controlMan.value,""===this.controlRem.value?null:this.controlRem.value,""===this.controlEst.value?"E":this.controlEst.value,""===o?"null":o,""===i?"null":i,""===this.controlSuc.value?null:this.controlSuc.value.vus_codage,""===this.controlType.value?null:this.controlType.value).subscribe({next:a=>{console.log(a),this.Errores=a.data.inferr,this.datasource.data=this.Errores},error:a=>{var r;console.log(a),this.toastr.warning(null===(r=null==a?void 0:a.error)||void 0===r?void 0:r.message),this.label="",this.progressbar=!1,this.cdr.detectChanges()},complete:()=>{this.label="",this.progressbar=!1,this.cdr.detectChanges()}})}onClear(){this.cdr.detectChanges(),this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/rndc/errorlist"])})}editReg(o){let i=o.id_otm,r=o.cod_suc,s=[],m=[];this.rndcService.getCabeza(o.proceso_id).subscribe({next:p=>{console.log(p),s=p.data.cabeza},error:p=>{}}),this.rndcService.getDetalle(i).subscribe({next:p=>{console.log(p),m=p.data.detalle},error:p=>{},complete:()=>{this.dialog.open(Qt,{width:"400px",data:{cabecera:s,detalle:m,proceso_id:i.toString(),sucursal:r}}).afterClosed().subscribe({next:C=>{s=[],m=[]},error:C=>{s=[],m=[]},complete:()=>{s=[],m=[]}})}})}detalleError(o){let i;this.rndcService.getDetalleError(o).subscribe({next:a=>{i=a.data.detalle},error:a=>{},complete:()=>{this.dialog.open(Ht,{data:i}).afterClosed().subscribe({next:r=>{},error:r=>{},complete:()=>{}})}})}convertDate(o){let i="",a=o.getDate().toString();a=+a<10?"0"+a:a;let r=(o.getMonth()+1).toString();return r=+r<10?"0"+r:r,i=`${o.getFullYear()}-${r}-${a}`,i}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(y),t.Y36(t.sBO),t.Y36(N.F0),t.Y36(d.uw),t.Y36(U._W))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-errorlist"]],viewQuery:function(o,i){if(1&o&&t.Gf(D.NW,5),2&o){let a;t.iGM(a=t.CRH())&&(i.paginator=a.first)}},decls:198,vars:19,consts:[[1,"container","text-center"],["multi",""],[4,"ngIf"],["mat-card-avatar",""],[1,"material-icons"],[2,"margin-top","30px"],[1,"container"],[1,"row"],[1,"col"],["appearance","outline"],["matInput","","placeholder","Numero manifiesto",3,"formControl"],["matInput","","placeholder","Remesa",3,"formControl"],["disableRipple","",3,"formControl"],["value","E"],["value","S"],["value","N"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[2,"padding-right","5px","padding-top","5px"],["value","1"],["value","2",2,"padding-left","3px"],["value","3",2,"padding-left","3px"],[3,"rangePicker"],["readonly","","matStartDate","","placeholder","Fecha inicial",3,"formControl"],["readonly","","matEndDate","","placeholder","Fecha final",3,"formControl"],["matSuffix","",3,"for"],["picker",""],[1,"col",2,"padding-left","35px"],["mat-raised-button","","color","primary",2,"height","40px",3,"click"],["class","col","style","padding-left: 50px;",4,"ngIf"],["mat-raised-button","",3,"click"],["width","30%","height","40px","src","https://img.icons8.com/color/48/export-excel.png","alt","export-excel"],[1,"text-center"],["mode","query",4,"ngIf"],[1,"container1"],["mat-table","","matTableExporter","",3,"dataSource"],["table","matTable","exporter","matTableExporter"],["matColumnDef","clasificacion"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","tipo"],["matColumnDef","planilla"],["matColumnDef","remesa"],["matColumnDef","cod_cli"],["matColumnDef","nom_cli"],["matColumnDef","cod_analogia"],["matColumnDef","cod_pto"],["matColumnDef","nom_pto"],["matColumnDef","cod_suc"],["matColumnDef","nom_suc"],["matColumnDef","enviado"],["matColumnDef","cod_error"],["matColumnDef","descripcion_del_error"],["matColumnDef","fec_manifiesto"],["matColumnDef","fec_reg_radicado"],["matColumnDef","fec_reporte"],["matColumnDef","loc_ori_pla"],["matColumnDef","loc_dest_pla"],["matColumnDef","loc_ori_rem"],["matColumnDef","loc_dest_rem"],["matColumnDef","nit_analogia"],["matColumnDef","nit_conductor"],["matColumnDef","nombre_conductor"],["matColumnDef","nit_propietario"],["matColumnDef","propietario"],["matColumnDef","num_doc"],["matColumnDef","peso_remesa"],["matColumnDef","peso_manifiesto"],["matColumnDef","placa"],["matColumnDef","placa_trailer"],["matColumnDef","num_radicado"],["matColumnDef","source_location_gid"],["matColumnDef","tipo_viaje"],["matColumnDef","editar"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSizeOptions"],[3,"value"],[1,"col",2,"padding-left","50px"],["mat-raised-button","","color","warn",2,"height","40px",3,"click"],["mode","query"],["mat-header-cell",""],["mat-cell",""],["mat-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(o,i){if(1&o){const a=t.EpF();t.TgZ(0,"div",0)(1,"mat-accordion",1)(2,"mat-expansion-panel")(3,"mat-expansion-panel-header")(4,"mat-panel-title"),t._uU(5," Errores RNDC "),t.qZA(),t.YNc(6,zt,2,0,"mat-panel-description",2),t.qZA(),t.TgZ(7,"mat-card")(8,"mat-card-header")(9,"div",3)(10,"span",4),t._uU(11," error "),t.qZA()(),t.TgZ(12,"mat-card-title"),t._uU(13,"Errores rndc"),t.qZA()(),t._UZ(14,"mat-divider"),t.TgZ(15,"mat-card-content",5)(16,"div",6)(17,"div",7)(18,"div",8)(19,"mat-form-field",9)(20,"mat-label"),t._uU(21," Manifiesto:"),t.qZA(),t._UZ(22,"input",10),t.qZA()(),t.TgZ(23,"div",8)(24,"mat-form-field",9)(25,"mat-label"),t._uU(26," Remesa:"),t.qZA(),t._UZ(27,"input",11),t.qZA()(),t.TgZ(28,"div",8)(29,"mat-form-field",9)(30,"mat-label"),t._uU(31,"Estado:"),t.qZA(),t.TgZ(32,"mat-select",12)(33,"mat-option",13),t._uU(34,"Enviado con error"),t.qZA(),t.TgZ(35,"mat-option",14),t._uU(36,"Enviado con radicado"),t.qZA(),t.TgZ(37,"mat-option",15),t._uU(38,"Procesando"),t.qZA()()()()(),t.TgZ(39,"div",7)(40,"div",8)(41,"mat-form-field",9)(42,"mat-label"),t._uU(43,"Seleccione Agencia"),t.qZA(),t.TgZ(44,"mat-select",16),t.YNc(45,Wt,2,2,"mat-option",17),t.qZA()()(),t.TgZ(46,"div",8)(47,"label",18),t._uU(48,"Elija una opci\xf3n:"),t.qZA(),t._UZ(49,"br"),t.TgZ(50,"mat-radio-group",16)(51,"mat-radio-button",19),t._uU(52,"Planilla"),t.qZA(),t.TgZ(53,"mat-radio-button",20),t._uU(54,"Remesa"),t.qZA(),t.TgZ(55,"mat-radio-button",21),t._uU(56,"Todo"),t.qZA()()(),t.TgZ(57,"div",8)(58,"mat-form-field",9)(59,"mat-label"),t._uU(60,"Seleccione rango de fecha"),t.qZA(),t.TgZ(61,"mat-date-range-input",22),t._UZ(62,"input",23)(63,"input",24),t.qZA(),t._UZ(64,"mat-datepicker-toggle",25)(65,"mat-date-range-picker",null,26),t.qZA()()(),t.TgZ(67,"div",7)(68,"div",27)(69,"div",7)(70,"div",8)(71,"button",28),t.NdJ("click",function(){return i.onSearch()}),t.TgZ(72,"span",4),t._uU(73," search "),t.qZA(),t._uU(74," Consultar "),t.qZA()(),t.YNc(75,Gt,5,0,"div",29),t.TgZ(76,"div",8)(77,"button",30),t.NdJ("click",function(){return t.CHM(a),t.MAs(89).exportTable("xlsx")}),t._UZ(78,"img",31),t._uU(79," Exportar "),t.qZA()()()()()(),t._UZ(80,"br")(81,"br"),t.qZA()()()(),t.TgZ(82,"div",32)(83,"h2"),t._uU(84),t.qZA(),t.YNc(85,Vt,1,0,"mat-progress-bar",33),t.qZA(),t.TgZ(86,"div",34)(87,"table",35,36),t.ynx(90,37),t.YNc(91,Xt,2,0,"th",38),t.YNc(92,Kt,2,1,"td",39),t.BQk(),t.ynx(93,40),t.YNc(94,te,2,0,"th",38),t.YNc(95,ee,2,1,"td",39),t.BQk(),t.ynx(96,41),t.YNc(97,oe,2,0,"th",38),t.YNc(98,ne,2,1,"td",39),t.BQk(),t.ynx(99,42),t.YNc(100,ie,2,0,"th",38),t.YNc(101,ae,2,1,"td",39),t.BQk(),t.ynx(102,43),t.YNc(103,re,2,0,"th",38),t.YNc(104,ce,2,1,"td",39),t.BQk(),t.ynx(105,44),t.YNc(106,le,2,0,"th",38),t.YNc(107,se,2,1,"td",39),t.BQk(),t.ynx(108,45),t.YNc(109,me,2,0,"th",38),t.YNc(110,_e,2,1,"td",39),t.BQk(),t.ynx(111,46),t.YNc(112,de,2,0,"th",38),t.YNc(113,pe,2,1,"td",39),t.BQk(),t.ynx(114,47),t.YNc(115,ue,2,0,"th",38),t.YNc(116,fe,2,1,"td",39),t.BQk(),t.ynx(117,48),t.YNc(118,he,2,0,"th",38),t.YNc(119,ge,2,1,"td",39),t.BQk(),t.ynx(120,49),t.YNc(121,Te,2,0,"th",38),t.YNc(122,Ce,2,1,"td",39),t.BQk(),t.ynx(123,50),t.YNc(124,Ze,2,0,"th",38),t.YNc(125,xe,2,1,"td",39),t.BQk(),t.ynx(126,51),t.YNc(127,ve,2,0,"th",38),t.YNc(128,Ae,2,1,"td",39),t.BQk(),t.ynx(129,52),t.YNc(130,Ee,2,0,"th",38),t.YNc(131,Ne,2,1,"td",39),t.BQk(),t.ynx(132,53),t.YNc(133,Ue,2,0,"th",38),t.YNc(134,Ie,2,1,"td",39),t.BQk(),t.ynx(135,54),t.YNc(136,be,2,0,"th",38),t.YNc(137,qe,2,1,"td",39),t.BQk(),t.ynx(138,55),t.YNc(139,Oe,2,0,"th",38),t.YNc(140,Se,2,1,"td",39),t.BQk(),t.ynx(141,56),t.YNc(142,ye,2,0,"th",38),t.YNc(143,Re,2,1,"td",39),t.BQk(),t.ynx(144,57),t.YNc(145,Ye,2,0,"th",38),t.YNc(146,Qe,2,1,"td",39),t.BQk(),t.ynx(147,58),t.YNc(148,we,2,0,"th",38),t.YNc(149,ke,2,1,"td",39),t.BQk(),t.ynx(150,59),t.YNc(151,Be,2,0,"th",38),t.YNc(152,Me,2,1,"td",39),t.BQk(),t.ynx(153,60),t.YNc(154,Fe,2,0,"th",38),t.YNc(155,$e,2,1,"td",39),t.BQk(),t.ynx(156,61),t.YNc(157,Je,2,0,"th",38),t.YNc(158,Pe,2,1,"td",39),t.BQk(),t.ynx(159,62),t.YNc(160,je,2,0,"th",38),t.YNc(161,Le,2,1,"td",39),t.BQk(),t.ynx(162,63),t.YNc(163,He,2,0,"th",38),t.YNc(164,ze,2,1,"td",39),t.BQk(),t.ynx(165,64),t.YNc(166,We,2,0,"th",38),t.YNc(167,Ge,2,1,"td",39),t.BQk(),t.ynx(168,65),t.YNc(169,Ve,2,0,"th",38),t.YNc(170,Xe,2,1,"td",39),t.BQk(),t.ynx(171,66),t.YNc(172,Ke,2,0,"th",38),t.YNc(173,to,2,1,"td",39),t.BQk(),t.ynx(174,67),t.YNc(175,eo,2,0,"th",38),t.YNc(176,oo,2,1,"td",39),t.BQk(),t.ynx(177,68),t.YNc(178,no,2,0,"th",38),t.YNc(179,io,2,1,"td",39),t.BQk(),t.ynx(180,69),t.YNc(181,ao,2,0,"th",38),t.YNc(182,ro,2,1,"td",39),t.BQk(),t.ynx(183,70),t.YNc(184,co,2,0,"th",38),t.YNc(185,lo,2,1,"td",39),t.BQk(),t.ynx(186,71),t.YNc(187,so,2,0,"th",38),t.YNc(188,mo,2,1,"td",39),t.BQk(),t.ynx(189,72),t.YNc(190,_o,2,0,"th",38),t.YNc(191,po,2,1,"td",39),t.BQk(),t.ynx(192,73),t.YNc(193,uo,2,0,"th",38),t.YNc(194,fo,4,0,"td",39),t.BQk(),t.YNc(195,ho,1,0,"tr",74),t.YNc(196,go,1,0,"tr",75),t.qZA(),t._UZ(197,"mat-paginator",76),t.qZA()()}if(2&o){const a=t.MAs(66);t.xp6(6),t.Q6J("ngIf","1"===i.controlType.value),t.xp6(16),t.Q6J("formControl",i.controlMan),t.xp6(5),t.Q6J("formControl",i.controlRem),t.xp6(5),t.Q6J("formControl",i.controlEst),t.xp6(12),t.Q6J("formControl",i.controlSuc),t.xp6(1),t.Q6J("ngForOf",i.agencies),t.xp6(5),t.Q6J("formControl",i.controlType),t.xp6(11),t.Q6J("rangePicker",a),t.xp6(1),t.Q6J("formControl",i.controlFecIni),t.xp6(1),t.Q6J("formControl",i.controlFecFin),t.xp6(1),t.Q6J("for",a),t.xp6(11),t.Q6J("ngIf",i.controlMan.value||i.controlRem.value||i.controlEst.value),t.xp6(9),t.Oqu(i.label),t.xp6(1),t.Q6J("ngIf",i.progressbar),t.xp6(2),t.Q6J("dataSource",i.datasource),t.xp6(108),t.Q6J("matHeaderRowDef",i.displayedColumnsErr),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumnsErr),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(18,To))}},directives:[h.pp,h.ib,h.yz,h.yK,Z.O5,h.u4,f.a8,f.dk,f.kc,f.n5,q.d,f.dn,T.KE,T.hX,A.Nt,_.Fj,_.JJ,_.oH,B.gD,S.ey,Z.sg,E.VQ,E.U0,v.wx,v.zY,v.By,v.nW,T.R9,v._g,x.lW,R.pW,l.BZ,w.jt,l.w1,l.fO,l.ge,l.Dz,l.ev,b.Hw,l.as,l.XQ,l.nj,l.Gk,D.NW],styles:["mat-select[_ngcontent-%COMP%]{align-items:center;vertical-align:middle}table[_ngcontent-%COMP%]{width:100%;margin:1rem auto}.container1[_ngcontent-%COMP%]{max-width:1300px;overflow-x:scroll}.container1[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;Scrollbar-width:auto;height:20px}.container1[_ngcontent-%COMP%]::-webkit-scrollbar-button:increment, .contenedor[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}.containe1[_ngcontent-%COMP%]::-webkit-scrollbar:horizontal{width:1300px;height:100px}.container1[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#98999b;border-radius:40px;border:2px solid #f1f2f3;width:100px}.container1[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:100px}.mat-row[_ngcontent-%COMP%]{height:auto}.mat-cell[_ngcontent-%COMP%]{text-align:center;font-size:12px}.mat-header-cell[_ngcontent-%COMP%]{background-color:#4682b4;color:#f5f5f5;text-align:center;min-width:120px;min-height:45px;font-size:12px}"]}),e})()}];let xo=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[N.Bz.forChild(Zo)],N.Bz]}),e})();var vo=c(7248);let Ao=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[Z.ez,xo,x.ot,f.QW,E.Fk,_.UX,A.c,O.Bb,q.t,R.Cv,h.To,l.p0,B.LD,T.lN,v.FA,S.XK,b.Ps,d.Is,b.Ps,vo.JB,D.TU]]}),e})()}}]);